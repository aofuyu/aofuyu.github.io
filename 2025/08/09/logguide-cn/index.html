<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>日志行与触发器（Log Lines and Triggers） | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="本文档旨在为希望编写FF14触发器的用户提供全面的日志行信息参考。 本指南目前的版本更新至：  FF14 Patch 7.16 FFXIV Plugin Patch 2.7.2.3 OverlayPlugin Patch 0.19.43  TOC  TOC 数据流 在战斗结束后查看日志 导入旧的战斗记录 导入ffxivmon   术语索引 网络数据（Network Data） 网络日志行">
<meta property="og:type" content="article">
<meta property="og:title" content="日志行与触发器（Log Lines and Triggers）">
<meta property="og:url" content="https://aofuyu.github.io/2025/08/09/logguide-cn/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="本文档旨在为希望编写FF14触发器的用户提供全面的日志行信息参考。 本指南目前的版本更新至：  FF14 Patch 7.16 FFXIV Plugin Patch 2.7.2.3 OverlayPlugin Patch 0.19.43  TOC  TOC 数据流 在战斗结束后查看日志 导入旧的战斗记录 导入ffxivmon   术语索引 网络数据（Network Data） 网络日志行">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/dataflow.svg">
<meta property="og:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/logguide_viewlogs.png">
<meta property="og:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/logguide_import.png">
<meta property="og:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/logguide_dumpnetworkdata.png">
<meta property="og:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/logguide_ffxivmon_import.png">
<meta property="og:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/logguide_ffxivmon.png">
<meta property="og:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/logguide_networkdata.png">
<meta property="og:image" content="https://aofuyu.github.io/images/logguide_dumpnetworkdata.png">
<meta property="article:published_time" content="2025-08-08T16:13:53.000Z">
<meta property="article:modified_time" content="2025-08-08T18:54:16.039Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Final Fantasy XIV, OverlayPlugin, Cactbot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://aofuyu.github.io/2025/08/09/logguide-cn/dataflow.svg">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://aofuyu.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-logguide-cn" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/09/logguide-cn/" class="article-date">
  <time class="dt-published" datetime="2025-08-08T16:13:53.000Z" itemprop="datePublished">2025-08-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      日志行与触发器（Log Lines and Triggers）
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!-- Disable MD024, duplicate headers are under different subheaders -->
<!-- Disable MD033, no inline HTML for anchors on headings and diagrams -->
<!-- markdownlint-disable MD024 MD033 -->


<p>本文档旨在为希望编写FF14触发器的用户提供全面的日志行信息参考。</p>
<p>本指南目前的版本更新至：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://na.finalfantasyxiv.com/lodestone/special/patchnote_log/">FF14</a> Patch 7.16</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ravahn/FFXIV_ACT_Plugin/releases">FFXIV Plugin</a> Patch 2.7.2.3</li>
<li><a target="_blank" rel="noopener" href="https://github.com/OverlayPlugin/OverlayPlugin/releases">OverlayPlugin</a> Patch 0.19.43</li>
</ul>
<h2 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h2><!-- AUTO-GENERATED-CONTENT:START (TOC) -->
<ul>
<li><a href="#toc">TOC</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E6%B5%81">数据流</a><ul>
<li><a href="#%E5%9C%A8%E6%88%98%E6%96%97%E7%BB%93%E6%9D%9F%E5%90%8E%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97">在战斗结束后查看日志</a></li>
<li><a href="#%E5%AF%BC%E5%85%A5%E6%97%A7%E7%9A%84%E6%88%98%E6%96%97%E8%AE%B0%E5%BD%95">导入旧的战斗记录</a></li>
<li><a href="#%E5%AF%BC%E5%85%A5ffxivmon">导入ffxivmon</a></li>
</ul>
</li>
<li><a href="#%E6%9C%AF%E8%AF%AD%E7%B4%A2%E5%BC%95">术语索引</a><ul>
<li><a href="#%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AEnetwork-data">网络数据（Network Data）</a></li>
<li><a href="#%E7%BD%91%E7%BB%9C%E6%97%A5%E5%BF%97%E8%A1%8Cnetwork-log-lines">网络日志行（Network Log Lines）</a></li>
<li><a href="#%E8%A7%A3%E6%9E%90%E6%97%A5%E5%BF%97%E8%A1%8Cparsed-log-lines">解析日志行（Parsed Log Lines）</a></li>
<li><a href="#%E6%B8%B8%E6%88%8F%E6%97%A5%E5%BF%97%E8%A1%8Cgame-log-lines">游戏日志行（Game Log Lines）</a></li>
<li><a href="#%E5%AF%B9%E8%B1%A1%E8%A7%92%E8%89%B2%E5%AE%9E%E4%BD%93%E7%94%9F%E7%89%A9%E6%88%98%E6%96%97%E6%88%90%E5%91%98objectactorentitymobcombatant">对象&#x2F;角色&#x2F;实体&#x2F;生物&#x2F;战斗成员（Object&#x2F;Actor&#x2F;Entity&#x2F;Mob&#x2F;Combatant）</a></li>
<li><a href="#%E5%AF%B9%E8%B1%A1idobject-id">对象ID（Object ID）</a></li>
<li><a href="#%E8%83%BD%E5%8A%9Bidability-id">能力ID（Ability ID）</a></li>
<li><a href="#%E7%8A%B6%E6%80%81%E6%95%88%E6%9E%9Cidstatus-effect-id">状态效果ID（Status Effect ID）</a></li>
<li><a href="#%E5%89%AF%E6%9C%AC%E5%86%85%E5%AE%B9idinstance-content-id">副本内容ID（Instance Content ID）</a></li>
</ul>
</li>
<li><a href="#ffxiv%E8%A7%A3%E6%9E%90%E6%8F%92%E4%BB%B6%E6%97%A5%E5%BF%97%E8%A1%8Cffxiv-plugin-log-lines">FFXIV解析插件日志行（FFXIV Plugin Log Lines）</a><ul>
<li><a href="#line-00-0x00-%E6%97%A5%E5%BF%97%E8%A1%8Clogline">Line 00 (0x00): 日志行（LogLine）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B">示例</a></li>
<li><a href="#%E4%B8%8D%E8%A6%81%E9%92%88%E5%AF%B9%E6%B8%B8%E6%88%8F%E6%97%A5%E5%BF%97%E8%A1%8C%E7%BC%96%E5%86%99%E8%A7%A6%E5%8F%91%E5%99%A8">不要针对游戏日志行编写触发器</a></li>
</ul>
</li>
<li><a href="#line-01-0x01-%E5%8C%BA%E5%9F%9F%E5%8F%98%E6%9B%B4changezone">Line 01 (0x01): 区域变更（ChangeZone）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-1">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-1">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-1">示例</a></li>
</ul>
</li>
<li><a href="#line-02-0x02-%E4%B8%BB%E8%A6%81%E7%8E%A9%E5%AE%B6%E5%8F%98%E6%9B%B4changeprimaryplayer">Line 02 (0x02): 主要玩家变更（ChangePrimaryPlayer）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-2">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-2">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-2">示例</a></li>
</ul>
</li>
<li><a href="#line-03-0x03-%E6%B7%BB%E5%8A%A0%E6%88%98%E6%96%97%E6%88%90%E5%91%98addcombatant">Line 03 (0x03): 添加战斗成员（AddCombatant）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-3">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-3">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-3">示例</a></li>
</ul>
</li>
<li><a href="#line-04-0x04-%E7%A7%BB%E9%99%A4%E6%88%98%E6%96%97%E6%88%90%E5%91%98removecombatant">Line 04 (0x04): 移除战斗成员（RemoveCombatant）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-4">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-4">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-4">示例</a></li>
</ul>
</li>
<li><a href="#line-11-0x0b-%E5%B0%8F%E9%98%9F%E5%88%97%E8%A1%A8partylist">Line 11 (0x0B): 小队列表（PartyList）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-5">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-5">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-5">示例</a></li>
</ul>
</li>
<li><a href="#line-12-0x0c-%E7%8E%A9%E5%AE%B6%E7%8A%B6%E6%80%81playerstats">Line 12 (0x0C): 玩家状态（PlayerStats）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-6">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-6">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-6">示例</a></li>
</ul>
</li>
<li><a href="#line-20-0x14-%E7%BD%91%E7%BB%9C-%E5%BC%80%E5%A7%8B%E5%92%8F%E5%94%B1networkstartscasting">Line 20 (0x14): 网络-开始咏唱（NetworkStartsCasting）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-7">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-7">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-7">示例</a></li>
<li><a href="#%E5%92%8F%E5%94%B1%E6%97%B6%E9%97%B4">咏唱时间</a></li>
</ul>
</li>
<li><a href="#line-21-0x15-%E7%BD%91%E7%BB%9C-%E8%83%BD%E5%8A%9Bnetworkability">Line 21 (0x15): 网络-能力（NetworkAbility）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-8">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-8">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-8">示例</a></li>
<li><a href="#%E5%8A%A8%E4%BD%9C%E6%95%88%E6%9E%9C">动作效果</a></li>
<li><a href="#%E6%95%88%E6%9E%9C%E7%B1%BB%E5%9E%8B">效果类型</a></li>
<li><a href="#%E8%83%BD%E5%8A%9B%E4%BC%A4%E5%AE%B3">能力伤害</a></li>
<li><a href="#%E5%8F%8D%E5%87%BB%E4%BC%A4%E5%AE%B3">反击伤害</a></li>
<li><a href="#%E7%8A%B6%E6%80%81%E6%95%88%E6%9E%9C">状态效果</a></li>
<li><a href="#%E8%83%BD%E5%8A%9B%E7%A4%BA%E4%BE%8B">能力示例</a></li>
</ul>
</li>
<li><a href="#line-22-0x16-%E7%BD%91%E7%BB%9C-aoe%E8%83%BD%E5%8A%9Bnetworkaoeability">Line 22 (0x16): 网络-AOE能力（NetworkAOEAbility）</a></li>
<li><a href="#line-23-0x17-%E7%BD%91%E7%BB%9C-%E5%8F%96%E6%B6%88%E8%83%BD%E5%8A%9Bnetworkcancelability">Line 23 (0x17): 网络-取消能力（NetworkCancelAbility）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-9">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-9">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-9">示例</a></li>
</ul>
</li>
<li><a href="#line-24-0x18-%E7%BD%91%E7%BB%9C-dotnetworkdot">Line 24 (0x18): 网络-DoT（NetworkDoT）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-10">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-10">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-10">示例</a></li>
</ul>
</li>
<li><a href="#line-25-0x19-%E7%BD%91%E7%BB%9C-%E6%AD%BB%E4%BA%A1networkdeath">Line 25 (0x19): 网络-死亡（NetworkDeath）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-11">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-11">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-11">示例</a></li>
</ul>
</li>
<li><a href="#line-26-0x1a-%E7%BD%91%E7%BB%9C-buffnetworkbuff">Line 26 (0x1A): 网络-Buff（NetworkBuff）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-12">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-12">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-12">示例</a></li>
<li><a href="#%E5%88%B7%E6%96%B0%E8%A6%86%E7%9B%96%E5%92%8C%E6%AD%BB%E4%BA%A1">刷新，覆盖和死亡</a></li>
</ul>
</li>
<li><a href="#line-27-0x1b-%E7%BD%91%E7%BB%9C-%E7%9B%AE%E6%A0%87%E5%9B%BE%E6%A0%87%E7%82%B9%E5%90%8D%E6%A0%87%E8%AE%B0networktargeticon-head-marker">Line 27 (0x1B): 网络-目标图标（点名标记）（NetworkTargetIcon (Head Marker)）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-13">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-13">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-13">示例</a></li>
<li><a href="#%E7%82%B9%E5%90%8D%E6%A0%87%E8%AE%B0id">点名标记ID</a></li>
<li><a href="#%E5%81%8F%E7%A7%BB%E6%A0%87%E8%AF%86offset-headmarkers">偏移标识（Offset Headmarkers）</a></li>
</ul>
</li>
<li><a href="#line-28-0x1c-%E7%BD%91%E7%BB%9C-%E5%89%AF%E6%9C%AC%E6%A0%87%E8%AE%B0networkraidmarker-floor-marker">Line 28 (0x1C): 网络-副本标记（NetworkRaidMarker (Floor Marker)）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-14">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-14">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-14">示例</a></li>
<li><a href="#%E5%9C%BA%E5%9C%B0%E6%A0%87%E8%AE%B0%E4%BB%A3%E7%A0%81">场地标记代码</a></li>
</ul>
</li>
<li><a href="#line-29-0x1d-%E7%BD%91%E7%BB%9C-%E7%9B%AE%E6%A0%87%E6%A0%87%E8%AE%B0networktargetmarker-player-marker">Line 29 (0x1D): 网络-目标标记（NetworkTargetMarker (Player Marker)）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-15">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-15">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-15">示例</a></li>
<li><a href="#%E7%9B%AE%E6%A0%87%E6%A0%87%E8%AE%B0%E4%BB%A3%E7%A0%81">目标标记代码</a></li>
</ul>
</li>
<li><a href="#line-30-0x1e-%E7%BD%91%E7%BB%9C-%E7%A7%BB%E9%99%A4buffnetworkbuffremove">Line 30 (0x1E): 网络-移除Buff（NetworkBuffRemove）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-16">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-16">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-16">示例</a></li>
</ul>
</li>
<li><a href="#line-31-0x1f-%E7%BD%91%E7%BB%9C-%E9%87%8F%E8%B0%B1networkgauge">Line 31 (0x1F): 网络-量谱（NetworkGauge）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-17">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-17">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-17">示例</a></li>
</ul>
</li>
<li><a href="#line-32-0x20-%E7%BD%91%E7%BB%9C-%E4%B8%96%E7%95%8Cnetworkworld">Line 32 (0x20): 网络-世界（NetworkWorld）</a></li>
<li><a href="#line-33-0x21-%E7%BD%91%E7%BB%9C-6dnetwork6d-actor-control">Line 33 (0x21): 网络-6D（Network6D (Actor Control)）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-18">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-18">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-18">示例</a></li>
</ul>
</li>
<li><a href="#line-34-0x22-%E7%BD%91%E7%BB%9C-%E5%90%8D%E7%A7%B0%E5%88%87%E6%8D%A2networknametoggle">Line 34 (0x22): 网络-名称切换（NetworkNameToggle）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-19">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-19">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-19">示例</a></li>
</ul>
</li>
<li><a href="#line-35-0x23-%E7%BD%91%E7%BB%9C-%E8%BF%9E%E7%BA%BFnetworktether">Line 35 (0x23): 网络-连线（NetworkTether）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-20">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-20">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-20">示例</a></li>
</ul>
</li>
<li><a href="#line-36-0x24-%E6%9E%81%E9%99%90%E6%8A%80limitbreak">Line 36 (0x24): 极限技（LimitBreak）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-21">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-21">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-21">示例</a></li>
</ul>
</li>
<li><a href="#line-37-0x25-%E7%BD%91%E7%BB%9C-%E5%8A%A8%E4%BD%9C%E5%90%8C%E6%AD%A5networkactionsync">Line 37 (0x25): 网络-动作同步（NetworkActionSync）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-22">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-22">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-22">示例</a></li>
<li><a href="#%E8%83%BD%E5%8A%9B%E7%BB%93%E7%AE%97%E8%BF%BD%E8%B8%AA">能力结算追踪</a></li>
<li><a href="#hp%E5%80%BC">HP值</a></li>
<li><a href="#%E7%9B%BE%E5%80%BC">盾值（%）</a></li>
<li><a href="#mp%E5%80%BC">MP值</a></li>
</ul>
</li>
<li><a href="#line-38-0x26-%E7%BD%91%E7%BB%9C-%E7%8A%B6%E6%80%81%E6%95%88%E6%9E%9Cnetworkstatuseffects">Line 38 (0x26): 网络-状态效果（NetworkStatusEffects）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-23">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-23">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-23">示例</a></li>
<li><a href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5">数据字段</a></li>
</ul>
</li>
<li><a href="#line-39-0x27-%E7%BD%91%E7%BB%9C-%E6%9B%B4%E6%96%B0hpnetworkupdatehp">Line 39 (0x27): 网络-更新HP（NetworkUpdateHP）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-24">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-24">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-24">示例</a></li>
</ul>
</li>
<li><a href="#line-40-0x28-%E5%9C%B0%E5%9B%BEmap">Line 40 (0x28): 地图（Map）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-25">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-25">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-25">示例</a></li>
</ul>
</li>
<li><a href="#line-41-0x29-%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E6%B6%88%E6%81%AFsystemlogmessage">Line 41 (0x29): 系统日志消息（SystemLogMessage）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-26">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-26">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-26">示例</a></li>
</ul>
</li>
<li><a href="#line-42-0x2a-%E7%8A%B6%E6%80%81%E5%88%97%E8%A1%A83statuslist3">Line 42 (0x2A): 状态列表3（StatusList3）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-27">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-27">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-27">示例</a></li>
</ul>
</li>
<li><a href="#line-251-0xfb-%E8%B0%83%E8%AF%95debug">Line 251 (0xFB): 调试（Debug）</a></li>
<li><a href="#line-252-0xfc-%E6%95%B0%E6%8D%AE%E5%8C%85%E8%BD%AC%E5%82%A8packetdump">Line 252 (0xFC): 数据包转储（PacketDump）</a></li>
<li><a href="#line-253-0xfd-%E7%89%88%E6%9C%ACversion">Line 253 (0xFD): 版本（Version）</a></li>
<li><a href="#line-254-0xfe-%E9%94%99%E8%AF%AFerror">Line 254 (0xFE): 错误（Error）</a></li>
</ul>
</li>
<li><a href="#overlayplugin%E6%97%A5%E5%BF%97%E8%A1%8Coverlayplugin-log-lines">OverlayPlugin日志行（OverlayPlugin Log Lines）</a><ul>
<li><a href="#line-256-0x100-%E6%97%A5%E5%BF%97%E8%A1%8C%E6%B3%A8%E5%86%8Clineregistration">Line 256 (0x100): 日志行注册（LineRegistration）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-28">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-28">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-28">示例</a></li>
</ul>
</li>
<li><a href="#line-257-0x101-%E5%9C%B0%E5%9B%BE%E6%95%88%E6%9E%9Cmapeffect">Line 257 (0x101): 地图效果（MapEffect）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-29">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-29">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-29">示例</a></li>
</ul>
</li>
<li><a href="#line-258-0x102-fate%E7%AE%A1%E7%90%86fatedirector">Line 258 (0x102): Fate管理（FateDirector）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-30">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-30">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-30">示例</a></li>
</ul>
</li>
<li><a href="#line-259-0x103-ce%E7%AE%A1%E7%90%86cedirector">Line 259 (0x103): CE管理（CEDirector）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-31">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-31">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-31">示例</a></li>
</ul>
</li>
<li><a href="#line-260-0x104-%E6%88%98%E6%96%97%E4%B8%ADincombat">Line 260 (0x104): 战斗中（InCombat）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-32">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-32">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-32">示例</a></li>
</ul>
</li>
<li><a href="#line-261-0x105-%E6%88%98%E6%96%97%E5%8D%95%E4%BD%8D%E5%86%85%E5%AD%98combatantmemory">Line 261 (0x105): 战斗单位内存（CombatantMemory）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-33">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-33">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-33">示例</a></li>
</ul>
</li>
<li><a href="#line-262-0x106-rsvrsvdata">Line 262 (0x106): RSV（RSVData）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-34">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-34">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-34">示例</a></li>
</ul>
</li>
<li><a href="#line-263-0x107-%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8-%E9%A2%9D%E5%A4%96startsusingextra">Line 263 (0x107): 开始使用-额外（StartsUsingExtra）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-35">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-35">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-35">示例</a></li>
</ul>
</li>
<li><a href="#line-264-0x108-%E8%83%BD%E5%8A%9B-%E9%A2%9D%E5%A4%96abilityextra">Line 264 (0x108): 能力-额外（AbilityExtra）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-36">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-36">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-36">示例</a></li>
</ul>
</li>
<li><a href="#line-265-0x109-%E4%BB%BB%E5%8A%A1%E6%90%9C%E7%B4%A2%E5%99%A8%E8%AE%BE%E5%AE%9Acontentfindersettings">Line 265 (0x109): 任务搜索器设定（ContentFinderSettings）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-37">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-37">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-37">示例</a></li>
</ul>
</li>
<li><a href="#line-266-0x10a-npc%E5%96%8A%E8%AF%9Dnpcyell">Line 266 (0x10A): NPC喊话（NpcYell）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-38">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-38">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-38">示例</a></li>
</ul>
</li>
<li><a href="#line-267-0x10b-%E6%88%98%E6%96%97%E5%AF%B9%E8%AF%9D2battletalk2">Line 267 (0x10B): 战斗对话2（BattleTalk2）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-39">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-39">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-39">示例</a></li>
</ul>
</li>
<li><a href="#line-268-0x10c-%E6%88%98%E6%96%97%E5%80%92%E8%AE%A1%E6%97%B6countdown">Line 268 (0x10C): 战斗倒计时（Countdown）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-40">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-40">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-40">示例</a></li>
</ul>
</li>
<li><a href="#line-269-0x10d-%E5%80%92%E8%AE%A1%E6%97%B6%E5%8F%96%E6%B6%88countdowncancel">Line 269 (0x10D): 倒计时取消（CountdownCancel）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-41">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-41">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-41">示例</a></li>
</ul>
</li>
<li><a href="#line-270-0x10e-%E8%A7%92%E8%89%B2%E7%A7%BB%E5%8A%A8actormove">Line 270 (0x10E): 角色移动（ActorMove）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-42">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-42">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-42">示例</a></li>
</ul>
</li>
<li><a href="#line-271-0x10f-%E8%A7%92%E8%89%B2%E4%BD%8D%E7%BD%AE%E8%AE%BE%E5%AE%9Aactorsetpos">Line 271 (0x10F): 角色位置设定（ActorSetPos）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-43">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-43">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-43">示例</a></li>
</ul>
</li>
<li><a href="#line-272-0x110-npc%E7%94%9F%E6%88%90-%E9%A2%9D%E5%A4%96spawnnpcextra">Line 272 (0x110): NPC生成-额外（SpawnNpcExtra）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-44">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-44">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-44">示例</a></li>
</ul>
</li>
<li><a href="#line-273-0x111-%E8%A7%92%E8%89%B2%E6%8E%A7%E5%88%B6-%E9%A2%9D%E5%A4%96actorcontrolextra">Line 273 (0x111): 角色控制-额外（ActorControlExtra）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-45">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-45">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-45">示例</a></li>
</ul>
</li>
<li><a href="#line-274-0x112-%E8%A7%92%E8%89%B2%E8%87%AA%E8%BA%AB%E6%8E%A7%E5%88%B6-%E9%A2%9D%E5%A4%96actorcontrolselfextra">Line 274 (0x112): 角色自身控制-额外（ActorControlSelfExtra）</a><ul>
<li><a href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84-46">日志结构</a></li>
<li><a href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-46">正则表达式</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B-46">示例</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- AUTO-GENERATED-CONTENT:END -->

<h2 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h2><p><img src="/2025/08/09/logguide-cn/dataflow.svg" alt="Alt text"></p>
<details>
<summary></summary>
data_flow
  digraph G {
    size ="4,4";
    ff14 [label="FF14服务器"]
    ff14 -> ACT [label="   网络数据"]
    network [label="网络日志文件"]
    ACT [label="ACT + 解析插件",shape=box,penwidth=3]
    ACT -> network [label="  写入本地"]
    fflogs
    network -> fflogs [label="上传"]
    network -> ffxivmon [label=" 导入"]
    network -> ACT [label="导入"]
    network -> util [label="处理"]
    util [label="cactbot 工具脚本"]
    plugins [label="触发器、解析插件"]
    opclients [label="悬浮窗和其他客户端"]
    ACT -> plugins [label="  解析日志行  "]
    ACT -> plugins [label="   网络日志行 "]
    plugins -> opclients [label="OverlayPlugin WebSocket"]
  }
data_flow
</details>

<h3 id="在战斗结束后查看日志"><a href="#在战斗结束后查看日志" class="headerlink" title="在战斗结束后查看日志"></a>在战斗结束后查看日志</h3><p>如果战斗的时候打开了ACT，它会自动生成日志文件(logs)。<br>这些文件会被修剪，形成从战斗开始直到战斗结束的日志。</p>
<p>如果要查看这些日志的解析版本，点击上面的<strong>Main</strong>标签，展开想看的副本区域，<br>右键点击具体战斗，然后选择<strong>View Logs</strong>。</p>
<p><img src="/2025/08/09/logguide-cn/logguide_viewlogs.png" alt="view logs screenshot"></p>
<p><strong>All</strong>条目包含该区域内的所有战斗记录，但无法直接查看，你需要查看单独的战斗记录。</p>
<p>弹出的窗口显示已解析的日志行，可以用来创建触发器；这是寻找对应文本以编写触发器的一种方式。</p>
<h3 id="导入旧的战斗记录"><a href="#导入旧的战斗记录" class="headerlink" title="导入旧的战斗记录"></a>导入旧的战斗记录</h3><p>要在中途关闭ACT的情况下查看之前的战斗记录，或者通过别人发给你的日志编写触发器，点击<strong>Import&#x2F;Export</strong>标签，然后点击<strong>Import a Log File</strong>，点击<strong>Select File…</strong> 并选择 <strong>Network_plugin_date.log</strong>日志文件。</p>
<p>（其中<code>plugin</code>和<code>date</code>表示了解析插件的版本和日期），最后点击<strong>YOU</strong>。</p>
<p><img src="/2025/08/09/logguide-cn/logguide_import.png" alt="import screenshot"></p>
<p>这将会创建<a href="#%E5%9C%A8%E6%88%98%E6%96%97%E7%BB%93%E6%9D%9F%E5%90%8E%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97">可查看的日志</a>。</p>
<h3 id="导入ffxivmon"><a href="#导入ffxivmon" class="headerlink" title="导入ffxivmon"></a>导入ffxivmon</h3><p>如果你想深入研究网络数据，ffxivmon 是一个非常实用的工具。</p>
<p>要创建一个适用于 ffxivmon 的日志文件，<br>首先，在 ACT 中启用 <strong>(DEBUG) Dump all Network Data to logfile</strong>选项。</p>
<p><img src="/2025/08/09/logguide-cn/logguide_dumpnetworkdata.png" alt="dump network data screenshot"></p>
<p>然后，在游戏中进行一次战斗，并确保ACT正在运行。<br>战斗结束后，将该网络日志文件导入ffxivmon。</p>
<p><img src="/2025/08/09/logguide-cn/logguide_ffxivmon_import.png" alt="ffxivmon import screenshot"></p>
<p>这样就可以直接浏览、分析网络数据。</p>
<p><img src="/2025/08/09/logguide-cn/logguide_ffxivmon.png" alt="ffxivmon screenshot"></p>
<h2 id="术语索引"><a href="#术语索引" class="headerlink" title="术语索引"></a>术语索引</h2><h3 id="网络数据（Network-Data）"><a href="#网络数据（Network-Data）" class="headerlink" title="网络数据（Network Data）"></a>网络数据（Network Data）</h3><p>这是FF14服务器发送到客户端的原始数据包。<br>这些数据既会被游戏本身处理，也会被解析插件用于最终生成网络日志行。</p>
<p><img src="/2025/08/09/logguide-cn/logguide_networkdata.png" alt="network data screenshot"></p>
<p>一般来说，编写触发器的人无需关心原始数据包，因此本文档不会过多关注此类数据。</p>
<h3 id="网络日志行（Network-Log-Lines）"><a href="#网络日志行（Network-Log-Lines）" class="headerlink" title="网络日志行（Network Log Lines）"></a>网络日志行（Network Log Lines）</h3><p>这是解析插件在本地文件<strong>Network_22009_20210801.log</strong>中保存的日志行。这些日志行依旧经过了插件的处理和过滤，大部分并非原始网络数据。</p>
<p>以下是网络日志行的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">21|2019-05-31T21:14:56.8980000-07:00|10532971|Tini Poutini|DF9|Fire IV|40002F21|Zombie Brobinyak|150003|3B9D4002|1C|DF98000|0|0|0|0|0|0|0|0|0|0|0|0|104815|348652|12000|12000|1000|1000|-767.7882|156.939|-672.0446|26285|28784|13920|15480|1000|1000|-771.8156|157.1111|-671.3281||8eaa0245ad01981b69fc1af04ea8f9a1</span><br><span class="line">30|2019-05-31T20:02:41.4560000-07:00|6b4|Boost|0.00|1069C23F|Potato Chippy|1069C23F|Potato Chippy|00|3394|3394||4f7b1fa11ec7a2746a8c46379481267c</span><br><span class="line">20|2019-05-31T20:02:41.4660000-07:00|105E3321|Tater Tot|2C9D|Peculiar Light|105E3321|Tater Tot||c375d8a2d1cf48efceccb136584ed250</span><br></pre></td></tr></table></figure>

<p>网络日志行中的数据被竖线<code>|</code>分隔，每一行的结尾还包含了哈希值。网络日志行使用十进制，例如：AOE能力日志行会以<code>22|</code>开头。与之对应的<a href="#parsed-log-lines">解析日志行</a>则使用十六进制，例如<code>0x16</code>，代表<code>网络-AOE能力</code>。</p>
<p>插件不会将与之交互的解析日志写入本地磁盘。</p>
<p>有很多工具都需要使用网络日志行，比如：</p>
<ul>
<li>fflogs上传器</li>
<li>ffxivmon</li>
<li>cactbot时间轴工具</li>
</ul>
<p>在过去，cactbot曾经对所有触发器使用<a href="#parsed-log-lines">解析日志行</a>，但现在已经转而使用网络日志行，因为它包含了更多的信息。<br>时间轴目前仍使用解析日志行进行同步。</p>
<p>如果你<a href="#importing-an-old-fight">导入了网络日志文件</a>，你可以查看战斗中的解析日志行。</p>
<h3 id="解析日志行（Parsed-Log-Lines）"><a href="#解析日志行（Parsed-Log-Lines）" class="headerlink" title="解析日志行（Parsed Log Lines）"></a>解析日志行（Parsed Log Lines）</h3><p>这些是通过ffxiv解析插件得到的日志行，并且可以被暴露给其他插件和触发器。通过ACT中的<a href="#viewing-logs-after-a-fight">View Logs</a>选项可以查看。大多数cactbot触发器使用的都是网络日志行，但ACT中自定义的触发器使用的是解析日志行。</p>
<p>解析日志行中的数据用冒号<code>:</code>分隔，并使用十六进制。</p>
<p>以下是解析日志行的示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[21:16:44.288] 15:10532971:Potato Chippy:9C:Scathe:40001299:Striking Dummy:750003:90D0000:1C:9C8000:0:0:0:0:0:0:0:0:0:0:0:0:2778:2778:0:0:1000:1000:-653.9767:-807.7275:31.99997:26945:28784:6720:15480:1000:1000:-631.5208:-818.5244:31.95173:</span><br></pre></td></tr></table></figure>

<p>解析日志行始终由方括号中的时间开头，这个时间的格式跟随玩家的本地时区。<br>时间后跟一个十六进制的值（上文中为0x15），表示该行的类型。</p>
<p>行内数据的剩余部分需要根据其类型进行解释，下文会对每行的部分进行具体描述。</p>
<h3 id="游戏日志行（Game-Log-Lines）"><a href="#游戏日志行（Game-Log-Lines）" class="headerlink" title="游戏日志行（Game Log Lines）"></a>游戏日志行（Game Log Lines）</h3><p>游戏日志行是一种特定日志行，以<code>00</code>开头。这些日志行也会直接出现在游戏中的聊天窗口，大概率在【战斗】一栏。尽量<a href="#%E4%B8%8D%E8%A6%81%E9%92%88%E5%AF%B9%E6%B8%B8%E6%88%8F%E6%97%A5%E5%BF%97%E8%A1%8C%E7%BC%96%E5%86%99%E8%A7%A6%E5%8F%91%E5%99%A8">不要针对游戏日志行编写触发器</a>。</p>
<p>游戏日志行的示例参见<a href="#line00">00</a>行。</p>
<h3 id="对象-角色-实体-生物-战斗成员（Object-Actor-Entity-Mob-Combatant）"><a href="#对象-角色-实体-生物-战斗成员（Object-Actor-Entity-Mob-Combatant）" class="headerlink" title="对象&#x2F;角色&#x2F;实体&#x2F;生物&#x2F;战斗成员（Object&#x2F;Actor&#x2F;Entity&#x2F;Mob&#x2F;Combatant）"></a>对象&#x2F;角色&#x2F;实体&#x2F;生物&#x2F;战斗成员（Object&#x2F;Actor&#x2F;Entity&#x2F;Mob&#x2F;Combatant）</h3><p>以上词语在本文档中指代的都是游戏中可以使用能力、有属性的对象。例子包括玩家，巴哈姆特，朝日小仙女，以及木人。</p>
<h3 id="对象ID（Object-ID）"><a href="#对象ID（Object-ID）" class="headerlink" title="对象ID（Object ID）"></a>对象ID（Object ID）</h3><p>对象ID是一个4字节（byte）的标识符，用以区分所有类型的对象。</p>
<p>玩家的ID总是以<code>10</code>开头，例如<code>1069C23F</code>或<code>10532971</code>。</p>
<p>敌人和召唤物的ID总是以<code>40</code>开头，例如<code>4000A848</code>或<code>4000A962</code>。</p>
<p>对于没有影响到任何对象的<code>网络-AOE能力</code>日志行，例如泰坦的地裂（但没有打中任何人），将会表示为击中了id <code>E0000000</code>（以及一个空白的名称）。</p>
<p>需要注意的是，在绝大多数副本中，场景里会有很多同名的生物。例如，在巴哈姆特大迷宫 真源之章4（T13）里，区域内大约会有二十个名为至尊巴哈姆特的生物，只不过大多数都是不可见的。大部分时候可以用HP值来区分它们（参见<a href="#line03">添加战斗成员</a>）。这些不可见的生物通常被用作伤害来源，这也说明了为何绝神兵中的迦楼罗和泰坦都能够对玩家使用石牢。</p>
<p>实体ID不是一个稳定的标识符。玩家实体的ID可能在跨区的时候改变。NPC的ID可能会随战斗重开而改变。最安全的办法是，将每个实体ID仅用于当次的战斗。对于NPC，会有额外的2位数据唯一地标识它们，参见<a href="#line03">03</a>和<a href="#line261">261</a>行。第一个是<code>BNpcId</code>，这决定了NPC的模型和其他特征。第二个是<code>BNpcNameId</code>，这决定了NPC的名字。不同于NPC在游戏内显示的名字，<code>BNpcNameId</code>不需要翻译。</p>
<h3 id="能力ID（Ability-ID）"><a href="#能力ID（Ability-ID）" class="headerlink" title="能力ID（Ability ID）"></a>能力ID（Ability ID）</h3><p>尽管FF14游戏内会区分能力和技能，本文档中这些词语会交替使用。所有玩家或者敌人的技能统称为“能力”，且拥有一个唯一的4字节id。</p>
<p>如果解析插件没有更新，有时这些能力会被列为“未知”。可以使用xivapi.com查找这些技能。例如，炽炎（火4）的能力id是0xDF9 &#x3D; 3577。此链接包含了更多信息：<a target="_blank" rel="noopener" href="https://xivapi.com/action/3577?columns=ID,Name,Description,ClassJobCategory.Name">https://xivapi.com/action/3577?columns=ID,Name,Description,ClassJobCategory.Name</a></p>
<p>对于玩家和敌人、能力技和GCD技能，以上内容均可以适用。</p>
<h3 id="状态效果ID（Status-Effect-ID）"><a href="#状态效果ID（Status-Effect-ID）" class="headerlink" title="状态效果ID（Status Effect ID）"></a>状态效果ID（Status Effect ID）</h3><p>类似的，状态效果有一个2字节的ID，同样可以在xivapi中查到。游戏中不显示持续时间的状态效果会有一个<code>isPermanent</code>标识，尽管这种状态效果在日志行里可能是存在持续时间的。</p>
<h3 id="副本内容ID（Instance-Content-ID）"><a href="#副本内容ID（Instance-Content-ID）" class="headerlink" title="副本内容ID（Instance Content ID）"></a>副本内容ID（Instance Content ID）</h3><p>有些日志行（例如<a href="#line33">玩家控制日志行</a>和<a href="#line41">系统日志消息</a>）有一个副本<code>instance</code>字段。该字段有4字节，由两部分组成：前2字节是更新类型（例如<code>8003</code>是一个副本内容的更新类型，而<code>8004</code>是一个同样的受信任的内容）。后2字节是<code>InstanceContentType</code>，可以从<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/InstanceContent.csv">副本内容类型表</a>中查到。</p>
<p>例如，如果<code>instance</code>字段是<code>80034E6C</code>，那么<code>0x4E6C</code>就是<code>InstanceContentType</code>。<code>0x4E6C</code>转换为十进制是20076，由此就可以匹配到极钻石神兵： <a target="_blank" rel="noopener" href="https://xivapi.com/InstanceContent/20076?pretty=true">https://xivapi.com/InstanceContent/20076?pretty=true</a>。</p>
<h2 id="FFXIV解析插件日志行（FFXIV-Plugin-Log-Lines）"><a href="#FFXIV解析插件日志行（FFXIV-Plugin-Log-Lines）" class="headerlink" title="FFXIV解析插件日志行（FFXIV Plugin Log Lines）"></a>FFXIV解析插件日志行（FFXIV Plugin Log Lines）</h2><p><a name="line00"></a></p>
<h3 id="Line-00-0x00-日志行（LogLine）"><a href="#Line-00-0x00-日志行（LogLine）" class="headerlink" title="Line 00 (0x00): 日志行（LogLine）"></a>Line 00 (0x00): 日志行（LogLine）</h3><p>以下是本文档中称作“游戏日志行”的内容。由于这些日志行通常不用于触发器编写（与<code>0839</code>和<code>0044</code>消息不同），它们的日志类型没有完整的记录。</p>
<p>(Pull requests welcome!)</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=GameLog&lang=en-US) -->

<h4 id="日志结构"><a href="#日志结构" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">00|[timestamp]|[code]|[name]|[line]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] ChatLog 00:[code]:[name]:[line]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;00)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;code&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;line&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) ChatLog (?&lt;type&gt;00):(?&lt;code&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;line&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">00|2021-04-26T14:12:30.0000000-04:00|0839||You change to warrior.|d8c450105ea12854e26eb687579564df</span><br><span class="line">00|2021-04-26T16:57:41.0000000-04:00|0840||You can now summon the antelope stag mount.|caa3526e9f127887766e9211e87e0e8f</span><br><span class="line">00|2021-04-26T14:17:11.0000000-04:00|0B3A||You defeat the embodiment.|ef3b7b7f1e980f2c08e903edd51c70c7</span><br><span class="line">00|2021-04-26T14:12:30.0000000-04:00|302B||The gravity node uses Forked Lightning.|45d50c5f5322adf787db2bd00d85493d</span><br><span class="line">00|2021-04-26T14:12:30.0000000-04:00|322A||The attack misses.|f9f57724eb396a6a94232e9159175e8c</span><br><span class="line">00|2021-07-05T18:01:21.0000000-04:00|0044|Tsukuyomi|Oh...it&#x27;s going to be a long night.|1a81d186fd4d19255f2e01a1694c7607</span><br><span class="line">00|2020-02-26T18:59:23.0000000-08:00|0038||cactbot wipe|77364412c17033eb8c87dafe7ce3c665</span><br><span class="line">00|2020-03-10T18:29:02.0000000-07:00|001D|Tini Poutini|Tini Poutini straightens her spectacles for you.|05ca458b4d400d1f878d3c420f962b99</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:12:30.000] ChatLog 00:0839::You change to warrior.</span><br><span class="line">[16:57:41.000] ChatLog 00:0840::You can now summon the antelope stag mount.</span><br><span class="line">[14:17:11.000] ChatLog 00:0B3A::You defeat the embodiment.</span><br><span class="line">[14:12:30.000] ChatLog 00:302B::The gravity node uses Forked Lightning.</span><br><span class="line">[14:12:30.000] ChatLog 00:322A::The attack misses.</span><br><span class="line">[18:01:21.000] ChatLog 00:0044:Tsukuyomi:Oh...it&#x27;s going to be a long night.</span><br><span class="line">[18:59:23.000] ChatLog 00:0038::cactbot wipe</span><br><span class="line">[18:29:02.000] ChatLog 00:001D:Tini Poutini:Tini Poutini straightens her spectacles for you.</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<h4 id="不要针对游戏日志行编写触发器"><a href="#不要针对游戏日志行编写触发器" class="headerlink" title="不要针对游戏日志行编写触发器"></a>不要针对游戏日志行编写触发器</h4><p>有很多理由使得我们尽量避免基于游戏日志行编写触发器：</p>
<ul>
<li>它们出现得比解析日志行晚（通常晚半秒左右）</li>
<li>文本内容不一致（例如附加了效果&#x2F;对xxx附加了效果，咏唱&#x2F;正在发动等）</li>
<li>表述模糊（例如<code>失误！</code>）</li>
<li>SE可以随意改变拼写内容</li>
<li>有些Dalamud插件可能会影响聊天框内容</li>
</ul>
<p>作为替代方案，更推荐基于不是<code>0x00</code>类型的日志行编写触发器。例如，推荐使用<a href="#line26">网络-Buff</a>的日志行，而非“附加了效果”的游戏日志行；使用<a href="#line20">网络-开始咏唱</a>作为“开始使用技能”的日志行，而非“咏唱”或“正在发动”的游戏日志行。</p>
<p>目前，某些场合中还是必须使用游戏日志行。不过，这些用例正在减少，除非你希望让编写的插件或触发器支持非OverlayPlugin使用者。一些更新的日志行，例如FFXIV_ACT_Plugin的<a href="#line41">SystemLogMessage</a>、OverlayPlugin的<a href="#line266">NpcYell</a>、<a href="#line267">BattleTalk2</a>、<a href="#line268">Countdown</a>，正在逐渐取代对游戏日志行的依赖。</p>
<p>如果仍然存在00开头的行出现但没有对应的日志行的情况，请在<a target="_blank" rel="noopener" href="https://github.com/OverlayPlugin/OverlayPlugin/issues">OverlayPlugin主仓库</a>提交问题，以便进行调查并添加可能的支持。</p>
<p>注意：在某些情况下，<a href="#line20">网络-开始咏唱</a>行可能会出现在对应的<code>00</code>“正在发动” 行之后，但时间差仅有几十毫秒，且并不总是先出现。此外，<a href="#line21">网络-能力</a>行通常都会先于 <code>00</code> “发动了” 行出现。</p>
<p><a name="line01"></a></p>
<h3 id="Line-01-0x01-区域变更（ChangeZone）"><a href="#Line-01-0x01-区域变更（ChangeZone）" class="headerlink" title="Line 01 (0x01): 区域变更（ChangeZone）"></a>Line 01 (0x01): 区域变更（ChangeZone）</h3><p>这条消息会在玩家首次登录和切换区域的时候输出。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ChangeZone&lang=en-US) -->

<h4 id="日志结构-1"><a href="#日志结构-1" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">01|[timestamp]|[id]|[name]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] Territory 01:[id]:[name]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-1"><a href="#正则表达式-1" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;01)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) Territory (?&lt;type&gt;01):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">01|2021-04-26T14:13:17.9930000-04:00|326|Kugane Ohashi|b9f401c0aa0b8bc454b239b201abc1b8</span><br><span class="line">01|2021-04-26T14:22:04.5490000-04:00|31F|Alphascape (V2.0)|8299b97fa36500118fc3a174ed208fe4</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:13:17.993] Territory 01:326:Kugane Ohashi</span><br><span class="line">[14:22:04.549] Territory 01:31F:Alphascape (V2.0)</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>注意，区域的“名称”在可用时为副本名称，否则为原始区域名称。</p>
<p><a name="line02"></a></p>
<h3 id="Line-02-0x02-主要玩家变更（ChangePrimaryPlayer）"><a href="#Line-02-0x02-主要玩家变更（ChangePrimaryPlayer）" class="headerlink" title="Line 02 (0x02): 主要玩家变更（ChangePrimaryPlayer）"></a>Line 02 (0x02): 主要玩家变更（ChangePrimaryPlayer）</h3><p>这条冗余消息跟随每条<a href="#line01">区域变更</a>消息之后，用于指示当前玩家的名称。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ChangedPlayer&lang=en-US) -->

<h4 id="日志结构-2"><a href="#日志结构-2" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">02|[timestamp]|[id]|[name]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] ChangePrimaryPlayer 02:[id]:[name]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-2"><a href="#正则表达式-2" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;02)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) ChangePrimaryPlayer (?&lt;type&gt;02):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">02|2021-04-26T14:11:31.0200000-04:00|10FF0001|Tini Poutini|5b0a5800460045f29db38676e0c3f79a</span><br><span class="line">02|2021-04-26T14:13:17.9930000-04:00|10FF0002|Potato Chippy|34b657d75218545f5a49970cce218ce6</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:11:31.020] ChangePrimaryPlayer 02:10FF0001:Tini Poutini</span><br><span class="line">[14:13:17.993] ChangePrimaryPlayer 02:10FF0002:Potato Chippy</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line03"></a></p>
<h3 id="Line-03-0x03-添加战斗成员（AddCombatant）"><a href="#Line-03-0x03-添加战斗成员（AddCombatant）" class="headerlink" title="Line 03 (0x03): 添加战斗成员（AddCombatant）"></a>Line 03 (0x03): 添加战斗成员（AddCombatant）</h3><p>当一个新的对象加入场景，或者已经近得让玩家能看清它的动作时，输出这条消息。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=AddedCombatant&lang=en-US) -->

<h4 id="日志结构-3"><a href="#日志结构-3" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">03|[timestamp]|[id]|[name]|[job]|[level]|[ownerId]|[worldId]|[world]|[npcNameId]|[npcBaseId]|[currentHp]|[hp]|[currentMp]|[mp]|[?]|[?]|[x]|[y]|[z]|[heading]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] AddCombatant 03:[id]:[name]:[job]:[level]:[ownerId]:[worldId]:[world]:[npcNameId]:[npcBaseId]:[currentHp]:[hp]:[currentMp]:[mp]:[?]:[?]:[x]:[y]:[z]:[heading]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-3"><a href="#正则表达式-3" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;03)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;job&gt;[^|]*)\|(?&lt;level&gt;[^|]*)\|(?&lt;ownerId&gt;[^|]*)\|(?&lt;worldId&gt;[^|]*)\|(?&lt;world&gt;[^|]*)\|(?&lt;npcNameId&gt;[^|]*)\|(?&lt;npcBaseId&gt;[^|]*)\|(?&lt;currentHp&gt;[^|]*)\|(?&lt;hp&gt;[^|]*)\|(?&lt;currentMp&gt;[^|]*)\|(?&lt;mp&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) AddCombatant (?&lt;type&gt;03):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;job&gt;[^:]*):(?&lt;level&gt;[^:]*):(?&lt;ownerId&gt;[^:]*):(?&lt;worldId&gt;[^:]*):(?&lt;world&gt;[^:]*):(?&lt;npcNameId&gt;[^:]*):(?&lt;npcBaseId&gt;[^:]*):(?&lt;currentHp&gt;[^:]*):(?&lt;hp&gt;[^:]*):(?&lt;currentMp&gt;[^:]*):(?&lt;mp&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">03|2021-06-16T20:46:38.5450000-07:00|10FF0001|Tini Poutini|24|46|0000|28|Jenova|0|0|30460|30460|10000|10000|0|0|-0.76|15.896|0|-3.141593|c0e6f1c201e7285884fb6bf107c533ee</span><br><span class="line">03|2021-06-16T21:35:11.3060000-07:00|4000B364|Catastrophe|00|46|0000|00||5631|6358|57250|57250|0|10000|0|0|0|0|0|-4.792213E-05|9c22c852e1995ed63ff4b71c09b7d1a7</span><br><span class="line">03|2021-06-16T21:35:11.3060000-07:00|4000B363|Catastrophe|00|46|0000|00||5631|6358|57250|57250|0|10000|0|0|0|0|0|-4.792213E-05|9438b02195d9b785e07383bc84b2bf37</span><br><span class="line">03|2021-06-16T21:35:11.3060000-07:00|4000B362|Catastrophe|00|46|0000|00||5631|7305|13165210|13165210|10000|10000|0|0|0|-15|0|-4.792213E-05|1c4bc8f27640fab6897dc90c02bba79d</span><br><span class="line">03|2021-06-16T21:35:11.4020000-07:00|4000B365|Catastrophe|00|46|0000|00||5631|6358|57250|57250|0|10000|0|0|0|0|0|-4.792213E-05|8b3f6cf1939428dd9ab0a319aba44910</span><br><span class="line">03|2021-06-16T21:35:11.4020000-07:00|4000B36a|Catastrophe|00|46|0000|00||5631|6358|57250|57250|0|10000|0|0|0|0|0|-4.792213E-05|b3b3b4f926bcadd8b6ef008232d58922</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[20:46:38.545] AddCombatant 03:10FF0001:Tini Poutini:24:46:0000:28:Jenova:0:0:30460:30460:10000:10000:0:0:-0.76:15.896:0:-3.141593</span><br><span class="line">[21:35:11.306] AddCombatant 03:4000B364:Catastrophe:00:46:0000:00::5631:6358:57250:57250:0:10000:0:0:0:0:0:-4.792213E-05</span><br><span class="line">[21:35:11.306] AddCombatant 03:4000B363:Catastrophe:00:46:0000:00::5631:6358:57250:57250:0:10000:0:0:0:0:0:-4.792213E-05</span><br><span class="line">[21:35:11.306] AddCombatant 03:4000B362:Catastrophe:00:46:0000:00::5631:7305:13165210:13165210:10000:10000:0:0:0:-15:0:-4.792213E-05</span><br><span class="line">[21:35:11.402] AddCombatant 03:4000B365:Catastrophe:00:46:0000:00::5631:6358:57250:57250:0:10000:0:0:0:0:0:-4.792213E-05</span><br><span class="line">[21:35:11.402] AddCombatant 03:4000B36a:Catastrophe:00:46:0000:00::5631:6358:57250:57250:0:10000:0:0:0:0:0:-4.792213E-05</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>此处添加的战斗成员可能是虚假且不可见的。真正的战斗成员会有更多HP。例如，欧米茄时空狭缝 德尔塔幻境2（o2n）战斗开始时，你会看到以上示例的最后五条日志。</p>
<p>在某些高负载区域（例如优雷卡），如果玩家周围的对象太多，战斗成员可能会被剔除。通常情况下会优先剔除其他玩家，但怪物也可能受到影响。优雷卡的NM（和地图上的S怪）通过添加一个标识解决这个问题，使其可以通过添加战斗成员消息在整个区域内被检测到。这也是为什么可以通过编写触发器来检测它们的出现。</p>
<p><a name="line04"></a></p>
<h3 id="Line-04-0x04-移除战斗成员（RemoveCombatant）"><a href="#Line-04-0x04-移除战斗成员（RemoveCombatant）" class="headerlink" title="Line 04 (0x04): 移除战斗成员（RemoveCombatant）"></a>Line 04 (0x04): 移除战斗成员（RemoveCombatant）</h3><p>当一个对象在场景中被移除，输出此消息。原因可能包括：<br>玩家距离此对象过远、对象死亡或者玩家切换了区域。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=RemovedCombatant&lang=en-US) -->

<h4 id="日志结构-4"><a href="#日志结构-4" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">04|[timestamp]|[id]|[name]|[job]|[level]|[owner]|[?]|[world]|[npcNameId]|[npcBaseId]|[currentHp]|[hp]|[currentMp]|[mp]|[?]|[?]|[x]|[y]|[z]|[heading]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] RemoveCombatant 04:[id]:[name]:[job]:[level]:[owner]:[?]:[world]:[npcNameId]:[npcBaseId]:[currentHp]:[hp]:[currentMp]:[mp]:[?]:[?]:[x]:[y]:[z]:[heading]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-4"><a href="#正则表达式-4" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;04)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;job&gt;[^|]*)\|(?&lt;level&gt;[^|]*)\|(?&lt;owner&gt;[^|]*)\|(?:[^|]*\|)(?&lt;world&gt;[^|]*)\|(?&lt;npcNameId&gt;[^|]*)\|(?&lt;npcBaseId&gt;[^|]*)\|(?&lt;currentHp&gt;[^|]*)\|(?&lt;hp&gt;[^|]*)\|(?&lt;currentMp&gt;[^|]*)\|(?&lt;mp&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) RemoveCombatant (?&lt;type&gt;04):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;job&gt;[^:]*):(?&lt;level&gt;[^:]*):(?&lt;owner&gt;[^:]*):[^:]*:(?&lt;world&gt;[^:]*):(?&lt;npcNameId&gt;[^:]*):(?&lt;npcBaseId&gt;[^:]*):(?&lt;currentHp&gt;[^:]*):(?&lt;hp&gt;[^:]*):(?&lt;currentMp&gt;[^:]*):(?&lt;mp&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">04|2021-07-23T23:01:27.5480000-07:00|10FF0001|Tini Poutini|05|1E|0000|35|Jenova|0|0|816|816|10000|10000|0|0|-66.24337|-292.0904|20.06466|1.789943|4fbfc851937873eacf94f1f69e0e2ba9</span><br><span class="line">04|2021-06-16T21:37:36.0740000-07:00|4000B39C|Petrosphere|00|46|0000|00||6712|7308|0|57250|0|10000|0|0|-16.00671|-0.01531982|0|1.53875|980552ad636f06249f1b5c7a6e675aad</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[23:01:27.548] RemoveCombatant 04:10FF0001:Tini Poutini:05:1E:0000:35:Jenova:0:0:816:816:10000:10000:0:0:-66.24337:-292.0904:20.06466:1.789943</span><br><span class="line">[21:37:36.074] RemoveCombatant 04:4000B39C:Petrosphere:00:46:0000:00::6712:7308:0:57250:0:10000:0:0:-16.00671:-0.01531982:0:1.53875</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line11"></a></p>
<h3 id="Line-11-0x0B-小队列表（PartyList）"><a href="#Line-11-0x0B-小队列表（PartyList）" class="headerlink" title="Line 11 (0x0B): 小队列表（PartyList）"></a>Line 11 (0x0B): 小队列表（PartyList）</h3><p>此消息会在小队组成变更的时候输出，包括了当前小队中的玩家成员。</p>
<p>此处的数据并不严格按照游戏内小队列表的顺序排列。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=PartyList&lang=en-US) -->

<h4 id="日志结构-5"><a href="#日志结构-5" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">11|[timestamp]|[partyCount]|[id0]|[id1]|[id2]|[id3]|[id4]|[id5]|[id6]|[id7]|[id8]|[id9]|[id10]|[id11]|[id12]|[id13]|[id14]|[id15]|[id16]|[id17]|[id18]|[id19]|[id20]|[id21]|[id22]|[id23]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] PartyList 0B:[partyCount]:[id0]:[id1]:[id2]:[id3]:[id4]:[id5]:[id6]:[id7]:[id8]:[id9]:[id10]:[id11]:[id12]:[id13]:[id14]:[id15]:[id16]:[id17]:[id18]:[id19]:[id20]:[id21]:[id22]:[id23]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-5"><a href="#正则表达式-5" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;11)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;partyCount&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) PartyList (?&lt;type&gt;0B):(?&lt;partyCount&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">11|2021-06-16T20:46:38.5450000-07:00|8|10FF0002|10FF0003|10FF0004|10FF0001|10FF0005|10FF0006|10FF0007|10FF0008|</span><br><span class="line">11|2021-06-16T21:47:56.7170000-07:00|4|10FF0002|10FF0001|10FF0003|10FF0004|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[20:46:38.545] PartyList 0B:8:10FF0002:10FF0003:10FF0004:10FF0001:10FF0005:10FF0006:10FF0007:10FF0008</span><br><span class="line">[21:47:56.717] PartyList 0B:4:10FF0002:10FF0001:10FF0003:10FF0004</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line12"></a></p>
<h3 id="Line-12-0x0C-玩家状态（PlayerStats）"><a href="#Line-12-0x0C-玩家状态（PlayerStats）" class="headerlink" title="Line 12 (0x0C): 玩家状态（PlayerStats）"></a>Line 12 (0x0C): 玩家状态（PlayerStats）</h3><p>这条消息会在玩家状态出现改变或者进入新区域&#x2F;副本的时候输出。</p>
<p>注意，此消息仅用于识别本地玩家，无法自动获取其他玩家的状态。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=PlayerStats&lang=en-US) -->

<h4 id="日志结构-6"><a href="#日志结构-6" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">12|[timestamp]|[job]|[strength]|[dexterity]|[vitality]|[intelligence]|[mind]|[piety]|[attackPower]|[directHit]|[criticalHit]|[attackMagicPotency]|[healMagicPotency]|[determination]|[skillSpeed]|[spellSpeed]|[?]|[tenacity]|[localContentId]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] PlayerStats 0C:[job]:[strength]:[dexterity]:[vitality]:[intelligence]:[mind]:[piety]:[attackPower]:[directHit]:[criticalHit]:[attackMagicPotency]:[healMagicPotency]:[determination]:[skillSpeed]:[spellSpeed]:[?]:[tenacity]:[localContentId]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-6"><a href="#正则表达式-6" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;12)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;job&gt;[^|]*)\|(?&lt;strength&gt;[^|]*)\|(?&lt;dexterity&gt;[^|]*)\|(?&lt;vitality&gt;[^|]*)\|(?&lt;intelligence&gt;[^|]*)\|(?&lt;mind&gt;[^|]*)\|(?&lt;piety&gt;[^|]*)\|(?&lt;attackPower&gt;[^|]*)\|(?&lt;directHit&gt;[^|]*)\|(?&lt;criticalHit&gt;[^|]*)\|(?&lt;attackMagicPotency&gt;[^|]*)\|(?&lt;healMagicPotency&gt;[^|]*)\|(?&lt;determination&gt;[^|]*)\|(?&lt;skillSpeed&gt;[^|]*)\|(?&lt;spellSpeed&gt;[^|]*)\|(?:[^|]*\|)(?&lt;tenacity&gt;[^|]*)\|(?&lt;localContentId&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) PlayerStats (?&lt;type&gt;0C):(?&lt;job&gt;[^:]*):(?&lt;strength&gt;[^:]*):(?&lt;dexterity&gt;[^:]*):(?&lt;vitality&gt;[^:]*):(?&lt;intelligence&gt;[^:]*):(?&lt;mind&gt;[^:]*):(?&lt;piety&gt;[^:]*):(?&lt;attackPower&gt;[^:]*):(?&lt;directHit&gt;[^:]*):(?&lt;criticalHit&gt;[^:]*):(?&lt;attackMagicPotency&gt;[^:]*):(?&lt;healMagicPotency&gt;[^:]*):(?&lt;determination&gt;[^:]*):(?&lt;skillSpeed&gt;[^:]*):(?&lt;spellSpeed&gt;[^:]*):[^:]*:(?&lt;tenacity&gt;[^:]*):(?&lt;localContentId&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">12|2021-04-26T14:30:07.4910000-04:00|21|5456|326|6259|135|186|340|5456|380|3863|135|186|2628|1530|380|0|1260|4000174AE14AB6|3c03ce9ee4afccfaae74695376047054</span><br><span class="line">12|2021-04-26T14:31:25.5080000-04:00|24|189|360|5610|356|5549|1431|189|1340|3651|5549|5549|1661|380|1547|0|380|4000174AE14AB6|53b98d383806c5a29dfe33720f514288</span><br><span class="line">12|2021-08-06T10:29:35.3400000-04:00|38|308|4272|4443|288|271|340|4272|1210|2655|288|271|2002|1192|380|0|380|4000174AE14AB6|4ce3eac3dbd0eb1d6e0044425d9e091d</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:30:07.491] PlayerStats 0C:21:5456:326:6259:135:186:340:5456:380:3863:135:186:2628:1530:380:0:1260:4000174AE14AB6</span><br><span class="line">[14:31:25.508] PlayerStats 0C:24:189:360:5610:356:5549:1431:189:1340:3651:5549:5549:1661:380:1547:0:380:4000174AE14AB6</span><br><span class="line">[10:29:35.340] PlayerStats 0C:38:308:4272:4443:288:271:340:4272:1210:2655:288:271:2002:1192:380:0:380:4000174AE14AB6</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line20"></a></p>
<h3 id="Line-20-0x14-网络-开始咏唱（NetworkStartsCasting）"><a href="#Line-20-0x14-网络-开始咏唱（NetworkStartsCasting）" class="headerlink" title="Line 20 (0x14): 网络-开始咏唱（NetworkStartsCasting）"></a>Line 20 (0x14): 网络-开始咏唱（NetworkStartsCasting）</h3><p>对于需要读条的技能，此日志行用于指示玩家或者怪物开始施放技能。</p>
<p>此消息出现在<a href="#line21">网络-能力</a>、<a href="#line22">网络-AOE能力</a>或<a href="#line23">网络-取消能力</a>之前，表示技能后续的成功施放或被打断。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=StartsUsing&lang=en-US) -->

<h4 id="日志结构-7"><a href="#日志结构-7" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">20|[timestamp]|[sourceId]|[source]|[id]|[ability]|[targetId]|[target]|[castTime]|[x]|[y]|[z]|[heading]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] StartsCasting 14:[sourceId]:[source]:[id]:[ability]:[targetId]:[target]:[castTime]:[x]:[y]:[z]:[heading]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-7"><a href="#正则表达式-7" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;20)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;ability&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?&lt;castTime&gt;[^|]*)\|(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) StartsCasting (?&lt;type&gt;14):(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;ability&gt;(?:[^:]|: )*?):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*):(?&lt;castTime&gt;[^:]*):(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-7"><a href="#示例-7" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">20|2021-07-27T12:47:23.1740000-04:00|40024FC4|The Manipulator|F63|Carnage|40024FC4|The Manipulator|4.70|-0.01531982|-13.86256|10.59466|-4.792213E-05|488abf3044202807c62fa32c2e36ee81</span><br><span class="line">20|2021-07-27T12:48:33.5420000-04:00|10FF0001|Tini Poutini|DF0|Stone III|40024FC4|The Manipulator|2.35|-0.06491255|-9.72675|10.54466|-3.141591|2a24845eab5ed48d4f043f7b6269ef70</span><br><span class="line">20|2021-07-27T12:48:36.0460000-04:00|10FF0002|Potato Chippy|BA|Succor|10FF0002|Potato Chippy|1.93|-0.7477417|-5.416992|10.54466|2.604979|99a70e6f12f3fcb012e59b3f098fd69b</span><br><span class="line">20|2021-07-27T12:48:29.7830000-04:00|40024FD0|The Manipulator|13BE|Judgment Nisi|10FF0001|Tini Poutini|3.20|8.055649|-17.03842|10.58736|-4.792213E-05|bc1c3d72782de2199bfa90637dbfa9b8</span><br><span class="line">20|2021-07-27T12:48:36.1310000-04:00|40024FCE|The Manipulator|13D0|Seed Of The Sky|E0000000||2.70|8.055649|-17.03842|10.58736|-4.792213E-05|5377da9551e7ca470709dc08e996bb75</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[12:47:23.174] StartsCasting 14:40024FC4:The Manipulator:F63:Carnage:40024FC4:The Manipulator:4.70:-0.01531982:-13.86256:10.59466:-4.792213E-05</span><br><span class="line">[12:48:33.542] StartsCasting 14:10FF0001:Tini Poutini:DF0:Stone III:40024FC4:The Manipulator:2.35:-0.06491255:-9.72675:10.54466:-3.141591</span><br><span class="line">[12:48:36.046] StartsCasting 14:10FF0002:Potato Chippy:BA:Succor:10FF0002:Potato Chippy:1.93:-0.7477417:-5.416992:10.54466:2.604979</span><br><span class="line">[12:48:29.783] StartsCasting 14:40024FD0:The Manipulator:13BE:Judgment Nisi:10FF0001:Tini Poutini:3.20:8.055649:-17.03842:10.58736:-4.792213E-05</span><br><span class="line">[12:48:36.131] StartsCasting 14:40024FCE:The Manipulator:13D0:Seed Of The Sky:E0000000::2.70:8.055649:-17.03842:10.58736:-4.792213E-05</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>这些日志行通常（但并不总是）和类似下文的游戏日志行相关：<br><code>00:282B:Shinryu readies Earthen Fury.</code><br>或者<code>00:302b:The proto-chimera begins casting The Ram&#39;s Voice.</code></p>
<h4 id="咏唱时间"><a href="#咏唱时间" class="headerlink" title="咏唱时间"></a>咏唱时间</h4><p>日志中的施法时间精度可能会受到一些限制因素的影响。</p>
<p>对于玩家的施法，日志行可以提供毫秒（千分之一秒）级别的精度，然而，游戏内实际会将其四舍五入至百分之一秒。</p>
<p>有些boss的施法有特殊动画，这会使得它们的有效施法时间比日志上记录的更长。例如，P8S的“概念支配”实际咏唱时间要比日志记录的长得多。这是因为技能在读条尚未完成时就已经施放，而实际伤害来源于另一个技能。</p>
<p><a name="line21"></a></p>
<h3 id="Line-21-0x15-网络-能力（NetworkAbility）"><a href="#Line-21-0x15-网络-能力（NetworkAbility）" class="headerlink" title="Line 21 (0x15): 网络-能力（NetworkAbility）"></a>Line 21 (0x15): 网络-能力（NetworkAbility）</h3><p>此消息表示某个最终命中了单个目标的能力&#x2F;技能（可能是施法者自身）。之所以使用“最终命中”这样的措辞，是因为某些范围技能同样可能只命中了单个目标，在这种情况下，它们仍然属于此类型。</p>
<p>例如，在绝巴哈中，奈尔阶段火角的火线点名如果命中全队，这就是一个<code>22/0x16</code>类型。如果被点名的人出去单吃，这就是一个<code>21/0x15</code>类型，因为只命中了单个目标。如果编写的触发器包括消息类型，最好的做法通常是把解析日志行的正则表达式写成<code>1[56]</code>，网络日志行的正则表达式写成<code>2[12]</code>，以确保覆盖所有可能的情况。</p>
<p>没有命中任何人的地面AOE会被视作<a href="#line22">网络-AOE能力</a>行。</p>
<p>在21&#x2F;22行中有2个字段用于提供命中目标数量的信息。<code>targetCount</code>字段表示目标的数量，<code>targetIndex</code>字段表示该日志行对应的具体目标。例如，对于21（网络-能力）行，<code>targetIndex</code>通常是0，而<code>targetCount</code>会是1。对于命中了3个目标的AOE，所有3条日志行的<code>targetCount</code>都是3，而<code>targetIndex</code>分别会是0、1和2。因此，如果需要收集与某次技能使用相关的所有21&#x2F;22行，应持续收集日志行，直到<code>targetCount - 1 == targetIndex</code>的那一行为止。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=Ability&lang=en-US) -->

<h4 id="日志结构-8"><a href="#日志结构-8" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">21|[timestamp]|[sourceId]|[source]|[id]|[ability]|[targetId]|[target]|[flags]|[damage]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[?]|[targetCurrentHp]|[targetMaxHp]|[targetCurrentMp]|[targetMaxMp]|[?]|[?]|[targetX]|[targetY]|[targetZ]|[targetHeading]|[currentHp]|[maxHp]|[currentMp]|[maxMp]|[?]|[?]|[x]|[y]|[z]|[heading]|[sequence]|[targetIndex]|[targetCount]|[ownerId]|[ownerName]|[effectDisplayType]|[actionId]|[actionAnimationId]|[animationLockTime]|[rotationHex]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] ActionEffect 15:[sourceId]:[source]:[id]:[ability]:[targetId]:[target]:[flags]:[damage]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[?]:[targetCurrentHp]:[targetMaxHp]:[targetCurrentMp]:[targetMaxMp]:[?]:[?]:[targetX]:[targetY]:[targetZ]:[targetHeading]:[currentHp]:[maxHp]:[currentMp]:[maxMp]:[?]:[?]:[x]:[y]:[z]:[heading]:[sequence]:[targetIndex]:[targetCount]:[ownerId]:[ownerName]:[effectDisplayType]:[actionId]:[actionAnimationId]:[animationLockTime]:[rotationHex]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-8"><a href="#正则表达式-8" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;2[12])\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;ability&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?&lt;flags&gt;[^|]*)\|(?&lt;damage&gt;[^|]*)\|(?:[^|]*\|)&#123;14&#125;(?&lt;targetCurrentHp&gt;[^|]*)\|(?&lt;targetMaxHp&gt;[^|]*)\|(?&lt;targetCurrentMp&gt;[^|]*)\|(?&lt;targetMaxMp&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;targetX&gt;[^|]*)\|(?&lt;targetY&gt;[^|]*)\|(?&lt;targetZ&gt;[^|]*)\|(?&lt;targetHeading&gt;[^|]*)\|(?&lt;currentHp&gt;[^|]*)\|(?&lt;maxHp&gt;[^|]*)\|(?&lt;currentMp&gt;[^|]*)\|(?&lt;maxMp&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|(?&lt;sequence&gt;[^|]*)\|(?&lt;targetIndex&gt;[^|]*)\|(?&lt;targetCount&gt;[^|]*)\|(?&lt;ownerId&gt;[^|]*)\|(?&lt;ownerName&gt;[^|]*)\|(?&lt;effectDisplayType&gt;[^|]*)\|(?&lt;actionId&gt;[^|]*)\|(?&lt;actionAnimationId&gt;[^|]*)\|(?&lt;animationLockTime&gt;[^|]*)\|(?&lt;rotationHex&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) (?:ActionEffect|AOEActionEffect) (?&lt;type&gt;(?:15|16)):(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;ability&gt;(?:[^:]|: )*?):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*):(?&lt;flags&gt;[^:]*):(?&lt;damage&gt;[^:]*)(?::[^:]*)&#123;14&#125;:(?&lt;targetCurrentHp&gt;[^:]*):(?&lt;targetMaxHp&gt;[^:]*):(?&lt;targetCurrentMp&gt;[^:]*):(?&lt;targetMaxMp&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;targetX&gt;[^:]*):(?&lt;targetY&gt;[^:]*):(?&lt;targetZ&gt;[^:]*):(?&lt;targetHeading&gt;[^:]*):(?&lt;currentHp&gt;[^:]*):(?&lt;maxHp&gt;[^:]*):(?&lt;currentMp&gt;[^:]*):(?&lt;maxMp&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*):(?&lt;sequence&gt;[^:]*):(?&lt;targetIndex&gt;[^:]*):(?&lt;targetCount&gt;[^:]*):(?&lt;ownerId&gt;[^:]*):(?&lt;ownerName&gt;[^:]*):(?&lt;effectDisplayType&gt;[^:]*):(?&lt;actionId&gt;[^:]*):(?&lt;actionAnimationId&gt;[^:]*):(?&lt;animationLockTime&gt;[^:]*):(?&lt;rotationHex&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-8"><a href="#示例-8" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">21|2021-07-27T12:48:22.4630000-04:00|40024FD1|Steam Bit|F67|Aetherochemical Laser|10FF0001|Tini Poutini|750003|4620000|1B|F678000|0|0|0|0|0|0|0|0|0|0|0|0|36022|36022|5200|10000|0|1000|1.846313|-12.31409|10.60608|-2.264526|16000|16000|8840|10000|0|1000|-9.079163|-14.02307|18.7095|1.416605|0000DE1F|0|1|10780275|Owning Player|01|F67|F67|0.600|12AB|5d60825d70bb46d7fcc8fc0339849e8e</span><br><span class="line">21|2021-07-27T12:46:22.9530000-04:00|10FF0002|Potato Chippy|07|Attack|40024FC5|Right Foreleg|710003|3910000|0|0|0|0|0|0|0|0|0|0|0|0|0|0|378341|380640|8840|10000|0|1000|-6.37015|-7.477235|10.54466|0.02791069|26396|26396|10000|10000|0|1000|-5.443688|-1.163282|10.54466|-2.9113|0000DB6E|0|1|00||01|07|07|0.100|34BC|58206bdd1d0bd8d70f27f3fb2523912b</span><br><span class="line">21|2021-07-27T12:46:21.5820000-04:00|10FF0001|Tini Poutini|03|Sprint|10FF0001|Tini Poutini|1E00000E|320000|0|0|0|0|0|0|0|0|0|0|0|0|0|0|19053|26706|10000|10000|0|1000|-1.210526|17.15058|10.69944|-2.88047|19053|26706|10000|10000|0|1000|-1.210526|17.15058|10.69944|-2.88047|0000DB68|0|1|00||01|03|03|0.100|34BC|29301d52854712315e0951abff146adc</span><br><span class="line">21|2021-07-27T12:47:28.4670000-04:00|40025026|Steam Bit|F6F|Laser Absorption|40024FC4|The Manipulator|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|685814|872320|8840|10000|0|1000|-0.01531982|-13.86256|10.59466|-4.792213E-05|16000|16000|8840|10000|0|1000|0|22.5|10.64999|-3.141593|0000DCEC|0|1|00||01|F6F|F6F|0.100|34BC|0f3be60aec05333aae73a042edb7edb4</span><br><span class="line">21|2021-07-27T12:48:39.1260000-04:00|40024FCE|The Manipulator|13D0|Seed Of The Sky|E0000000||0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|||||||||||16000|16000|8840|10000|0|1000|8.055649|-17.03842|10.58736|-4.792213E-05|0000DE92|0|1|00||01|13D0|13D0|0.100|34BC|ca5594611cf4ca4e276f64f2cfba5ffa</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[12:48:22.463] ActionEffect 15:40024FD1:Steam Bit:F67:Aetherochemical Laser:10FF0001:Tini Poutini:750003:4620000:1B:F678000:0:0:0:0:0:0:0:0:0:0:0:0:36022:36022:5200:10000:0:1000:1.846313:-12.31409:10.60608:-2.264526:16000:16000:8840:10000:0:1000:-9.079163:-14.02307:18.7095:1.416605:0000DE1F:0:1:10780275:Owning Player:01:F67:F67:0.600:12AB</span><br><span class="line">[12:46:22.953] ActionEffect 15:10FF0002:Potato Chippy:07:Attack:40024FC5:Right Foreleg:710003:3910000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:378341:380640:8840:10000:0:1000:-6.37015:-7.477235:10.54466:0.02791069:26396:26396:10000:10000:0:1000:-5.443688:-1.163282:10.54466:-2.9113:0000DB6E:0:1:00::01:07:07:0.100:34BC</span><br><span class="line">[12:46:21.582] ActionEffect 15:10FF0001:Tini Poutini:03:Sprint:10FF0001:Tini Poutini:1E00000E:320000:0:0:0:0:0:0:0:0:0:0:0:0:0:0:19053:26706:10000:10000:0:1000:-1.210526:17.15058:10.69944:-2.88047:19053:26706:10000:10000:0:1000:-1.210526:17.15058:10.69944:-2.88047:0000DB68:0:1:00::01:03:03:0.100:34BC</span><br><span class="line">[12:47:28.467] ActionEffect 15:40025026:Steam Bit:F6F:Laser Absorption:40024FC4:The Manipulator:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:685814:872320:8840:10000:0:1000:-0.01531982:-13.86256:10.59466:-4.792213E-05:16000:16000:8840:10000:0:1000:0:22.5:10.64999:-3.141593:0000DCEC:0:1:00::01:F6F:F6F:0.100:34BC</span><br><span class="line">[12:48:39.126] ActionEffect 15:40024FCE:The Manipulator:13D0:Seed Of The Sky:E0000000::0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:::::::::::16000:16000:8840:10000:0:1000:8.055649:-17.03842:10.58736:-4.792213E-05:0000DE92:0:1:00::01:13D0:13D0:0.100:34BC</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<table>
<thead>
<tr>
<th>索引</th>
<th>示例</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>21</td>
<td>类型ID（网络日志是十进制，解析日志是十六进制）</td>
</tr>
<tr>
<td>1</td>
<td>10532971</td>
<td>施法对象ID</td>
</tr>
<tr>
<td>2</td>
<td>Tini Poutini</td>
<td>施法对象名称</td>
</tr>
<tr>
<td>3</td>
<td>07</td>
<td>能力ID</td>
</tr>
<tr>
<td>4</td>
<td>Attack</td>
<td>能力名称</td>
</tr>
<tr>
<td>5</td>
<td>40001299</td>
<td>目标对象ID</td>
</tr>
<tr>
<td>6</td>
<td>Striking Dummy</td>
<td>目标对象名称</td>
</tr>
<tr>
<td>7-22</td>
<td>F,E578000</td>
<td>动作效果组（参见<a href="#%E5%8A%A8%E4%BD%9C%E6%95%88%E6%9E%9C">动作效果</a>）</td>
</tr>
<tr>
<td>23</td>
<td>2778</td>
<td>目标当前HP</td>
</tr>
<tr>
<td>24</td>
<td>2778</td>
<td>目标最大HP</td>
</tr>
<tr>
<td>25</td>
<td>0</td>
<td>目标当前MP</td>
</tr>
<tr>
<td>26</td>
<td>0</td>
<td>目标最大MP</td>
</tr>
<tr>
<td>27</td>
<td>1000</td>
<td>不使用（曾经是目标当前TP）</td>
</tr>
<tr>
<td>28</td>
<td>1000</td>
<td>不使用（曾经是目标最大TP）</td>
</tr>
<tr>
<td>29</td>
<td>-653.9767</td>
<td>目标X轴坐标</td>
</tr>
<tr>
<td>30</td>
<td>-807.7275</td>
<td>目标Y轴坐标</td>
</tr>
<tr>
<td>31</td>
<td>31.99997</td>
<td>目标Z轴坐标</td>
</tr>
<tr>
<td>32</td>
<td>66480</td>
<td>施法对象当前HP</td>
</tr>
<tr>
<td>33</td>
<td>74095</td>
<td>施法对象最大HP</td>
</tr>
<tr>
<td>34</td>
<td>4560</td>
<td>施法对象当前MP</td>
</tr>
<tr>
<td>35</td>
<td>4560</td>
<td>施法对象最大MP</td>
</tr>
<tr>
<td>36</td>
<td>1000</td>
<td>不使用（曾经是施法对象当前TP）</td>
</tr>
<tr>
<td>37</td>
<td>1000</td>
<td>不使用（曾经是施法对象最大TP）</td>
</tr>
<tr>
<td>38</td>
<td>-653.0394</td>
<td>施法对象X轴坐标</td>
</tr>
<tr>
<td>39</td>
<td>-807.9677</td>
<td>施法对象Y轴坐标</td>
</tr>
<tr>
<td>40</td>
<td>31.99997</td>
<td>施法对象Z轴坐标</td>
</tr>
<tr>
<td>41</td>
<td>1.423</td>
<td>施法者面向</td>
</tr>
<tr>
<td>42</td>
<td>12ABC</td>
<td>序列ID</td>
</tr>
<tr>
<td>43</td>
<td>0</td>
<td>目标索引（0 &lt;&#x3D; n &lt; 目标数量）</td>
</tr>
<tr>
<td>44</td>
<td>3</td>
<td>目标数量</td>
</tr>
<tr>
<td>45</td>
<td>1023ABCD</td>
<td>施法者召唤兽ID（如果没有召唤兽则是00）</td>
</tr>
<tr>
<td>46</td>
<td>Tini Poutini</td>
<td>施法者召唤兽名称（如果没有召唤兽则是空白）</td>
</tr>
<tr>
<td>47</td>
<td>01</td>
<td>效果显示类型</td>
</tr>
<tr>
<td>48</td>
<td>07</td>
<td>动作类型ID</td>
</tr>
<tr>
<td>49</td>
<td>07</td>
<td>动作动画ID</td>
</tr>
<tr>
<td>50</td>
<td>1.100</td>
<td>动画锁（单位为秒）</td>
</tr>
<tr>
<td>51</td>
<td>AB23</td>
<td>施法角度（十六进制）</td>
</tr>
</tbody></table>
<p>网络能力行是原始网络数据（例如<code>710003</code>标识和<code>9420000</code>伤害）<br>与内存中频繁采样的数据(例如<code>66480</code>当前HP值和<code>-653.0394</code>X轴位置)的结合。</p>
<p>这意味着，在处理这些日志行时需要注意一些特殊情况。<br>原始网络数据可能会随FF14的服务器更新发生一些变化。<br>此外，内存采样得到的数据可能会略有滞后，存在一定的时延或过时情况。</p>
<h4 id="动作效果"><a href="#动作效果" class="headerlink" title="动作效果"></a>动作效果</h4><p>每个能力可能包含一个或者更多的效果。<br>这些效果由<code>flagX</code>和<code>damageX</code>字段表示，位于<code>targetName</code>和<code>targetCurHp</code>之间。<br>共有8组字段，每组都包含一个标识<code>flag</code>字段和一个伤害<code>damage</code>字段。<br>伤害字段并不一定表示实际伤害。<br>例如，在应用Buff效果时，该字段表示即将施加的Buff的ID。</p>
<p>伤害字段如果存在，通常会是第1个字段。<br>然而，对于其他效果，不应依赖其特定位置的索引来获取数据。<br>相反，它们应该被视作成对的数组，并遍历它们来获取所需的信息。<br>以下是<strong>不应该硬编码索引</strong>的一个示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">21|2022-09-13T17:25:12.4790000-07:00|10827569|Name Removed|8CF|Aeolian Edge|4000A062|Hegemone|44714003|37120000|A3D|9F8000|53D|9F8000|11B|8CF8000|0|0|0|0|0|0|0|0|rest of line omitted</span><br><span class="line">                                                                                             | first           | second   | third    | fourth    |</span><br></pre></td></tr></table></figure>

<p>伤害字段<code>0x03</code>在第1个字段的位置，<code>0x3d</code>在第2和第3位，<code>0x1b</code>在第4位。</p>
<p>这里是另一个例子，忍者在浴血状态下使用绝风刃的日志行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">21|2022-09-13T17:25:18.8060000-07:00|10827569|Name Removed|8CF|Aeolian Edge|4000A062|Hegemone|44714003|38FD0000|104|AA68000|A3D|9F8000|53D|9F8000|11B|8CF8000|0|0|0|0|0|0|rest of line omitted</span><br><span class="line">                                                                                             | first           | second    | third    | fourth   | fifth     |</span><br></pre></td></tr></table></figure>

<p>注意到浴血的治疗效果<code>0x04</code>在第2位，<br>因此，两个<code>0x3d</code>效果和<code>0x1b</code>效果被移到了第3、第4和第5位上。<br>这就是不要硬编码索引的众多原因之一。</p>
<p>除此之外，SE当然也可以随意改变日志中各个效果的顺序。<br>因此，依赖能力效果的特定顺序显然不是个好主意。</p>
<h4 id="效果类型"><a href="#效果类型" class="headerlink" title="效果类型"></a>效果类型</h4><p>每组字段的标识<code>flag</code>部分可以被进一步拆分。</p>
<p>最右边的字节表示效果的类型：</p>
<p>伤害类型标识：</p>
<ul>
<li>0x01 &#x3D; 回避&#x2F;失误</li>
<li>0x03 &#x3D; 造成伤害</li>
<li>0x04 &#x3D; 治疗</li>
<li>0x05 &#x3D; 抵挡伤害</li>
<li>0x06 &#x3D; 格挡伤害</li>
<li>0x33 &#x3D; 即死</li>
</ul>
<p>非伤害类型标识：</p>
<ul>
<li>0x02 &#x3D; 完全抵挡</li>
<li>0x07 &#x3D; ‘无敌’消息</li>
<li>0x08 &#x3D; ‘X没有造成效果’消息</li>
<li>0x0a &#x3D; 失去MP（<code>damage</code>表示数量）</li>
<li>0x0b &#x3D; 获得MP（<code>damage</code>表示数量）</li>
<li>0x0e &#x3D; 目标获得状态（参见下文“状态影响”）</li>
<li>0x0f &#x3D; 施法者获得状态（参见下文“状态影响”）</li>
<li>0x10 &#x3D; 状态移除</li>
<li>0x14 &#x3D; ‘没有效果’消息（与特定状态效果相关）（<code>damage &gt;&gt; 16</code>表示状态效果ID）</li>
<li>0x18 &#x3D; 仇恨增加</li>
</ul>
<p>左侧相邻的字节用于指示伤害效果的“严重程度”：</p>
<ul>
<li>0x20 &#x3D; 暴击伤害</li>
<li>0x40 &#x3D; 直击伤害</li>
<li>0x60 &#x3D; 直暴伤害</li>
</ul>
<p>再左侧的字节表示了治疗效果的“严重程度”，与伤害的严重程度表示方法相同（但治疗效果无法直击）。因此，对应的组合包括：</p>
<ul>
<li>0x000004 &#x3D; 治疗</li>
<li>0x200004 &#x3D; 暴击治疗</li>
</ul>
<p>其他位掩码会出现在特定技能上，并可用于指示灾祸是否命中目标。<br>然而，这些位掩码通常是技能特定的。</p>
<p>还有许多其他标识位（如<code>0x28</code>表示上坐骑），但这些通常仅用于特定场景，在大多数情况下并不重要，除非是特定的小众用途。</p>
<h4 id="能力伤害"><a href="#能力伤害" class="headerlink" title="能力伤害"></a>能力伤害</h4><p>伤害位掩码：</p>
<ul>
<li>0x0100 &#x3D; 无敌，没有伤害</li>
<li>0x4000 &#x3D; “大量”伤害</li>
</ul>
<p>能力日志行中的伤害值并非实际伤害值，否则就太简单了。</p>
<p>以下是通过日志行中的伤害值计算得出实际伤害值的公式。</p>
<p>首先，将伤害值左侧补零至4字节（8字符）。例如，<code>2934001 =&gt; 02934001</code>，或者<code>1000 =&gt; 00001000</code>。</p>
<p>开头的2字节（4字符）即为实际伤害值。</p>
<p>特殊情况是，存在表示“大量”伤害的<code>0x4000</code>掩码。<br>在此情况下，首先将4个字节表示为<code>A B C D</code>，其中<code>C = 0X40</code>。<br>此时，总伤害为<code>D A B</code>3个字节组合成的整数。</p>
<p>例如，<code>423F400F</code>变为<code>0F 42 3F</code>，得到伤害为999999。</p>
<p>针对日志行中的伤害值，其他需要关注的关键信息还包括位掩码和伤害的严重程度。</p>
<p>此外，还有一个有趣的字节。最左侧的字节表示身位&#x2F;连击加成的伤害比例（百分比，向下取整）。<br>可以参照<a target="_blank" rel="noopener" href="https://docs.google.com/spreadsheets/d/1Huvsu-Ic8Fx1eKZ7yWlYmD1vg2N0fnILSKLHmmR21PI/edit#gid=0">这个表格</a>编写身位是否打中的触发器。<br>无需盲目猜测，所有必要信息都可以在lodestone中找到。</p>
<p>请注意，战斗日志此处的文本描述有些误导——显示的加成比例<strong>并非</strong>预期中的<code>加成/基础伤害</code>，而是<code>加成/总伤害</code>。<br>例如，某个技能在打错身位&#x2F;没有连击时造成200伤害，而身位&#x2F;连击正确时造成300伤害。<br>此时显示的加成将是<code>+33%</code>（而非+50%），因为额外造成的100伤害占总伤害的1&#x2F;3。<br>日志行的加成值与游戏内的战斗日志是一致的（例如，<code>赫革摩涅受到了9129(+61%)伤害</code>）。<br>这也是为何不会看到超过100%的加成值，即使对应的加成可能让伤害翻倍、甚至三四倍。</p>
<p>对于招架或格挡伤害，这个值会由加成变为减伤（将其视作8位有符号整数）。<br>例如，<code>0xEC =&gt; -20%</code>。</p>
<h4 id="反击伤害"><a href="#反击伤害" class="headerlink" title="反击伤害"></a>反击伤害</h4><p>反击伤害在日志中看起来与普通伤害无异。判断某次伤害是否为反击伤害的唯一方法是，该伤害前出现了<code>1D</code>的效果ID。</p>
<h4 id="状态效果"><a href="#状态效果" class="headerlink" title="状态效果"></a>状态效果</h4><p>伤害字段的最左侧2字节表示了状态效果ID。</p>
<p>标识字段表示了对应的“数值”，通常是该效果的层数；但对于某些特定的状态效果，也可能被用于其他用途。</p>
<p>其余部分的意义取决于具体的状态效果。</p>
<p>对于DoT类或者类似的效果，标识字段的中间2字节分别表示伤害低字节和暴击低字节。<br>这些值采用固定小数点表示法，例如<code>200</code>表示<code>20%</code>暴击率；但该数值会在<code>25.6%</code>时发生溢出。</p>
<p>对于伤害加重&#x2F;减轻的效果，标识位的倒数第2字节表示所受伤害修正值。例如，10%减伤会显示为<code>-10</code>，即<code>246</code>或<code>0xF6</code>。<br>对于会产生双重效果的状态，例如牵制&#x2F;昏乱的魔法和物理减伤，每个效果都会占用一个字段。<br>通过检查这些字段，可以计算出减伤或易伤的百分比。</p>
<h4 id="能力示例"><a href="#能力示例" class="headerlink" title="能力示例"></a>能力示例</h4><ol>
<li><p>18216 damage from Grand Cross Alpha (basic damage)<br><code>16:40001333:Neo Exdeath:242B:Grand Cross Alpha:1048638C:Tater Tot:750003:47280000:1C:80242B:0:0:0:0:0:0:0:0:0:0:0:0:36906:41241:5160:5160:880:1000:0.009226365:-7.81128:-1.192093E-07:16043015:17702272:12000:12000:1000:1000:-0.01531982:-19.02808:0:</code></p>
</li>
<li><p>82538 damage from Hyperdrive (0x4000 extra damage mask)<br><code>15:40024FBA:Kefka:28E8:Hyperdrive:106C1DBA:Okonomi Yaki:750003:426B4001:1C:28E88000:0:0:0:0:0:0:0:0:0:0:0:0:35811:62464:4560:4560:940:1000:-0.1586061:-5.753153:0:30098906:31559062:12000:12000:1000:1000:0.3508911:0.4425049:2.384186E-07:</code></p>
</li>
<li><p>22109 damage from Grand Cross Omega (:3F:0: shift)<br><code>16:40001333:Neo Exdeath:242D:Grand Cross Omega:1048638C:Tater Tot:3F:0:750003:565D0000:1C:80242D:0:0:0:0:0:0:0:0:0:0:41241:41241:5160:5160:670:1000:-0.3251641:6.526299:1.192093E-07:7560944:17702272:12000:12000:1000:1000:0:19:2.384186E-07:</code></p>
</li>
<li><p>15732 crit heal from 3 confession stack Plenary Indulgence (:?13:4C3: shift)<br><code>16:10647D2F:Tako Yaki:1D09:Plenary Indulgence:106DD019:Okonomi Yaki:313:4C3:10004:3D74:0:0:0:0:0:0:0:0:0:0:0:0:7124:40265:14400:9192:1000:1000:-10.78815:11.94781:0:11343:40029:19652:16451:1000:1000:6.336648:7.710004:0:</code></p>
</li>
<li><p>instant death twister<br><code>16:40004D5D:Twintania:26AB:Twister:10573FDC:Tini Poutini:33:0:1C:26AB8000:0:0:0:0:0:0:0:0:0:0:0:0:43985:43985:5760:5760:910:1000:-8.42179:9.49251:-1.192093E-07:57250:57250:0:0:1000:1000:-8.565645:10.20959:0:</code></p>
</li>
<li><p>zero damage targetless aoe (E0000000 target)<br><code>16:103AAEE4:Potato Chippy:B1:Miasma II:E0000000::0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0::::::::::19400:40287:17649:17633:1000:1000:-0.656189:-3.799561:-5.960464E-08:</code></p>
</li>
</ol>
<p><a name="line22"></a></p>
<h3 id="Line-22-0x16-网络-AOE能力（NetworkAOEAbility）"><a href="#Line-22-0x16-网络-AOE能力（NetworkAOEAbility）" class="headerlink" title="Line 22 (0x16): 网络-AOE能力（NetworkAOEAbility）"></a>Line 22 (0x16): 网络-AOE能力（NetworkAOEAbility）</h3><p>当某个技能命中了多个目标或未命中任何目标时，输出此消息。</p>
<p><code>网络-能力</code>和<code>网络-AOE能力</code>之间的区别讨论参见<a href="#line21">网络-能力</a>。</p>
<p><a name="line23"></a></p>
<h3 id="Line-23-0x17-网络-取消能力（NetworkCancelAbility）"><a href="#Line-23-0x17-网络-取消能力（NetworkCancelAbility）" class="headerlink" title="Line 23 (0x17): 网络-取消能力（NetworkCancelAbility）"></a>Line 23 (0x17): 网络-取消能力（NetworkCancelAbility）</h3><p>当需要读条的技能被移动或打断而取消咏唱时，输出此消息。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NetworkCancelAbility&lang=en-US) -->

<h4 id="日志结构-9"><a href="#日志结构-9" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">23|[timestamp]|[sourceId]|[source]|[id]|[name]|[reason]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] CancelAction 17:[sourceId]:[source]:[id]:[name]:[reason]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-9"><a href="#正则表达式-9" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;23)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;reason&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) CancelAction (?&lt;type&gt;17):(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;reason&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-9"><a href="#示例-9" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">23|2021-07-27T13:04:38.7790000-04:00|10FF0002|Potato Chippy|408D|Veraero II|Cancelled|dbce3801c08020cb8ae7da9102034131</span><br><span class="line">23|2021-07-27T13:04:39.0930000-04:00|40000132|Garm|D10|The Dragon&#x27;s Voice|Interrupted|bd936fde66bab0e8cf2874ebd75df77c</span><br><span class="line">23|2021-07-27T13:04:39.1370000-04:00|4000012F||D52|Unknown_D52|Cancelled|8a15bad31745426d65cc13b8e0d50005</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[13:04:38.779] CancelAction 17:10FF0002:Potato Chippy:408D:Veraero II:Cancelled</span><br><span class="line">[13:04:39.093] CancelAction 17:40000132:Garm:D10:The Dragon&#x27;s Voice:Interrupted</span><br><span class="line">[13:04:39.137] CancelAction 17:4000012F::D52:Unknown_D52:Cancelled</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line24"></a></p>
<h3 id="Line-24-0x18-网络-DoT（NetworkDoT）"><a href="#Line-24-0x18-网络-DoT（NetworkDoT）" class="headerlink" title="Line 24 (0x18): 网络-DoT（NetworkDoT）"></a>Line 24 (0x18): 网络-DoT（NetworkDoT）</h3><p>对于大多数HoT（持续治疗）和DoT（持续伤害），此日志行会汇总该目标身上的所有DoT&#x2F;HoT每一跳的数值。<br>这包括来自所有施加者的所有DoT&#x2F;HoT效果，而非针对每个来源单独计算数值。</p>
<p>ACT与FFLogs在DoT伤害计算上的差异主要在于，FF14并不会单独返回每个DoT每一跳的数值。<br>如果一个首领身上有20个DoT效果，游戏只会返回所有DoT每跳的总伤害。<br>这意味着解析器需要自行估算每个DoT的数值，从而导致ACT与FFLogs之间存在数据偏差。</p>
<p>然而，对于地面放置类的DoT&#x2F;HoT，它们有单独的数据包。<br>这是<code>effectId</code>被填充的唯一情况，此时<code>damageType</code>字段是一个数字ID，对应了<code>AttackType</code>表格中的条目。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NetworkDoT&lang=en-US) -->

<h4 id="日志结构-10"><a href="#日志结构-10" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">24|[timestamp]|[id]|[name]|[which]|[effectId]|[damage]|[currentHp]|[maxHp]|[currentMp]|[maxMp]|[?]|[?]|[x]|[y]|[z]|[heading]|[sourceId]|[source]|[damageType]|[sourceCurrentHp]|[sourceMaxHp]|[sourceCurrentMp]|[sourceMaxMp]|[?]|[?]|[sourceX]|[sourceY]|[sourceZ]|[sourceHeading]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] DoTHoT 18:[id]:[name]:[which]:[effectId]:[damage]:[currentHp]:[maxHp]:[currentMp]:[maxMp]:[?]:[?]:[x]:[y]:[z]:[heading]:[sourceId]:[source]:[damageType]:[sourceCurrentHp]:[sourceMaxHp]:[sourceCurrentMp]:[sourceMaxMp]:[?]:[?]:[sourceX]:[sourceY]:[sourceZ]:[sourceHeading]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-10"><a href="#正则表达式-10" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;24)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;which&gt;[^|]*)\|(?&lt;effectId&gt;[^|]*)\|(?&lt;damage&gt;[^|]*)\|(?&lt;currentHp&gt;[^|]*)\|(?&lt;maxHp&gt;[^|]*)\|(?&lt;currentMp&gt;[^|]*)\|(?&lt;maxMp&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;damageType&gt;[^|]*)\|(?&lt;sourceCurrentHp&gt;[^|]*)\|(?&lt;sourceMaxHp&gt;[^|]*)\|(?&lt;sourceCurrentMp&gt;[^|]*)\|(?&lt;sourceMaxMp&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;sourceX&gt;[^|]*)\|(?&lt;sourceY&gt;[^|]*)\|(?&lt;sourceZ&gt;[^|]*)\|(?&lt;sourceHeading&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) DoTHoT (?&lt;type&gt;18):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;which&gt;[^:]*):(?&lt;effectId&gt;[^:]*):(?&lt;damage&gt;[^:]*):(?&lt;currentHp&gt;[^:]*):(?&lt;maxHp&gt;[^:]*):(?&lt;currentMp&gt;[^:]*):(?&lt;maxMp&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*):(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;damageType&gt;[^:]*):(?&lt;sourceCurrentHp&gt;[^:]*):(?&lt;sourceMaxHp&gt;[^:]*):(?&lt;sourceCurrentMp&gt;[^:]*):(?&lt;sourceMaxMp&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;sourceX&gt;[^:]*):(?&lt;sourceY&gt;[^:]*):(?&lt;sourceZ&gt;[^:]*):(?&lt;sourceHeading&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-10"><a href="#示例-10" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">24|2022-07-07T21:59:30.6210000-07:00|10FF0001|Tini Poutini|DoT|3C0|9920|32134|63300|10000|10000|||90.44|87.60|0.00|-3.07|4000F123|Shikigami of the Pyre|5|7328307|7439000|10000|10000|||99.78|104.81|0.00|2.95|549a72f2e53a9dea</span><br><span class="line">24|2023-07-05T20:05:54.6070000-07:00|10FF0006|French Fry|HoT|0|2824|91002|91002|10000|10000|||97.46|101.98|0.00|3.13|10FF0007|Mimite Mite|0|81541|81541|9600|10000|||100.04|110.55|0.00|-3.08|1ea68a0cb73843c7bb51808eeb8e80f8</span><br><span class="line">24|2023-07-05T20:05:55.9400000-07:00|4001AAAF|Pandæmonium|DoT|0|1D1B|43502881|43656896|10000|10000|||100.00|65.00|0.00|0.00|10FF0003|Papas Fritas|FFFFFFFF|77094|77094|9200|10000|||100.16|99.85|0.00|-2.84|5b77b8e553b0ee5797caa1ab87b5a910</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[21:59:30.621] DoTHoT 18:10FF0001:Tini Poutini:DoT:3C0:9920:32134:63300:10000:10000:::90.44:87.60:0.00:-3.07:4000F123:Shikigami of the Pyre:5:7328307:7439000:10000:10000:::99.78:104.81:0.00:2.95</span><br><span class="line">[20:05:54.607] DoTHoT 18:10FF0006:French Fry:HoT:0:2824:91002:91002:10000:10000:::97.46:101.98:0.00:3.13:10FF0007:Mimite Mite:0:81541:81541:9600:10000:::100.04:110.55:0.00:-3.08</span><br><span class="line">[20:05:55.940] DoTHoT 18:4001AAAF:Pandæmonium:DoT:0:1D1B:43502881:43656896:10000:10000:::100.00:65.00:0.00:0.00:10FF0003:Papas Fritas:FFFFFFFF:77094:77094:9200:10000:::100.16:99.85:0.00:-2.84</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>地面放置效果产生的DoT会被分别列出。</p>
<p><a name="line25"></a></p>
<h3 id="Line-25-0x19-网络-死亡（NetworkDeath）"><a href="#Line-25-0x19-网络-死亡（NetworkDeath）" class="headerlink" title="Line 25 (0x19): 网络-死亡（NetworkDeath）"></a>Line 25 (0x19): 网络-死亡（NetworkDeath）</h3><p>当游戏中的某个对象被打倒时，输出此消息。<br>通常和形如<code>xxx被xxx打倒了。</code>的游戏日志消息相关。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=WasDefeated&lang=en-US) -->

<h4 id="日志结构-11"><a href="#日志结构-11" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">25|[timestamp]|[targetId]|[target]|[sourceId]|[source]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] Death 19:[targetId]:[target]:[sourceId]:[source]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-11"><a href="#正则表达式-11" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;25)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) Death (?&lt;type&gt;19):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*):(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-11"><a href="#示例-11" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">25|2021-07-27T13:11:08.6990000-04:00|10FF0002|Potato Chippy|4000016E|Angra Mainyu|fd3760add061a5d2e23f63003cd7101d</span><br><span class="line">25|2021-07-27T13:11:09.4110000-04:00|10FF0001|Tini Poutini|4000016E|Angra Mainyu|933d5e946659aa9cc493079d4f6934b3</span><br><span class="line">25|2021-07-27T13:11:11.6840000-04:00|4000016E|Angra Mainyu|10FF0002|Potato Chippy|0b79669140c20f9aa92ad5559be75022</span><br><span class="line">25|2021-07-27T13:13:10.6310000-04:00|400001D1|Queen Scylla|10FF0001|Tini Poutini|8798f2cb87c42fde4601258ae94ffb7f</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[13:11:08.699] Death 19:10FF0002:Potato Chippy:4000016E:Angra Mainyu</span><br><span class="line">[13:11:09.411] Death 19:10FF0001:Tini Poutini:4000016E:Angra Mainyu</span><br><span class="line">[13:11:11.684] Death 19:4000016E:Angra Mainyu:10FF0002:Potato Chippy</span><br><span class="line">[13:13:10.631] Death 19:400001D1:Queen Scylla:10FF0001:Tini Poutini</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line26"></a></p>
<h3 id="Line-26-0x1A-网络-Buff（NetworkBuff）"><a href="#Line-26-0x1A-网络-Buff（NetworkBuff）" class="headerlink" title="Line 26 (0x1A): 网络-Buff（NetworkBuff）"></a>Line 26 (0x1A): 网络-Buff（NetworkBuff）</h3><p>此消息会在玩家或敌人获得效果时发送，无论该效果是正面还是负面的。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=GainsEffect&lang=en-US) -->

<h4 id="日志结构-12"><a href="#日志结构-12" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">26|[timestamp]|[effectId]|[effect]|[duration]|[sourceId]|[source]|[targetId]|[target]|[count]|[targetMaxHp]|[sourceMaxHp]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] StatusAdd 1A:[effectId]:[effect]:[duration]:[sourceId]:[source]:[targetId]:[target]:[count]:[targetMaxHp]:[sourceMaxHp]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-12"><a href="#正则表达式-12" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;26)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;effectId&gt;[^|]*)\|(?&lt;effect&gt;[^|]*)\|(?&lt;duration&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?&lt;count&gt;[^|]*)\|(?&lt;targetMaxHp&gt;[^|]*)\|(?&lt;sourceMaxHp&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) StatusAdd (?&lt;type&gt;1A):(?&lt;effectId&gt;[^:]*):(?&lt;effect&gt;(?:[^:]|: )*?):(?&lt;duration&gt;[^:]*):(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*):(?&lt;count&gt;[^:]*):(?&lt;targetMaxHp&gt;[^:]*):(?&lt;sourceMaxHp&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-12"><a href="#示例-12" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">26|2021-04-26T14:36:09.4340000-04:00|35|Physical Damage Up|15.00|400009D5|Dark General|400009D5|Dark General|00|48865|48865|cbcfac4df1554b8f59f343f017ebd793</span><br><span class="line">26|2021-04-26T14:23:38.7560000-04:00|13B|Whispering Dawn|21.00|4000B283|Selene|10FF0002|Potato Chippy|4000016E|00|51893|49487|c7400f0eed1fe9d29834369affc22d3b</span><br><span class="line">26|2021-07-02T21:57:07.9110000-04:00|D2|Doom|9.97|40003D9F||10FF0001|Tini Poutini|00|26396|26396|86ff6bf4cfdd68491274fce1db5677e8</span><br><span class="line">26|2020-04-24T10:00:03.1370000-08:00|8D1|Lightsteeped|39.95|E0000000||10FF0001|Tini Poutini|01|103650|||ba7a8b1ffce9f0f57974de250e9da307</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:36:09.434] StatusAdd 1A:35:Physical Damage Up:15.00:400009D5:Dark General:400009D5:Dark General:00:48865:48865</span><br><span class="line">[14:23:38.756] StatusAdd 1A:13B:Whispering Dawn:21.00:4000B283:Selene:10FF0002:Potato Chippy:4000016E:00:51893:49487</span><br><span class="line">[21:57:07.911] StatusAdd 1A:D2:Doom:9.97:40003D9F::10FF0001:Tini Poutini:00:26396:26396</span><br><span class="line">[10:00:03.137] StatusAdd 1A:8D1:Lightsteeped:39.95:E0000000::10FF0001:Tini Poutini:01:103650::</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>施法对象<code>source</code>可以是空白的，在这种情况下，此处会有2个空格，参见上文的示例。</p>
<p>此日志行通常与形如下文的游戏日志行相关：<br><code>00:12af:The worm&#39;s heart suffers the effect of Slashing Resistance Down.</code><br><code>00:112e:Tini Poutini gains the effect of The Balance.</code><br><code>00:08af:You suffer the effect of Burning Chains.</code></p>
<p>尽管游戏日志行会区分Buff和Debuff，此处的<code>网络-Buff</code>日志行包括了所有效果类型（无论正面还是负面）。</p>
<p>不要依赖此处Buff&#x2F;Debuff剩余时间的精确性。<br>在极少数情况下，实际的剩余时间可能已经略微缩短了一些。<br>这在某些情况下尤为重要，例如绝巴哈奈尔阶段的死亡宣告Debuff。</p>
<p>在某些情况下，“层数”值表示的是该Buff的其他信息。<br>例如，忍者的结印Buff会根据实际结印的组合显示不同的层数。<br>确保此处获取的是真实层数的唯一方法是对照游戏内数据。<br>例如，如果看到层数值为64，但该状态效果的最大层数上限为0，那么就可以确定这并非一个真正的层数。</p>
<p><code>Unknown_808</code>状态效果(0x808)使用层数字段来应用&#x2F;移除某种视觉特效，此时该层数值表示了特效ID。</p>
<h4 id="刷新，覆盖和死亡"><a href="#刷新，覆盖和死亡" class="headerlink" title="刷新，覆盖和死亡"></a>刷新，覆盖和死亡</h4><p>如果一个Buff被提前刷新了，会输出另一个<code>26</code>行，而非指示了Buff移除的<code>30</code>行。<br>当Buff的层数增加或减少时，可能会输出原本的层数被移除的日志行，也可能不会输出。</p>
<p>大部分Debuff允许玩家对每个目标施加效果。<br>但对于某些技能（例如忍者的攻其不备），敌人身上同一时间只能存在一个该效果。<br>如果Buff被覆盖了，会输出一个<code>30</code>行，表示状态效果被覆盖。</p>
<p>因此，追踪Buff时，结合关注施法者、目标和状态效果ID即可。<br>Buff刷新或层数变化时，这些参数保持不变；而Buff被覆盖时，无论如何都会输出<code>30</code>行。</p>
<p>此外，当角色死亡时，所有因死亡而被移除的Buff也会输出<code>30</code>行。</p>
<p><a name="line27"></a></p>
<h3 id="Line-27-0x1B-网络-目标图标（点名标记）（NetworkTargetIcon-Head-Marker-）"><a href="#Line-27-0x1B-网络-目标图标（点名标记）（NetworkTargetIcon-Head-Marker-）" class="headerlink" title="Line 27 (0x1B): 网络-目标图标（点名标记）（NetworkTargetIcon (Head Marker)）"></a>Line 27 (0x1B): 网络-目标图标（点名标记）（NetworkTargetIcon (Head Marker)）</h3><!-- AUTO-GENERATED-CONTENT:START (logLines:type=HeadMarker&lang=en-US) -->

<h4 id="日志结构-13"><a href="#日志结构-13" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">27|[timestamp]|[targetId]|[target]|[?]|[?]|[id]|[data0]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] TargetIcon 1B:[targetId]:[target]:[?]:[?]:[id]:[data0]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-13"><a href="#正则表达式-13" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;27)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;id&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) TargetIcon (?&lt;type&gt;1B):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;id&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-13"><a href="#示例-13" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">27|2021-04-26T14:17:31.6980000-04:00|10FF0001|Tini Poutini|0000|A9B9|0057|0000|0000|0000|4fb326d8899ffbd4cbfeb29bbc3080f8</span><br><span class="line">27|2021-05-11T13:48:45.3370000-04:00|40000950|Copied Knave|0000|0000|0117|0000|0000|0000|fa2e93fccf397a41aac73a3a38aa7410</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:17:31.698] TargetIcon 1B:10FF0001:Tini Poutini:0000:A9B9:0057:0000:0000:0000</span><br><span class="line">[13:48:45.337] TargetIcon 1B:40000950:Copied Knave:0000:0000:0117:0000:0000:0000</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>不同的点名标记ID（例如，上文示例中的<code>0018</code>和<code>001A</code>）所分别对应的点名标记，在<em>视觉上</em>是保持一致的，哪怕出现在不同的战斗中。<br>（不过它们的<em>处理方式</em>可能不同。）<br>例如，<code>0039</code>对应陨石标记，在极神龙的小怪阶段、巴尔德西昂兵武塔的奥兹玛原型战斗中都出现过。<br>在实际日志行中，<code>id</code>后的字段通常都为0，但<code>id</code>前的字段偶尔会出现非零值。</p>
<p>请注意：目前尚不确定点名标记消失的时间与日志行的哪些内容相关。<br>也许某个字段表示了持续时间，但这些未知数值的含义仍不明确。</p>
<p>此外，这些点名标记似乎只适用于较靠后的战斗。<br>例如，巴哈姆特大迷宫 邂逅之章5（T5）中，火球和液体地狱的点名是来自双塔尼亚的技能，不属于<code>网络-目标图标</code>日志行。<br>这可能意味着点名标记的机制是在后续版本中才引入的，并且开发团队为了避免破坏旧内容，并未将其更新为新的数据类型。</p>
<h4 id="点名标记ID"><a href="#点名标记ID" class="headerlink" title="点名标记ID"></a>点名标记ID</h4><table>
<thead>
<tr>
<th>ID</th>
<th>名称</th>
<th>出现地点示例</th>
<th>标记意义是否一致</th>
</tr>
</thead>
<tbody><tr>
<td>000[1-2, 4]</td>
<td>Prey Circle (orange)</td>
<td>o6s，终末焦土老二</td>
<td>是</td>
</tr>
<tr>
<td>0007</td>
<td>绿色陨石点名</td>
<td>t9n&#x2F;s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0008</td>
<td>Ghost Meteor</td>
<td>t9n&#x2F;s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0009</td>
<td>红色陨石点名</td>
<td>t9n&#x2F;s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>000A</td>
<td>黄色陨石点名</td>
<td>t9n&#x2F;s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>000D</td>
<td>捕食花点名</td>
<td>t6n&#x2F;s，索姆阿尔灵峰老一</td>
<td>是</td>
</tr>
<tr>
<td>000E</td>
<td>Prey Circle (blue)</td>
<td>t6n&#x2F;s，o7s</td>
<td>否</td>
</tr>
<tr>
<td>0010</td>
<td>Teal Crystal</td>
<td>究极神兵绝境战</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0011</td>
<td>Heavenly Laser (red)永恒射线？</td>
<td>t8n&#x2F;s，e1n</td>
<td>否</td>
</tr>
<tr>
<td>0017</td>
<td>红色点名</td>
<td>索姆阿尔灵峰老二，须佐之男（真&#x2F;极），e3n&#x2F;s（死刑点名）</td>
<td>否</td>
</tr>
<tr>
<td>0028</td>
<td>大地摇动</td>
<td>萨菲洛特（真&#x2F;极），o4s</td>
<td>是</td>
</tr>
<tr>
<td>001C</td>
<td>Gravity Puddle</td>
<td>e1n</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>001E</td>
<td>Prey Sphere (orange)</td>
<td>影之国老三，o7n&#x2F;s</td>
<td>否</td>
</tr>
<tr>
<td>001F</td>
<td>Prey Sphere (blue)</td>
<td>t10</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>003[2-5]</td>
<td>Sword Markers 1-4</td>
<td>武神（真&#x2F;极），孪晶塔老一</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0037</td>
<td>Red Dorito</td>
<td>禁忌城邦玛哈老二，黎铎拉纳大灯塔老一</td>
<td>是</td>
</tr>
<tr>
<td>0039</td>
<td>Purple Spread Circle (large)</td>
<td>武神（真&#x2F;极），神龙（真&#x2F;极）</td>
<td>是</td>
</tr>
<tr>
<td>003E</td>
<td>Stack Marker (bordered)</td>
<td>o8n&#x2F;s，影之国</td>
<td>是</td>
</tr>
<tr>
<td>0046</td>
<td>Green Pinwheel</td>
<td>影之国，o5n&#x2F;s</td>
<td>是</td>
</tr>
<tr>
<td>0048</td>
<td>Stack Marker</td>
<td>萨菲洛特</td>
<td>是</td>
</tr>
<tr>
<td>004B</td>
<td>加速度炸弹</td>
<td>禁忌城邦玛哈老三，武神（真&#x2F;极），o4s</td>
<td>是</td>
</tr>
<tr>
<td>004C</td>
<td>Purple Fire Circle (large)</td>
<td>e2n&#x2F;s</td>
<td>是</td>
</tr>
<tr>
<td>0054</td>
<td>Thunder Tether (orange)</td>
<td>极妖灵王</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0057</td>
<td>核爆点名（距离衰减）</td>
<td>o4n&#x2F;s，e2n&#x2F;s</td>
<td>是</td>
</tr>
<tr>
<td>005C</td>
<td>Prey (dark)</td>
<td>影之国老三&#x2F;四，水滩村老三</td>
<td>否</td>
</tr>
<tr>
<td>005D</td>
<td>Stack Marker (tank–no border)</td>
<td>影之国老三，e4s</td>
<td>是</td>
</tr>
<tr>
<td>0060</td>
<td>橙色分散点名圈（小）</td>
<td>真哈迪斯</td>
<td>是</td>
</tr>
<tr>
<td>0061</td>
<td>锁链（橙色）</td>
<td>教皇厅老三，神龙（真&#x2F;极）</td>
<td>是</td>
</tr>
<tr>
<td>0064</td>
<td>范围分摊标记</td>
<td>o3s，黎铎拉纳大灯塔老三</td>
<td>是</td>
</tr>
<tr>
<td>0065</td>
<td>Spread Bubble</td>
<td>o3s，极白虎</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>006E</td>
<td>Levinbolt</td>
<td>极须佐之男</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0076</td>
<td>黑球点名</td>
<td>巴哈姆特绝境战</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0078</td>
<td>橙色分摊标记（大）</td>
<td>阿尼德罗学院</td>
<td>是</td>
</tr>
<tr>
<td>007B</td>
<td>行动标记（三角）</td>
<td>失落之都拉巴纳斯塔老四</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>007C</td>
<td>背对标记（眼睛）</td>
<td>失落之都拉巴纳斯塔老四</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>007E</td>
<td>绿色水晶</td>
<td>神龙（真&#x2F;极）</td>
<td>否</td>
</tr>
<tr>
<td>0083</td>
<td>Sword Meteor (Tsukuyomi)</td>
<td>极月读</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>0087</td>
<td>Prey Sphere (blue)</td>
<td>创造机构阿尼德罗学院</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>008A</td>
<td>橙色分散点名圈（大）</td>
<td>无瑕灵君（真&#x2F;极），瓯博讷修道院老三</td>
<td>是</td>
</tr>
<tr>
<td>008B</td>
<td>紫色分散点名圈（小）</td>
<td>黎铎拉纳大灯塔老一，真哈迪斯</td>
<td>是</td>
</tr>
<tr>
<td>008E</td>
<td>天之灾厄</td>
<td>o10s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>008F</td>
<td>地之灾厄</td>
<td>o10s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>009[1-8]</td>
<td>Fundamental Synergy Square&#x2F;Circle</td>
<td>o12s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>00A1</td>
<td>Stack Marker (bordered)</td>
<td>妖灵王（真&#x2F;极）</td>
<td>是</td>
</tr>
<tr>
<td>00A9</td>
<td>Orange Spread Circle (small)</td>
<td>o11n&#x2F;s，e3n&#x2F;s</td>
<td>是</td>
</tr>
<tr>
<td>00AB</td>
<td>Green Poison Circle</td>
<td>奇坦那神影洞</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>00AC</td>
<td>断罪飞翔连线</td>
<td>极无瑕灵君</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>00AE</td>
<td>蓝色点名</td>
<td>索姆阿尔灵峰老二</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>00B9</td>
<td>黄色三角（分散）</td>
<td>e4s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>00BA</td>
<td>橙色方块（分摊）</td>
<td>e4s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>00BB</td>
<td>蓝色三角（分散）</td>
<td>e4s</td>
<td>N&#x2F;A</td>
</tr>
<tr>
<td>00BD</td>
<td>Purple Spread Circle (giant)</td>
<td>妖灵王（真&#x2F;极）</td>
<td>是</td>
</tr>
<tr>
<td>00BF</td>
<td>Granite Gaol</td>
<td>e4s</td>
<td>N&#x2F;A</td>
</tr>
</tbody></table>
<h4 id="偏移标识（Offset-Headmarkers）"><a href="#偏移标识（Offset-Headmarkers）" class="headerlink" title="偏移标识（Offset Headmarkers）"></a>偏移标识（Offset Headmarkers）</h4><p>较新的副本里出现了“偏移标识”，这意味着每个点名标识的ID的数字会根据副本不同而有所偏移。<br>因此，需要等待副本中第一个对应的点名标识出现，将其作为偏移基准，以调整后续出现的点名标识的ID。<br>编写触发器时可以使用以下几种方式处理此类标识：</p>
<ul>
<li>先确定副本中出现的第一个点名标识的真实ID，用它计算其他标识的真实ID。</li>
<li>记录第一个出现的点名标识的ID，并将其从之后所有点名标识ID中减去，即对所有标识使用相对值区分。</li>
<li>大多数机制中点名标识的出现顺序是固定的，因此可以忽略具体ID而使用点名顺序来判断机制。</li>
</ul>
<p>类似<a href="#line262">RSV</a>，<br>SE通常仅在新的高难内容中对点名标识进行混淆，并会在后续版本中移除该机制。</p>
<p><a name="line28"></a></p>
<h3 id="Line-28-0x1C-网络-副本标记（NetworkRaidMarker-Floor-Marker-）"><a href="#Line-28-0x1C-网络-副本标记（NetworkRaidMarker-Floor-Marker-）" class="headerlink" title="Line 28 (0x1C): 网络-副本标记（NetworkRaidMarker (Floor Marker)）"></a>Line 28 (0x1C): 网络-副本标记（NetworkRaidMarker (Floor Marker)）</h3><p>此消息会在添加或移除场地标记时发送。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NetworkRaidMarker&lang=en-US) -->

<h4 id="日志结构-14"><a href="#日志结构-14" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">28|[timestamp]|[operation]|[waymark]|[id]|[name]|[x]|[y]|[z]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] WaymarkMarker 1C:[operation]:[waymark]:[id]:[name]:[x]:[y]:[z]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-14"><a href="#正则表达式-14" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;28)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;operation&gt;[^|]*)\|(?&lt;waymark&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) WaymarkMarker (?&lt;type&gt;1C):(?&lt;operation&gt;[^:]*):(?&lt;waymark&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-14"><a href="#示例-14" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">28|2021-04-26T19:04:39.1920000-04:00|Delete|7|10FF0001|Tini Poutini|0|0|0|b714a8b5b34ea60f8bf9f480508dc427</span><br><span class="line">28|2021-04-26T19:27:23.5340000-04:00|Add|4|10FF0001|Tini Poutini|76.073|110.588|0|bcf81fb146fe88230333bbfd649eb240</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[19:04:39.192] WaymarkMarker 1C:Delete:7:10FF0001:Tini Poutini:0:0:0</span><br><span class="line">[19:27:23.534] WaymarkMarker 1C:Add:4:10FF0001:Tini Poutini:76.073:110.588:0</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<h4 id="场地标记代码"><a href="#场地标记代码" class="headerlink" title="场地标记代码"></a>场地标记代码</h4><p><em>注：此处原文为*<em>目标标记</em></em>，和下一节内容混淆，故在译文中更改。*</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>A</td>
</tr>
<tr>
<td>1</td>
<td>B</td>
</tr>
<tr>
<td>2</td>
<td>C</td>
</tr>
<tr>
<td>3</td>
<td>D</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>3</td>
</tr>
<tr>
<td>7</td>
<td>4</td>
</tr>
</tbody></table>
<p><a name="line29"></a></p>
<h3 id="Line-29-0x1D-网络-目标标记（NetworkTargetMarker-Player-Marker-）"><a href="#Line-29-0x1D-网络-目标标记（NetworkTargetMarker-Player-Marker-）" class="headerlink" title="Line 29 (0x1D): 网络-目标标记（NetworkTargetMarker (Player Marker)）"></a>Line 29 (0x1D): 网络-目标标记（NetworkTargetMarker (Player Marker)）</h3><p>当玩家对其他战斗成员进行标记&#x2F;移除标记时，输出此消息。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NetworkTargetMarker&lang=en-US) -->

<h4 id="日志结构-15"><a href="#日志结构-15" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">29|[timestamp]|[operation]|[waymark]|[id]|[name]|[targetId]|[targetName]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] SignMarker 1D:[operation]:[waymark]:[id]:[name]:[targetId]:[targetName]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-15"><a href="#正则表达式-15" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;29)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;operation&gt;[^|]*)\|(?&lt;waymark&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;targetName&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) SignMarker (?&lt;type&gt;1D):(?&lt;operation&gt;[^:]*):(?&lt;waymark&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;targetId&gt;[^:]*):(?&lt;targetName&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-15"><a href="#示例-15" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">29|2021-06-10T20:15:15.1000000-04:00|Delete|0|10FF0001|Tini Poutini|4000641D||50460af5ff3f8ec9ad03e6953d3d1ba9</span><br><span class="line">29|2021-05-25T22:54:32.5660000-04:00|Add|6|10FF0001|Tini Poutini|10FF0002|Potato Chippy|70a8c8a728d09af83e0a486e8271cc57</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[20:15:15.100] SignMarker 1D:Delete:0:10FF0001:Tini Poutini:4000641D:</span><br><span class="line">[22:54:32.566] SignMarker 1D:Add:6:10FF0001:Tini Poutini:10FF0002:Potato Chippy</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<h4 id="目标标记代码"><a href="#目标标记代码" class="headerlink" title="目标标记代码"></a>目标标记代码</h4><table>
<thead>
<tr>
<th>ID</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>攻击 1</td>
</tr>
<tr>
<td>1</td>
<td>攻击 2</td>
</tr>
<tr>
<td>2</td>
<td>攻击 3</td>
</tr>
<tr>
<td>3</td>
<td>攻击 4</td>
</tr>
<tr>
<td>4</td>
<td>攻击 5</td>
</tr>
<tr>
<td>5</td>
<td>锁链 1</td>
</tr>
<tr>
<td>6</td>
<td>锁链 2</td>
</tr>
<tr>
<td>7</td>
<td>锁链 3</td>
</tr>
<tr>
<td>8</td>
<td>禁止 1</td>
</tr>
<tr>
<td>9</td>
<td>禁止 2</td>
</tr>
<tr>
<td>10</td>
<td>方块</td>
</tr>
<tr>
<td>11</td>
<td>圆圈</td>
</tr>
<tr>
<td>12</td>
<td>十字</td>
</tr>
<tr>
<td>13</td>
<td>三角</td>
</tr>
</tbody></table>
<p><a name="line30"></a></p>
<h3 id="Line-30-0x1E-网络-移除Buff（NetworkBuffRemove）"><a href="#Line-30-0x1E-网络-移除Buff（NetworkBuffRemove）" class="headerlink" title="Line 30 (0x1E): 网络-移除Buff（NetworkBuffRemove）"></a>Line 30 (0x1E): 网络-移除Buff（NetworkBuffRemove）</h3><p>此消息是与<a href="#line26">网络-Buff</a>的起始消息对应的终止消息。<br>此消息与失去某效果相关（无论效果是正面还是负面的）。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=LosesEffect&lang=en-US) -->

<h4 id="日志结构-16"><a href="#日志结构-16" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">30|[timestamp]|[effectId]|[effect]|[?]|[sourceId]|[source]|[targetId]|[target]|[count]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] StatusRemove 1E:[effectId]:[effect]:[?]:[sourceId]:[source]:[targetId]:[target]:[count]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-16"><a href="#正则表达式-16" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;30)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;effectId&gt;[^|]*)\|(?&lt;effect&gt;[^|]*)\|(?:[^|]*\|)(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?&lt;count&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) StatusRemove (?&lt;type&gt;1E):(?&lt;effectId&gt;[^:]*):(?&lt;effect&gt;(?:[^:]|: )*?):[^:]*:(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*):(?&lt;count&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-16"><a href="#示例-16" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">30|2021-04-26T14:38:09.6990000-04:00|13A|Inferno|0.00|400009FF|Ifrit-Egi|400009FD|Scylla|00|941742|4933|19164478551c91375dc13d0998365130</span><br><span class="line">30|2021-04-26T14:37:12.8740000-04:00|77B|Summon Order|0.00|400009E8|Eos|400009E8|Eos|01|5810|5810|b1736ae2cf65864623f9779635c361cd</span><br><span class="line">30|2021-04-26T14:23:38.8440000-04:00|BD|Bio II|0.00|10FF0001|Tini Poutini|4000B262|Midgardsormr|00|10851737|51654|e34ec8d3a8db783fe34f152178775804</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:38:09.699] StatusRemove 1E:13A:Inferno:0.00:400009FF:Ifrit-Egi:400009FD:Scylla:00:941742:4933</span><br><span class="line">[14:37:12.874] StatusRemove 1E:77B:Summon Order:0.00:400009E8:Eos:400009E8:Eos:01:5810:5810</span><br><span class="line">[14:23:38.844] StatusRemove 1E:BD:Bio II:0.00:10FF0001:Tini Poutini:4000B262:Midgardsormr:00:10851737:51654</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line31"></a></p>
<h3 id="Line-31-0x1F-网络-量谱（NetworkGauge）"><a href="#Line-31-0x1F-网络-量谱（NetworkGauge）" class="headerlink" title="Line 31 (0x1F): 网络-量谱（NetworkGauge）"></a>Line 31 (0x1F): 网络-量谱（NetworkGauge）</h3><p>此消息表示目前玩家的职业量谱信息。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NetworkGauge&lang=en-US) -->

<h4 id="日志结构-17"><a href="#日志结构-17" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">31|[timestamp]|[id]|[data0]|[data1]|[data2]|[data3]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] Gauge 1F:[id]:[data0]:[data1]:[data2]:[data3]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-17"><a href="#正则表达式-17" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;31)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;data0&gt;[^|]*)\|(?&lt;data1&gt;[^|]*)\|(?&lt;data2&gt;[^|]*)\|(?&lt;data3&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) Gauge (?&lt;type&gt;1F):(?&lt;id&gt;[^:]*):(?&lt;data0&gt;[^:]*):(?&lt;data1&gt;[^:]*):(?&lt;data2&gt;[^:]*):(?&lt;data3&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-17"><a href="#示例-17" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">31|2019-11-27T23:22:40.6960000-05:00|10FF0001|FA753019|FD37|E9A55201|7F47|f17ea56b26ff020d1c0580207f6f4673</span><br><span class="line">31|2021-04-28T00:26:19.1320000-04:00|10FF0002|BF000018|10035|40006600|00|f31bf7667388ce9b11bd5dd2626c7b99</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[23:22:40.696] Gauge 1F:10FF0001:FA753019:FD37:E9A55201:7F47</span><br><span class="line">[00:26:19.132] Gauge 1F:10FF0002:BF000018:10035:40006600:00</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>在<code>Gauge</code>之后出现的数值代表了职业量谱内存，解释为4字节整数。<br>为了得到原始内存，首先将这些数补零至4字节，再反转顺序（因为是低位优先顺序）。</p>
<p>以下文的日志行为例：<br><code>1F:10532971:Tini Poutini:C8000019:FD32:D0DF8C00:7FC0</code></p>
<p>补零：<br><code>:C8000019:0000FD32:D0DF8C00:</code></p>
<p>反转：<br><code>19 00 00 C8 32 FD 00 00 00 8C DF D0</code></p>
<p>第1个字节永远表示职业。<br>剩下的字节即为职业量谱内存的副本。</p>
<p>上文的职业<code>0x19</code>表示黑魔法师。<br>然后，分别解释之后的<a target="_blank" rel="noopener" href="https://github.com/goaaats/Dalamud/blob/4ad5bee0c62128315b0a247466d28f42264c3069/Dalamud/Game/ClientState/Structs/JobGauge/BLMGauge.cs">数值</a>含义：</p>
<ul>
<li>距离下一层通晓的时间<code>short TimeUntilNextPolyglot</code> &#x3D; 0x0000 &#x3D; 0</li>
<li>火&#x2F;冰持续时间<code>short ElementTimeRemaining</code> &#x3D; 0x32C8 &#x3D; 13000ms</li>
<li>火&#x2F;冰层数<code>byte ElementStance</code> &#x3D; 0xFD &#x3D; -3 （3层灵极冰）</li>
<li>灵极心层数<code>byte NumUmbralHearts</code> &#x3D; 0x00 &#x3D; 0</li>
<li>天语状态<code>byte EnoState</code> &#x3D; 0x00 &#x3D; 0 （没有天语）</li>
</ul>
<p>此处有一些有关职业量谱内存的参考链接：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/OverlayPlugin/cactbot/blob/a4d27eca3628d397cb9f5638fad97191566ed5a1/CactbotOverlay/FFXIVProcessIntl.cs#L267">cactbot FFXIVProcess code</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/goaaats/Dalamud/blob/4ad5bee0c62128315b0a247466d28f42264c3069/Dalamud/Game/ClientState/Structs/JobGauge/NINGauge.cs#L15">Dalamud code</a></li>
</ol>
<p>不幸的是，网络数据中并不包括其他玩家的职业量谱，因此，只能看见自己的能力量谱。（此设计大概是为了减少发送的网络数据。）</p>
<p><a name="line32"></a></p>
<h3 id="Line-32-0x20-网络-世界（NetworkWorld）"><a href="#Line-32-0x20-网络-世界（NetworkWorld）" class="headerlink" title="Line 32 (0x20): 网络-世界（NetworkWorld）"></a>Line 32 (0x20): 网络-世界（NetworkWorld）</h3><p>未使用。</p>
<p><a name="line33"></a></p>
<h3 id="Line-33-0x21-网络-6D（Network6D-Actor-Control-）"><a href="#Line-33-0x21-网络-6D（Network6D-Actor-Control-）" class="headerlink" title="Line 33 (0x21): 网络-6D（Network6D (Actor Control)）"></a>Line 33 (0x21): 网络-6D（Network6D (Actor Control)）</h3><p>参见：<a target="_blank" rel="noopener" href="https://xivlogs.github.io/nari/types/director.html">nari director update documentation</a></p>
<p>游戏发送名为<code>ActorControl</code>的包来控制用户界面。<br>这些包被分为3类：<code>ActorControl</code>、<code>ActorControlSelf</code>和<code>ActorControlTarget</code>。<br>如果<code>ActorControl</code>是一个全局变量，则<code>ActorControlSelf / ActorControlTarget</code>会影响单独的玩家。</p>
<p>执行控制命令被定义为一个类，而传递给它的参数是一个句柄（handler）。<br><code>DirectorUpdate</code>是<code>ActorControlSelf</code>的其中一类，被用于控制单个玩家在副本中经历的事件：</p>
<ul>
<li>BGM切换</li>
<li>某些过场动画</li>
<li>场景封锁&#x2F;解除封锁</li>
<li>淡入&#x2F;淡出</li>
</ul>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ActorControl&lang=en-US) -->

<h4 id="日志结构-18"><a href="#日志结构-18" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">33|[timestamp]|[instance]|[command]|[data0]|[data1]|[data2]|[data3]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] Director 21:[instance]:[command]:[data0]:[data1]:[data2]:[data3]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-18"><a href="#正则表达式-18" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;33)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;instance&gt;[^|]*)\|(?&lt;command&gt;[^|]*)\|(?&lt;data0&gt;[^|]*)\|(?&lt;data1&gt;[^|]*)\|(?&lt;data2&gt;[^|]*)\|(?&lt;data3&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) Director (?&lt;type&gt;21):(?&lt;instance&gt;[^:]*):(?&lt;command&gt;[^:]*):(?&lt;data0&gt;[^:]*):(?&lt;data1&gt;[^:]*):(?&lt;data2&gt;[^:]*):(?&lt;data3&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-18"><a href="#示例-18" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">33|2021-04-26T17:23:28.6780000-04:00|80034E6C|4000000F|B5D|00|00|00|f777621829447c53c82c9a24aa25348f</span><br><span class="line">33|2021-04-26T14:17:31.6980000-04:00|80034E5B|8000000C|16|FFFFFFFF|00|00|b543f3c5c715e93d9de2aa65b8fe83ad</span><br><span class="line">33|2021-04-26T14:18:39.0120000-04:00|80034E5B|40000007|00|01|00|00|7a2b827bbc7a58ecc0c5edbdf14a2c14</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[17:23:28.678] Director 21:80034E6C:4000000F:B5D:00:00:00</span><br><span class="line">[14:17:31.698] Director 21:80034E5B:8000000C:16:FFFFFFFF:00:00</span><br><span class="line">[14:18:39.012] Director 21:80034E5B:40000007:00:01:00:00</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>更多有关<code>instance</code>参数的内容参见<a href="%E5%89%AF%E6%9C%AC%E5%86%85%E5%AE%B9idinstance-content-id">Instance Content ID</a>。</p>
<p>在6.2版本后，大部分大型副本和蛮神的团灭可以通过以下正则表达式检测：<br><code>21:........:4000000F:</code>.<br>6.2版本前使用：<br><code>21:........:40000010:</code>.</p>
<p>不过，一些更早的战斗没有这些日志行，例如巴哈姆特大迷宫系列，这些副本里包含了区域封锁。</p>
<p>已知类型：</p>
<ul>
<li>Initial commence: <code>21:content:40000001:time:</code> (time is the lockout time in seconds)</li>
<li>Recommence: <code>21:content:40000006:time:00:00:00</code></li>
<li>Lockout time adjust: <code>21:content:80000004:time:00:00:00</code></li>
<li>Charge boss limit break: <code>21:content:8000000C:value1:value2:00:00</code></li>
<li>Music change: <code>21:content:80000001:value:00:00:00</code></li>
<li>Fade out: <code>21:content:40000005:00:00:00:00</code> (wipe)</li>
<li>Fade in: <code>21:content:4000000F:00:00:00:00</code> (always paired with barrier up)</li>
<li>Barrier up: <code>21:content:40000011:00:00:00:00</code> (always comes after fade in)</li>
<li>Victory: <code>21:zone:40000003:00:00:00:00</code></li>
<li>Victory (variant&#x2F;criterion): <code>21:zone:40000002:00:00:00:00</code></li>
</ul>
<p>请注意：cactbot使用“淡入”作为团灭触发器，但也许需要在测试后转而使用“淡出”。</p>
<p>未知：</p>
<ul>
<li><code>21:zone:40000007:00:00:00:00</code></li>
</ul>
<p><a name="line34"></a></p>
<h3 id="Line-34-0x22-网络-名称切换（NetworkNameToggle）"><a href="#Line-34-0x22-网络-名称切换（NetworkNameToggle）" class="headerlink" title="Line 34 (0x22): 网络-名称切换（NetworkNameToggle）"></a>Line 34 (0x22): 网络-名称切换（NetworkNameToggle）</h3><p>此消息用于切换某个特定实体的名牌是否可见。<br>例如，它可以帮助确定某个实体是否可选中。</p>
<p><code>toggle</code>值为<code>00</code>（隐藏名牌）或者<code>01</code>（显示名牌）。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NameToggle&lang=en-US) -->

<h4 id="日志结构-19"><a href="#日志结构-19" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">34|[timestamp]|[id]|[name]|[targetId]|[targetName]|[toggle]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] NameToggle 22:[id]:[name]:[targetId]:[targetName]:[toggle]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-19"><a href="#正则表达式-19" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;34)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;targetName&gt;[^|]*)\|(?&lt;toggle&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;34)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;targetName&gt;[^|]*)\|(?&lt;toggle&gt;[^|]*)\|</span><br></pre></td></tr></table></figure>

<h4 id="示例-19"><a href="#示例-19" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">34|2021-04-26T14:19:48.0400000-04:00|4001C51C|Dragon&#x27;s Head|4001C51C|Dragon&#x27;s Head|00|a7248aab1da528bf94faf2f4b1728fc3</span><br><span class="line">34|2021-04-26T14:22:19.1960000-04:00|4000B283|Selene|4000B283|Selene|01|734eef0f5b1b10810af8f7257d738c67</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:19:48.040] NameToggle 22:4001C51C:Dragon&#x27;s Head:4001C51C:Dragon&#x27;s Head:00</span><br><span class="line">[14:22:19.196] NameToggle 22:4000B283:Selene:4000B283:Selene:01</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line35"></a></p>
<h3 id="Line-35-0x23-网络-连线（NetworkTether）"><a href="#Line-35-0x23-网络-连线（NetworkTether）" class="headerlink" title="Line 35 (0x23): 网络-连线（NetworkTether）"></a>Line 35 (0x23): 网络-连线（NetworkTether）</h3><p>此日志行表示敌人之间的连线或敌人和玩家之间的连线。<br>此行并不用于玩家之间的技能造成的连线，例如巨龙视线或保护。<br>（敌人施加的玩家间连线会被此日志行记录，例如真&#x2F;极神龙中的燃烧之锁。）</p>
<p><code>id</code>参数可以在<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/Channeling.csv">此表格</a>中查到。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=Tether&lang=en-US) -->

<h4 id="日志结构-20"><a href="#日志结构-20" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">35|[timestamp]|[sourceId]|[source]|[targetId]|[target]|[?]|[?]|[id]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] Tether 23:[sourceId]:[source]:[targetId]:[target]:[?]:[?]:[id]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-20"><a href="#正则表达式-20" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;35)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;id&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) Tether (?&lt;type&gt;23):(?&lt;sourceId&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;id&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-20"><a href="#示例-20" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">35|2021-04-26T17:27:07.0310000-04:00|40003202|Articulated Bit|10FF0001|Tini Poutini|0000|0000|0001|10029769|000F|0000|ad71d456437e6792f68b19dbef9507d5</span><br><span class="line">35|2021-04-27T22:36:58.1060000-04:00|10FF0001|Tini Poutini|4000943B|Bomb Boulder|0000|0000|0007|4000943B|000F|0000|a6adfcdf5dad0ef891deeade4d285eb2</span><br><span class="line">35|2021-06-13T17:41:34.2230000-04:00|10FF0001|Tini Poutini|10FF0002|Potato Chippy|0000|0000|006E|1068E3EF|000F|0000|c022382c6803d1d6c1f84681b7d8db20</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[17:27:07.031] Tether 23:40003202:Articulated Bit:10FF0001:Tini Poutini:0000:0000:0001:10029769:000F:0000</span><br><span class="line">[22:36:58.106] Tether 23:10FF0001:Tini Poutini:4000943B:Bomb Boulder:0000:0000:0007:4000943B:000F:0000</span><br><span class="line">[17:41:34.223] Tether 23:10FF0001:Tini Poutini:10FF0002:Potato Chippy:0000:0000:006E:1068E3EF:000F:0000</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>以上3行日志中，连线类型分别为<code>0001</code>、<code>0007</code>和<code>006E</code>。</p>
<p>与<a href="#line27">网络-目标图标</a>类似，同一个连线类型在不同的战斗中会保持相同的视觉效果。</p>
<p>也有一些连线通过其他的方式生成：</p>
<ul>
<li>究极神兵的连线球: <code>NpcSpawn</code>类型，<code>parentActorId</code>设置为每组的另一个球</li>
<li>t12火球（红莲之炎）: <code>NpcSpawn</code>类型，<code>parentActorId</code>设置为目标</li>
<li>t13黑球（暗以太）: <code>NpcSpawn</code>类型，<code>parentActorId</code>和<code>targetId</code>设置为目标玩家</li>
<li>极朱雀的鸟：谁知道呢（</li>
<li>玩家间连线（巨龙视线、保护、以太契约）</li>
</ul>
<p>目前没有日志行指示连线消失。<br>有些机制会周期性地“再利用”连线，这会导致输出冗余日志行。<br>如果连线的状态改变（例如一些需要拉开距离的线），这会输出新的日志行。</p>
<p><a name="line36"></a></p>
<h3 id="Line-36-0x24-极限技（LimitBreak）"><a href="#Line-36-0x24-极限技（LimitBreak）" class="headerlink" title="Line 36 (0x24): 极限技（LimitBreak）"></a>Line 36 (0x24): 极限技（LimitBreak）</h3><p>此日志行记录了以轻锐小队或满编小队战斗时的每次极限技充能。（LB槽满后不再记录）</p>
<p>副本开始时会以<code>0x0000</code>开始记录（对于某些只用进行一次战斗的副本则是每次战斗开始），每次增加<code>0x00DC</code>（十进制为220），直到使用LB或该副本的最大LB槽充满。<br>LB槽的基础增长率是恒定的，但某些行为获得的额外LB奖励与此速率无关。这些额外的LB奖励量会与基础增长出现在同一个数据包中，但作为独立部分存在。</p>
<p>每一条LB槽有<code>0x2710</code>（十进制为10,000）单位。<br>因此，最大值为<code>0x7350</code>（十进制为30,000）。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=LimitBreak&lang=en-US) -->

<h4 id="日志结构-21"><a href="#日志结构-21" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">36|[timestamp]|[valueHex]|[bars]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] LimitBreak 24:[valueHex]:[bars]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-21"><a href="#正则表达式-21" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;36)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;valueHex&gt;[^|]*)\|(?&lt;bars&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) LimitBreak (?&lt;type&gt;24):(?&lt;valueHex&gt;[^:]*):(?&lt;bars&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-21"><a href="#示例-21" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">36|2021-04-26T14:20:09.6880000-04:00|6A90|3|88ce578cb8f05d74feb3a7fa155bedc5</span><br><span class="line">36|2021-04-26T14:20:19.6580000-04:00|4E20|2|a3bf154ba550e147d4fbbd4266db4eb9</span><br><span class="line">36|2021-04-26T14:20:23.9040000-04:00|0000|0|703872b50849730773f7b21897698d00</span><br><span class="line">36|2021-04-26T14:22:03.8370000-04:00|0000|1|c85f02ac4780e208357383afb6cbc232</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:20:09.688] LimitBreak 24:6A90:3</span><br><span class="line">[14:20:19.658] LimitBreak 24:4E20:2</span><br><span class="line">[14:20:23.904] LimitBreak 24:0000:0</span><br><span class="line">[14:22:03.837] LimitBreak 24:0000:1</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line37"></a></p>
<h3 id="Line-37-0x25-网络-动作同步（NetworkActionSync）"><a href="#Line-37-0x25-网络-动作同步（NetworkActionSync）" class="headerlink" title="Line 37 (0x25): 网络-动作同步（NetworkActionSync）"></a>Line 37 (0x25): 网络-动作同步（NetworkActionSync）</h3><p>此日志行表示一个同步包，作用是让客户端呈现服务器端已处理的动作。<br>（可能是一段动画，也可能是日志文本。）<br>此日志行看起来会在游戏内“实际发生”了某个动作时发出。不同于<a href="#line21">网络-能力</a>或<a href="#line22">网络-AOE能力</a>行，这些行在动作“锁定”时发出。</p>
<p><a target="_blank" rel="noopener" href="https://discordapp.com/channels/551474815727304704/551476873717088279/733336512443187231">Ravahn的解释</a>:</p>
<blockquote>
<p>使用技能时，会得到一个“效果结果”<code>effectresult</code>包（<code>21/22</code>类型的行），表示伤害量，但目标实际上没有真正地受到伤害。<br><code>37</code>类型的行会有唯一的标识符，追溯到对应的<code>21/22</code>行，用于指示伤害现在才应该对目标生效。<br>目前解析插件并不使用这些行，但FFLogs会使用。<br>如果 ACT 插件也能使用这些 37 行，其实会很有帮助，但ACT并不擅长跨多行解析。想要实现的话需要不少变通。</p>
</blockquote>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NetworkEffectResult&lang=en-US) -->

<h4 id="日志结构-22"><a href="#日志结构-22" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">37|[timestamp]|[id]|[name]|[sequenceId]|[currentHp]|[maxHp]|[currentMp]|[maxMp]|[currentShield]|[?]|[x]|[y]|[z]|[heading]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] EffectResult 25:[id]:[name]:[sequenceId]:[currentHp]:[maxHp]:[currentMp]:[maxMp]:[currentShield]:[?]:[x]:[y]:[z]:[heading]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-22"><a href="#正则表达式-22" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;37)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;sequenceId&gt;[^|]*)\|(?&lt;currentHp&gt;[^|]*)\|(?&lt;maxHp&gt;[^|]*)\|(?&lt;currentMp&gt;[^|]*)\|(?&lt;maxMp&gt;[^|]*)\|(?&lt;currentShield&gt;[^|]*)\|(?:[^|]*\|)(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) EffectResult (?&lt;type&gt;25):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;sequenceId&gt;[^:]*):(?&lt;currentHp&gt;[^:]*):(?&lt;maxHp&gt;[^:]*):(?&lt;currentMp&gt;[^:]*):(?&lt;maxMp&gt;[^:]*):(?&lt;currentShield&gt;[^:]*):[^:]*:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-22"><a href="#示例-22" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">37|2023-10-31T10:08:51.4080000-07:00|10FF0001|Tini Poutini|0000003A|117941|117941|10000|10000|0||-660.17|-842.23|29.75|-1.61|1500|0|0|01|5B|0|0|10755CA3|19aff167ea86b371</span><br><span class="line">37|2023-10-31T22:11:04.8350000-07:00|10FF0002|Potato Chippy|00005AE1|0|88095|0|10000|0||8.61|15.22|0.00|2.69|1E00|0|0|01|0400002C|0|0|E0000000|ef1e0399980c0f47</span><br><span class="line">37|2023-10-31T22:10:49.5860000-07:00|4000C5B2|Ketuduke|00005AD6|7452804||||||-0.02|-0.02|0.00|1.98|27ee18f38f377d5d</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[10:08:51.408] EffectResult 25:10FF0001:Tini Poutini:0000003A:117941:117941:10000:10000:0::-660.17:-842.23:29.75:-1.61:1500:0:0:01:5B:0:0:10755CA3</span><br><span class="line">[22:11:04.835] EffectResult 25:10FF0002:Potato Chippy:00005AE1:0:88095:0:10000:0::8.61:15.22:0.00:2.69:1E00:0:0:01:0400002C:0:0:E0000000</span><br><span class="line">[22:10:49.586] EffectResult 25:4000C5B2:Ketuduke:00005AD6:7452804::::::-0.02:-0.02:0.00:1.98</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<h4 id="能力结算追踪"><a href="#能力结算追踪" class="headerlink" title="能力结算追踪"></a>能力结算追踪</h4><p>不幸的是，判断某个能力的目前状态（已结算、被吞或未生效）并不容易。举个例子，服务器确实会通知客户端某个技能<strong>已结算</strong>，但并不会通知某个技能<strong>无法结算</strong>。<br>如果施法者死亡或目标进入不可选中状态，通常就可以认为该技能不会结算。</p>
<p>注意，AOE能力可能对命中的所有目标使用相同的序列ID<code>sequence ID</code>。因此，需要同时依据序列ID<em>和</em>目标本身的ID<code>target ID</code>进行匹配。</p>
<p>并非每个动作都会生成对应的<code>37</code>类型日志行。</p>
<h4 id="HP值"><a href="#HP值" class="headerlink" title="HP值"></a>HP值</h4><p>有时日志行中只包含目前HP，不显示最大HP值。这种情况下通常认为最大HP没有发生变化。</p>
<p><a href="#line-37-0x25-networkactionsync">37</a>、<a href="#line-38-0x26-networkstatuseffects">38</a>和<a href="#line-39-0x27-networkupdatehp">39</a>类型的日志行较为特殊，其中的<em>当前HP</em>实际上代表着HP值的更新。<br>其他类型的日志行仅从内存中读取HP值。<br>这意味着，仅有这3种类型的日志行代表了实时HP值的更新，而其他行在游戏客户端处理发送的数据包之前，可能就从内存读取了过期的HP值。</p>
<h4 id="盾值（-）"><a href="#盾值（-）" class="headerlink" title="盾值（%）"></a>盾值（%）</h4><p><code>37</code>和<code>38</code>类型的日志行有一个盾值百分比字段（四舍五入为整数）。例如，如果一个20,000HP的实体拥有3,000HP的盾值，这个数字会是<code>15%</code>。</p>
<p>更精确的盾值数字有时可以通过<code>38</code>行或<code>21/22</code>行（动作效果行）的子字段得到。这些日志行会包含实际盾值的最低有效字节。</p>
<h4 id="MP值"><a href="#MP值" class="headerlink" title="MP值"></a>MP值</h4><p>如果你切换成采集或制作职业，<code>currentMP</code>实际上可能表示GP（采集力）或者CP（制作力）而非MP。不过，此处的最大值会被解析插件硬编码为<code>10000</code>。</p>
<p><a name="line38"></a></p>
<h3 id="Line-38-0x26-网络-状态效果（NetworkStatusEffects）"><a href="#Line-38-0x26-网络-状态效果（NetworkStatusEffects）" class="headerlink" title="Line 38 (0x26): 网络-状态效果（NetworkStatusEffects）"></a>Line 38 (0x26): 网络-状态效果（NetworkStatusEffects）</h3><p>对于NPC敌人（可能包括PvP的敌方），此日志行会与<a href="#line24">网络-DoT</a>行一起生成。对于非召唤物的队友，此行会与<a href="#line26">网络-Buff</a>、<a href="#line30">网络-移除Buff</a>以及<a href="#line37">网络-动作同步</a>一起生成。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=StatusEffect&lang=en-US) -->

<h4 id="日志结构-23"><a href="#日志结构-23" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">38|[timestamp]|[targetId]|[target]|[jobLevelData]|[hp]|[maxHp]|[mp]|[maxMp]|[currentShield]|[?]|[x]|[y]|[z]|[heading]|[data0]|[data1]|[data2]|[data3]|[data4]|[data5]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] StatusList 26:[targetId]:[target]:[jobLevelData]:[hp]:[maxHp]:[mp]:[maxMp]:[currentShield]:[?]:[x]:[y]:[z]:[heading]:[data0]:[data1]:[data2]:[data3]:[data4]:[data5]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-23"><a href="#正则表达式-23" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;38)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;targetId&gt;[^|]*)\|(?&lt;target&gt;[^|]*)\|(?&lt;jobLevelData&gt;[^|]*)\|(?&lt;hp&gt;[^|]*)\|(?&lt;maxHp&gt;[^|]*)\|(?&lt;mp&gt;[^|]*)\|(?&lt;maxMp&gt;[^|]*)\|(?&lt;currentShield&gt;[^|]*)\|(?:[^|]*\|)(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|(?&lt;data0&gt;[^|]*)\|(?&lt;data1&gt;[^|]*)\|(?&lt;data2&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) StatusList (?&lt;type&gt;26):(?&lt;targetId&gt;[^:]*):(?&lt;target&gt;[^:]*):(?&lt;jobLevelData&gt;[^:]*):(?&lt;hp&gt;[^:]*):(?&lt;maxHp&gt;[^:]*):(?&lt;mp&gt;[^:]*):(?&lt;maxMp&gt;[^:]*):(?&lt;currentShield&gt;[^:]*):[^:]*:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*):(?&lt;data0&gt;[^:]*):(?&lt;data1&gt;[^:]*):(?&lt;data2&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-23"><a href="#示例-23" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">38|2021-04-26T14:13:16.2760000-04:00|10FF0001|Tini Poutini|46504615|75407|75407|10000|10000|24|0|-645.238|-802.7854|8|1.091302|1500|3C|0|0A016D|41F00000|E0000000|1E016C|41F00000|E0000000|c1b3e1d63f03a265ffa85f1517c1501e</span><br><span class="line">38|2021-04-26T14:13:16.2760000-04:00|10FF0001||46504621|49890|49890|10000|10000|24|0|||||1500|3C|0|f62dbda5c947fa4c11b63c90c6ee4cd9</span><br><span class="line">38|2021-04-26T14:13:44.5020000-04:00|10FF0002|Potato Chippy|46504621|52418|52418|10000|10000|32|0|99.93127|113.8475|-1.862645E-09|3.141593|200F|20|0|0A016D|41F00000|E0000000|1E016C|41F00000|E0000000|0345|41E8D4FC|10FF0001|0347|8000000 0|10FF0002|d57fd29c6c4856c091557968667da39d</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:13:16.276] StatusList 26:10FF0001:Tini Poutini:46504615:75407:75407:10000:10000:24:0:-645.238:-802.7854:8:1.091302:1500:3C:0:0A016D:41F00000:E0000000:1E016C:41F00000:E0000000</span><br><span class="line">[14:13:16.276] StatusList 26:10FF0001::46504621:49890:49890:10000:10000:24:0:::::1500:3C:0</span><br><span class="line">[14:13:44.502] StatusList 26:10FF0002:Potato Chippy:46504621:52418:52418:10000:10000:32:0:99.93127:113.8475:-1.862645E-09:3.141593:200F:20:0:0A016D:41F00000:E0000000:1E016C:41F00000:E0000000:0345:41E8D4FC:10FF0001:0347:80000000:10FF0002</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p>此日志行包含了对象实体目前的所有状态效果。如果解析插件在进入某区域之后才启动，此日志行会很有用。类似于<a href="#line-37-0x25-networkactionsync">37</a>和<a href="#line-39-0x27-networkupdatehp">39</a>行，此日志行中的HP值表示了HP的变化，而非内存中读取的旧HP值。</p>
<h4 id="数据字段"><a href="#数据字段" class="headerlink" title="数据字段"></a>数据字段</h4><p>这是一个可变长度的日志行，最多可包含30种状态效果。从字段<code>data3</code>开始，每个状态效果会占用3个字段。</p>
<p>在这3个字段中，第1个字段的前2字节代表了层数或具体数值，后2字节代表效果ID。例如，<code>field &amp; 0xffff</code>可以获得效果ID，而<code>(field &amp; 0xffff0000) &gt;&gt; 16</code>可以获得层数或具体数值。</p>
<p>第2个字段以32位浮点数形式显示剩余时间。这个值可能是负的，此时应该将其取反变为正值。此字段可能表示一些未知的东西。需要注意的是，由于日志行的格式原因，此字段会以<code>uint32</code>（无符号整数）的方式显示。因此，在解析时不能简单地<em>转化</em>为浮点数，而是进行重解释（reinterpret），以获得原本的单精度浮点数。</p>
<p>对于一些持续时间无限的状态效果，此字段会是一个固定值。例如，部队特效的剩余持续时间总会显示为30秒。</p>
<p>第3个字段表示来源实体。</p>
<p>例如下文中的3个字段：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">|030499|C1700000|10015678|</span><br></pre></td></tr></table></figure>
<p>第1个字段表示该实体拥有3层<code>0x499</code>（原初的解放）状态效果。</p>
<p>第2个字段，首先将<code>C1700000</code>解释为浮点数，得到<code>-15</code>，这意味着剩余持续时间为15秒。</p>
<p>第3个字段表示该状态效果来自ID为<code>10015678</code>的实体。</p>
<p>重复这个过程直到所有字段结束，最后减去每个日志行结尾都有的校验和进行检查即可。</p>
<p><a name="line39"></a></p>
<h3 id="Line-39-0x27-网络-更新HP（NetworkUpdateHP）"><a href="#Line-39-0x27-网络-更新HP（NetworkUpdateHP）" class="headerlink" title="Line 39 (0x27): 网络-更新HP（NetworkUpdateHP）"></a>Line 39 (0x27): 网络-更新HP（NetworkUpdateHP）</h3><p>此日志行代表了HP或MP的被动回复并更新HP或MP的值。类似于<a href="#line-37-0x25-networkactionsync">37</a>和<a href="#line-38-0x26-networkstatuseffects">38</a>行，此日志行表示了HP值的更新，而非从内存中读取该值。</p>
<p>NPC（除了玩家召唤物）没有被动HP回复机制，因此不会收到此类数据包。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NetworkUpdateHP&lang=en-US) -->

<h4 id="日志结构-24"><a href="#日志结构-24" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">39|[timestamp]|[id]|[name]|[currentHp]|[maxHp]|[currentMp]|[maxMp]|[?]|[?]|[x]|[y]|[z]|[heading]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] UpdateHp 27:[id]:[name]:[currentHp]:[maxHp]:[currentMp]:[maxMp]:[?]:[?]:[x]:[y]:[z]:[heading]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-24"><a href="#正则表达式-24" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;39)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;currentHp&gt;[^|]*)\|(?&lt;maxHp&gt;[^|]*)\|(?&lt;currentMp&gt;[^|]*)\|(?&lt;maxMp&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) UpdateHp (?&lt;type&gt;27):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;currentHp&gt;[^:]*):(?&lt;maxHp&gt;[^:]*):(?&lt;currentMp&gt;[^:]*):(?&lt;maxMp&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-24"><a href="#示例-24" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">39|2021-04-26T14:12:38.5160000-04:00|10FF0001|Tini Poutini|178669|191948|10000|10000|0|0|-648.3234|-804.5252|8.570148|1.010669|7ebe348673aa2a11e4036274becabc81</span><br><span class="line">39|2021-04-26T14:13:21.6370000-04:00|10592642|Senor Esteban|54792|54792|10000|10000|0|0|100.268|114.22|-1.837917E-09|3.141593|883da0db11a9c950eefdbcbc50e86eca</span><br><span class="line">39|2021-04-26T14:13:21.6370000-04:00|106F5D49|O&#x27;ndanya Voupin|79075|79075|10000|10000|0|0|99.93127|114.2443|-1.862645E-09|-3.141593|8ed73ee57c4ab7159628584e2f4d5243</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[14:12:38.516] UpdateHp 27:10FF0001:Tini Poutini:178669:191948:10000:10000:0:0:-648.3234:-804.5252:8.570148:1.010669</span><br><span class="line">[14:13:21.637] UpdateHp 27:10592642:Senor Esteban:54792:54792:10000:10000:0:0:100.268:114.22:-1.837917E-09:3.141593</span><br><span class="line">[14:13:21.637] UpdateHp 27:106F5D49:O&#x27;ndanya Voupin:79075:79075:10000:10000:0:0:99.93127:114.2443:-1.862645E-09:-3.141593</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line40"></a></p>
<h3 id="Line-40-0x28-地图（Map）"><a href="#Line-40-0x28-地图（Map）" class="headerlink" title="Line 40 (0x28): 地图（Map）"></a>Line 40 (0x28): 地图（Map）</h3><p>此日志行会在地图改变时输出。在切换区域时会输出此行，而会使地图改变的子区域切换（例如在副本中穿过区域切换的线）也会输出此行。</p>
<p><code>regionName</code>和<code>placeName</code>总会显示，而<code>placeNameSub</code>是可选项。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=Map&lang=en-US) -->

<h4 id="日志结构-25"><a href="#日志结构-25" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">40|[timestamp]|[id]|[regionName]|[placeName]|[placeNameSub]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] ChangeMap 28:[id]:[regionName]:[placeName]:[placeNameSub]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-25"><a href="#正则表达式-25" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;40)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;regionName&gt;[^|]*)\|(?&lt;placeName&gt;[^|]*)\|(?&lt;placeNameSub&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) ChangeMap (?&lt;type&gt;28):(?&lt;id&gt;[^:]*):(?&lt;regionName&gt;[^:]*):(?&lt;placeName&gt;[^:]*):(?&lt;placeNameSub&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-25"><a href="#示例-25" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">40|2021-07-30T19:43:08.6270000-07:00|578|Norvrandt|The Copied Factory|Upper Stratum|ee5b5fc06ab4610ef6b4f030fc95c90c</span><br><span class="line">40|2021-07-30T19:46:49.3830000-07:00|575|Norvrandt|Excavation Tunnels||41e6dae1ab1a3fe18ce3754d7c45a5d0</span><br><span class="line">40|2021-07-30T19:49:19.8180000-07:00|192|La Noscea|Mist|Mist Subdivision|f3506f063945500b5e7df2172e2ca4d3</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[19:43:08.627] ChangeMap 28:578:Norvrandt:The Copied Factory:Upper Stratum</span><br><span class="line">[19:46:49.383] ChangeMap 28:575:Norvrandt:Excavation Tunnels:</span><br><span class="line">[19:49:19.818] ChangeMap 28:192:La Noscea:Mist:Mist Subdivision</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><a name="line41"></a></p>
<h3 id="Line-41-0x29-系统日志消息（SystemLogMessage）"><a href="#Line-41-0x29-系统日志消息（SystemLogMessage）" class="headerlink" title="Line 41 (0x29): 系统日志消息（SystemLogMessage）"></a>Line 41 (0x29): 系统日志消息（SystemLogMessage）</h3><p>此日志行会在有系统日志消息时输出。由于游戏内日志行是从解析插件的内存中读取的，<a href="#line41">41</a>行有可能在对应的<a href="#line00">00</a>行之前或之后输出。也就是说，这2类日志行通常在网络日志文件中连续出现，因此二者对比并没有时间上的优势或差距；但系统日志消息会含有正确的时间戳。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[10:38:40.066] SystemLogMessage 29:00:901:619A9200:00:3C</span><br><span class="line">[10:38:39.000] ChatLog 00:0839::Objective accomplished. If applicable, please make sure to submit items within the time limit.</span><br><span class="line"></span><br><span class="line">[10:50:13.565] SystemLogMessage 29:8004001E:7DD:FF5FDA02:E1B:00</span><br><span class="line">[10:50:13.000] ChatLog 00:0839::The Theater of One is sealed off!</span><br><span class="line"></span><br><span class="line">[10:55:06.000] ChatLog 00:0839::The teleportation crystal glimmers.</span><br><span class="line">[10:55:06.707] SystemLogMessage 29:8004001E:B3A:00:00:E0000000</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:START (logLines:type=SystemLogMessage&lang=en-US) -->

<h4 id="日志结构-26"><a href="#日志结构-26" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">41|[timestamp]|[instance]|[id]|[param0]|[param1]|[param2]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] SystemLogMessage 29:[instance]:[id]:[param0]:[param1]:[param2]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-26"><a href="#正则表达式-26" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;41)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;instance&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;param0&gt;[^|]*)\|(?&lt;param1&gt;[^|]*)\|(?&lt;param2&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) SystemLogMessage (?&lt;type&gt;29):(?&lt;instance&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;param0&gt;[^:]*):(?&lt;param1&gt;[^:]*):(?&lt;param2&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-26"><a href="#示例-26" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">41|2021-11-21T10:38:40.0660000-08:00|00|901|619A9200|00|3C|c6fcd8a8b198a5da28b9cfe6a3f544f4</span><br><span class="line">41|2021-11-21T10:50:13.5650000-08:00|8004001E|7DD|FF5FDA02|E1B|00|4eeb89399fce54820eb19e06b4d6d95a</span><br><span class="line">41|2021-11-21T10:55:06.7070000-08:00|8004001E|B3A|00|00|E0000000|1f600f85ec8d36d2b04d233e19f93d39</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[10:38:40.066] SystemLogMessage 29:00:901:619A9200:00:3C</span><br><span class="line">[10:50:13.565] SystemLogMessage 29:8004001E:7DD:FF5FDA02:E1B:00</span><br><span class="line">[10:55:06.707] SystemLogMessage 29:8004001E:B3A:00:00:E0000000</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END -->

<p><code>id</code>参数可以在<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/LogMessage.csv">日志消息表</a>中查到。</p>
<table>
<thead>
<tr>
<th>id（十六进制）</th>
<th>链接</th>
<th>消息内容</th>
</tr>
</thead>
<tbody><tr>
<td>0x2EE</td>
<td><a target="_blank" rel="noopener" href="https://xivapi.com/LogMessage/750?pretty=true">链接</a></td>
<td>获得了（某物品）</td>
</tr>
<tr>
<td>0x7DC</td>
<td><a target="_blank" rel="noopener" href="https://xivapi.com/LogMessage/2012?pretty=true">链接</a></td>
<td>将在X秒后封锁</td>
</tr>
<tr>
<td>0x7DD</td>
<td><a target="_blank" rel="noopener" href="https://xivapi.com/LogMessage/2013?pretty=true">链接</a></td>
<td>已封锁</td>
</tr>
<tr>
<td>0x7DE</td>
<td><a target="_blank" rel="noopener" href="https://xivapi.com/LogMessage/2014?pretty=true">链接</a></td>
<td>封锁解除</td>
</tr>
</tbody></table>
<p>日志消息本身决定了其他的参数。似乎日志消息中的<code>IntegerParameter(1)</code>与<code>param1</code>相关，<code>IntegerParameter(2)</code>与<code>param2</code>相关。<br><code>param0</code>的作用和其他<code>Parameter</code>函数的作用目前尚不清楚。</p>
<p>以下是2个网络日志行的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">41|2022-01-11T16:28:50.6340000-08:00|80030054|7DC|02|1008|0F|1a1b91bd4bf5d5e1^M</span><br><span class="line">00|2022-01-11T16:28:50.0000000-08:00|0839||The shell mound will be sealed off in 15 seconds!|3a0befeef04e203b^M</span><br></pre></td></tr></table></figure>

<p>有关<code>instance</code>参数的更多细节，参见<a href="#instance-content-id">副本内容ID</a>。</p>
<p><code>00830054</code>表示副本<a target="_blank" rel="noopener" href="https://xivapi.com/InstanceContent/84?pretty=true">最终幻想末世终迹</a>。</p>
<p><code>7DC</code>代表<code>id</code>，<a target="_blank" rel="noopener" href="https://xivapi.com/LogMessage/2012?pretty=true">对应的信息</a>是：<code>&quot;&lt;Clickable(&lt;SheetEn(PlaceName,2,IntegerParameter(1),2,1)\/&gt;)\/&gt; will be sealed off in &lt;Value&gt;IntegerParameter(2)&lt;\/Value&gt; &lt;If(Equal(IntegerParameter(2),1))&gt;second&lt;Else\/&gt;seconds&lt;\/If&gt;!&quot;</code></p>
<p>使用日志信息本身来判断<code>param1</code>和<code>param2</code>是否有含义。</p>
<p>在这个例子中，<code>param1</code>是<code>1008</code>，根据日志信息可得这是一个地点名称ID。查询<a target="_blank" rel="noopener" href="https://xivapi.com/PlaceName/4104?pretty=true">地点名称</a>可得”Shell Mound”。</p>
<p><code>param2</code>是<code>0x0F</code>，根据日志信息，它表示该区域将在多少秒后封锁，即十进制的15秒。</p>
<p>以下是另一个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">41|2022-02-18T22:03:00.5130000-08:00|1B01EA|2EE|C2BD6401|758A|45D530|9efb90e26e3b41c3</span><br><span class="line">00|2022-02-18T22:03:00.0000000-08:00|0BBE||You obtain a little leafman.|51d9427a6354d3af</span><br></pre></td></tr></table></figure>

<p><code>2EE</code>代表了<code>id</code>，<a target="_blank" rel="noopener" href="https://xivapi.com/LogMessage/750?pretty=true">对应的信息</a>是：<code>&quot;&lt;Clickable(&lt;If(Equal(ObjectParameter(1),ObjectParameter(2)))&gt;you&lt;Else/&gt;&lt;If(PlayerParameter(7))&gt;&lt;SheetEn(ObjStr,2,PlayerParameter(7),1,1)/&gt;&lt;Else/&gt;ObjectParameter(2)&lt;/If&gt;&lt;/If&gt;)/&gt; &lt;If(Equal(ObjectParameter(1),ObjectParameter(2)))&gt;obtain&lt;Else/&gt;obtains&lt;/If&gt; &lt;SheetEn(Item,1,IntegerParameter(1),1,1)/&gt;.&quot;</code></p>
<p>在这个例子中，<code>param1</code>是<code>758A</code>，<a target="_blank" rel="noopener" href="https://xivapi.com/Item/30090?pretty=true">对应的信息是</a><code>物品</code>表中的”Little Leafman”。目前尚不可知<code>ObjectParameter</code>和<code>PlayerParameter</code>在此处的作用。</p>
<p>未来的工作：</p>
<ul>
<li><code>param0</code>的作用是？是否只是跳过了该参数？</li>
<li><code>ObjectParameter</code>和<code>PlayerParameter</code>在<code>LogMessage</code>表中的作用是？</li>
<li>有些日志消息不会以<code>41</code>行的形式出现，例如“到达了探索笔记的地点！”或“开始！”。</li>
</ul>
<p><a name="line42"></a></p>
<h3 id="Line-42-0x2A-状态列表3（StatusList3）"><a href="#Line-42-0x2A-状态列表3（StatusList3）" class="headerlink" title="Line 42 (0x2A): 状态列表3（StatusList3）"></a>Line 42 (0x2A): 状态列表3（StatusList3）</h3><p>这行数据似乎仅会发送给当前玩家，并列出一些状态效果。目前仍需更多信息。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=StatusList3&lang=en-US) -->

<h4 id="日志结构-27"><a href="#日志结构-27" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">42|[timestamp]|[id]|[name]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] StatusList3 2A:[id]:[name]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-27"><a href="#正则表达式-27" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;42)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) StatusList3 (?&lt;type&gt;2A):(?&lt;id&gt;[^:]*):(?&lt;name&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-27"><a href="#示例-27" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">42|2022-06-06T21:57:14.8920000+08:00|10FF0001|Tini Poutini|0A0168|41F00000|E0000000|14016A|41F00000|E0000000|29310030|44835452|10FF0001|4361fffcb50708dd</span><br><span class="line">42|2022-06-06T10:04:52.3370000-07:00|10FF0002|Potato Chippy|037F|0|E0000000|ee5bd3e5dbb46f59</span><br><span class="line">42|2022-06-06T10:09:06.2140000-07:00|10FF0002|Potato Chippy|0|0|0|f988f962f9c768e3</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[21:57:14.892] StatusList3 2A:10FF0001:Tini Poutini:0A0168:41F00000:E0000000:14016A:41F00000:E0000000:29310030:44835452:10FF0001</span><br><span class="line">[10:04:52.337] StatusList3 2A:10FF0002:Potato Chippy:037F:0:E0000000</span><br><span class="line">[10:09:06.214] StatusList3 2A:10FF0002:Potato Chippy:0:0:0</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=StatusList3&lang=en-US) -->

<p><a name="line251"></a></p>
<h3 id="Line-251-0xFB-调试（Debug）"><a href="#Line-251-0xFB-调试（Debug）" class="headerlink" title="Line 251 (0xFB): 调试（Debug）"></a>Line 251 (0xFB): 调试（Debug）</h3><p>网络日志行时常包含如下的信息：<br><code>251|2019-05-21T19:11:02.0268703-07:00|ProcessTCPInfo: New connection detected for Process [2644]: 192.168.1.70:49413=&gt;204.2.229.85:55021|909171c500bed915f8d79fc04d3589fa</code></p>
<p>解析日志行的对应类型行通常是空的。</p>
<p><a name="line252"></a></p>
<h3 id="Line-252-0xFC-数据包转储（PacketDump）"><a href="#Line-252-0xFC-数据包转储（PacketDump）" class="headerlink" title="Line 252 (0xFC): 数据包转储（PacketDump）"></a>Line 252 (0xFC): 数据包转储（PacketDump）</h3><p>如果开启了“将所有网络数据转储到日志文件”的设置，那么ACT会将所有网络数据写入网络日志中。此选项可以后续用于将网络日志文件导入到ffxivmon中，以便进一步检查数据包内容。</p>
<p>解析日志行的对应类型是空的。</p>
<p><img src="/images/logguide_dumpnetworkdata.png" alt="dump network data screenshot"></p>
<p><a name="line253"></a></p>
<h3 id="Line-253-0xFD-版本（Version）"><a href="#Line-253-0xFD-版本（Version）" class="headerlink" title="Line 253 (0xFD): 版本（Version）"></a>Line 253 (0xFD): 版本（Version）</h3><p>对应的网络日志行通常如下所示：<br><code>253|2019-05-21T19:11:02.0268703-07:00|FFXIV PLUGIN VERSION: 1.7.2.12, CLIENT MODE: FFXIV_64|845e2929259656c833460402c9263d5c</code></p>
<p>解析日志行的对应类型是空的。</p>
<p><a name="line254"></a></p>
<h3 id="Line-254-0xFE-错误（Error）"><a href="#Line-254-0xFE-错误（Error）" class="headerlink" title="Line 254 (0xFE): 错误（Error）"></a>Line 254 (0xFE): 错误（Error）</h3><p>当某些东西出错时，解析插件会直接发送这些日志行。</p>
<h2 id="OverlayPlugin日志行（OverlayPlugin-Log-Lines）"><a href="#OverlayPlugin日志行（OverlayPlugin-Log-Lines）" class="headerlink" title="OverlayPlugin日志行（OverlayPlugin Log Lines）"></a>OverlayPlugin日志行（OverlayPlugin Log Lines）</h2><p>如果使用了OverlayPlugin插件，它将会直接发送额外的日志行，这些日志行并不包括在ffxiv解析插件中。这些日志行的ID将从<code>256</code>开始递增，<code>0-255</code>的ID则仍为ffxiv解析插件保留。</p>
<p><a name="line256"></a></p>
<h3 id="Line-256-0x100-日志行注册（LineRegistration）"><a href="#Line-256-0x100-日志行注册（LineRegistration）" class="headerlink" title="Line 256 (0x100): 日志行注册（LineRegistration）"></a>Line 256 (0x100): 日志行注册（LineRegistration）</h3><p>当任何自定义日志行通过OverPlugin注册时，输出此日志行。这样可以明确知道某日志文件中可以看见哪些日志行和对应的版本号。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=LineRegistration&lang=en-US) -->

<h4 id="日志结构-28"><a href="#日志结构-28" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">256|[timestamp]|[id]|[source]|[name]|[version]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 256 100:[id]:[source]:[name]:[version]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-28"><a href="#正则表达式-28" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;256)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;source&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|(?&lt;version&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 256 (?&lt;type&gt;100):(?&lt;id&gt;[^:]*):(?&lt;source&gt;[^:]*):(?&lt;name&gt;[^:]*):(?&lt;version&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-28"><a href="#示例-28" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">256|2022-10-02T10:15:31.5635165-07:00|257|OverlayPlugin|MapEffect|1|594b867ee2199369</span><br><span class="line">256|2022-10-02T10:15:31.5645159-07:00|258|OverlayPlugin|FateDirector|1|102a238b2495bfd0</span><br><span class="line">256|2022-10-02T10:15:31.5655143-07:00|259|OverlayPlugin|CEDirector|1|35546b48906c41b2</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[10:15:31.563] 256 100:257:OverlayPlugin:MapEffect:1</span><br><span class="line">[10:15:31.564] 256 100:258:OverlayPlugin:FateDirector:1</span><br><span class="line">[10:15:31.565] 256 100:259:OverlayPlugin:CEDirector:1</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=LineRegistration&lang=en-US) -->

<p><a name="line257"></a></p>
<h3 id="Line-257-0x101-地图效果（MapEffect）"><a href="#Line-257-0x101-地图效果（MapEffect）" class="headerlink" title="Line 257 (0x101): 地图效果（MapEffect）"></a>Line 257 (0x101): 地图效果（MapEffect）</h3><p>此消息用于在副本中触发客户端渲染某些特定的视觉效果。地图效果行并不与任何特定的角色或技能绑定，但可能会提供某些视觉信息提示，以预判即将出现的机制。</p>
<p>例如，P6S中的以太多连方或以太多连方Σ读条后，发送此日志行，使客户端在特定的地板格上渲染<code>+</code>或<code>x</code>的形状，以提示玩家稍后这些格子会被多连方冥暗击中。</p>
<p>此行还包含以下的信息：</p>
<ul>
<li>末日暗影亚马乌罗提中的陨石&#x2F;断桥动画</li>
<li>绝龙诗中的龙眼位置</li>
<li>P8S的灼炎创火（蓝线框住的地板会造成伤害）</li>
</ul>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=MapEffect&lang=en-US) -->

<h4 id="日志结构-29"><a href="#日志结构-29" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">257|[timestamp]|[instance]|[flags]|[location]|[data0]|[data1]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 257 101:[instance]:[flags]:[location]:[data0]:[data1]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-29"><a href="#正则表达式-29" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;257)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;instance&gt;[^|]*)\|(?&lt;flags&gt;[^|]*)\|(?&lt;location&gt;[^|]*)\|(?&lt;data0&gt;[^|]*)\|(?&lt;data1&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 257 (?&lt;type&gt;101):(?&lt;instance&gt;[^:]*):(?&lt;flags&gt;[^:]*):(?&lt;location&gt;[^:]*):(?&lt;data0&gt;[^:]*):(?&lt;data1&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-29"><a href="#示例-29" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">257|2022-09-27T18:03:45.2834013-07:00|800375A9|00020001|09|F3|0000|de00c57494e85e79</span><br><span class="line">257|2022-09-27T18:06:07.7744035-07:00|800375A9|00400020|01|00|0000|72933fe583158786</span><br><span class="line">257|2022-09-29T20:07:48.7330170-07:00|800375A5|00020001|05|00|0000|28c0449a8d0efa7d</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[18:03:45.283] 257 101:800375A9:00020001:09:F3:0000</span><br><span class="line">[18:06:07.774] 257 101:800375A9:00400020:01:00:0000</span><br><span class="line">[20:07:48.733] 257 101:800375A5:00020001:05:00:0000</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=MapEffect&lang=en-US) -->

<p><code>instance</code>参数与<a href="#line33">玩家控制日志行</a>中的<code>instance</code>一致，更多信息参见前文。</p>
<p><code>flags</code>参数表示游戏中即将渲染的视觉效果。例如，P6S中，<code>00020001</code>标识表示了<code>+</code>形地板，而<code>00400020</code>表示<code>x</code>形地板。这些标识在不同的副本中含义并不一致：上文中的<code>00400020</code>标识在P5S和P6S中均有出现，而它们分别表示了完全不同的视觉效果。</p>
<p>根据初步分析，每渲染一个地图效果，在效果结束时，系统会发送第二条带有<code>00080004</code>标识的地图效果行，该行可能表示此效果的移除。这一行为在多个战斗中表现出了一致性，但仍需信息进一步确认是否适用于所有情况。</p>
<p><code>location</code>参数表示目前副本中将要渲染该效果的位置。位置参数在不同副本内的表示方式并不一致。例如，位置<code>05</code>在P6S中表示16个地板格中的某一块；而在P5S中，位置<code>05</code>对应的是完全不同的地图坐标。</p>
<p><a name="line258"></a></p>
<h3 id="Line-258-0x102-Fate管理（FateDirector）"><a href="#Line-258-0x102-Fate管理（FateDirector）" class="headerlink" title="Line 258 (0x102): Fate管理（FateDirector）"></a>Line 258 (0x102): Fate管理（FateDirector）</h3><p>此行表示地图上Fate状态的变更，包括新Fate出现、Fate消失或Fate进度更新。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=FateDirector&lang=en-US) -->

<h4 id="日志结构-30"><a href="#日志结构-30" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">258|[timestamp]|[category]|[?]|[fateId]|[progress]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 258 102:[category]:[?]:[fateId]:[progress]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-30"><a href="#正则表达式-30" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;258)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;category&gt;[^|]*)\|(?:[^|]*\|)(?&lt;fateId&gt;[^|]*)\|(?&lt;progress&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 258 (?&lt;type&gt;102):(?&lt;category&gt;[^:]*):[^:]*:(?&lt;fateId&gt;[^:]*):(?&lt;progress&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-30"><a href="#示例-30" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">258|2022-09-19T17:25:59.5582137-07:00|Add|E601|000000DE|00000000|00000000|00000000|00000000|00000000|00000000|c7fd9f9aa7f56d4d</span><br><span class="line">258|2022-08-13T19:46:54.6179420-04:00|Update|203A|00000287|00000000|00000000|00000000|00000000|00000000|6E756F63|bd60bac0189b571e</span><br><span class="line">258|2022-09-24T12:51:47.5867309-07:00|Remove|0000|000000E2|00000000|00000000|00000000|00000000|00000000|00007FF9|043b821dbfe608c5</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[17:25:59.558] 258 102:Add:E601:000000DE:00000000:00000000:00000000:00000000:00000000:00000000</span><br><span class="line">[19:46:54.617] 258 102:Update:203A:00000287:00000000:00000000:00000000:00000000:00000000:6E756F63</span><br><span class="line">[12:51:47.586] 258 102:Remove:0000:000000E2:00000000:00000000:00000000:00000000:00000000:00007FF9</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=FateDirector&lang=en-US) -->

<p><a name="line259"></a></p>
<h3 id="Line-259-0x103-CE管理（CEDirector）"><a href="#Line-259-0x103-CE管理（CEDirector）" class="headerlink" title="Line 259 (0x103): CE管理（CEDirector）"></a>Line 259 (0x103): CE管理（CEDirector）</h3><p>此日志行类似<a href="#line258">Fate管理</a>，但适用于博兹雅的紧急遭遇战（CE）。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=CEDirector&lang=en-US) -->

<h4 id="日志结构-31"><a href="#日志结构-31" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">259|[timestamp]|[popTime]|[timeRemaining]|[?]|[ceKey]|[numPlayers]|[status]|[?]|[progress]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 259 103:[popTime]:[timeRemaining]:[?]:[ceKey]:[numPlayers]:[status]:[?]:[progress]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-31"><a href="#正则表达式-31" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;259)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;popTime&gt;[^|]*)\|(?&lt;timeRemaining&gt;[^|]*)\|(?:[^|]*\|)(?&lt;ceKey&gt;[^|]*)\|(?&lt;numPlayers&gt;[^|]*)\|(?&lt;status&gt;[^|]*)\|(?:[^|]*\|)(?&lt;progress&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 259 (?&lt;type&gt;103):(?&lt;popTime&gt;[^:]*):(?&lt;timeRemaining&gt;[^:]*):[^:]*:(?&lt;ceKey&gt;[^:]*):(?&lt;numPlayers&gt;[^:]*):(?&lt;status&gt;[^:]*):[^:]*:(?&lt;progress&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-31"><a href="#示例-31" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">259|2022-09-19T18:09:35.7012951-07:00|632912D5|0000|0000|07|01|02|00|00|7F|00|00|4965d513cc7a6dd3</span><br><span class="line">259|2022-09-19T18:09:39.9541413-07:00|63291786|04B0|0000|07|01|03|00|00|00|00|00|6c18aa16678911ca</span><br><span class="line">259|2022-09-19T18:09:46.7556709-07:00|63291786|04AA|0000|07|01|03|00|02|7F|00|00|5bf224d56535513a</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[18:09:35.701] 259 103:632912D5:0000:0000:07:01:02:00:00:7F:00:00</span><br><span class="line">[18:09:39.954] 259 103:63291786:04B0:0000:07:01:03:00:00:00:00:00</span><br><span class="line">[18:09:46.755] 259 103:63291786:04AA:0000:07:01:03:00:02:7F:00:00</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=CEDirector&lang=en-US) -->

<p><a name="line260"></a></p>
<h3 id="Line-260-0x104-战斗中（InCombat）"><a href="#Line-260-0x104-战斗中（InCombat）" class="headerlink" title="Line 260 (0x104): 战斗中（InCombat）"></a>Line 260 (0x104): 战斗中（InCombat）</h3><p>此日志行用于追踪战斗状态。<code>inGameCombat</code>表示FFXIV游戏本体是否认为你处于战斗中；而<code>inACTCombat</code>表示ACT是否认为你处于战斗中，这包括周围的其他玩家是否进战，同时受到ACT中的战斗设置影响。</p>
<p><code>isACTChanged</code>和<code>isGameChanged</code>表示战斗状态自上一行日志以后是否改变过。如果状态发生改变，将会输出此行；因此，可以编写触发器来检测其中的某一项是否发生改变。日志首次写入时，这两个状态都会是真。</p>
<p>在导入日志时，OverlayPlugin会使用<code>inACTCombat</code>重新划分战斗，以还原日志记录时的战斗划分。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=InCombat&lang=en-US) -->

<h4 id="日志结构-32"><a href="#日志结构-32" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">260|[timestamp]|[inACTCombat]|[inGameCombat]|[isACTChanged]|[isGameChanged]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 260 104:[inACTCombat]:[inGameCombat]:[isACTChanged]:[isGameChanged]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-32"><a href="#正则表达式-32" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;260)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;inACTCombat&gt;[^|]*)\|(?&lt;inGameCombat&gt;[^|]*)\|(?&lt;isACTChanged&gt;[^|]*)\|(?&lt;isGameChanged&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 260 (?&lt;type&gt;104):(?&lt;inACTCombat&gt;[^:]*):(?&lt;inGameCombat&gt;[^:]*):(?&lt;isACTChanged&gt;[^:]*):(?&lt;isGameChanged&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-32"><a href="#示例-32" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">260|2023-01-03T10:17:15.8240000-08:00|0|0|1|1|7da9e0cfed11abfe</span><br><span class="line">260|2023-01-03T17:51:42.9680000-08:00|1|0|0|1|ae12d0898d923251</span><br><span class="line">260|2023-01-03T17:54:50.0680000-08:00|1|1|1|0|3ba06c97a4cbbf42</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[10:17:15.824] 260 104:0:0:1:1</span><br><span class="line">[17:51:42.968] 260 104:1:0:0:1</span><br><span class="line">[17:54:50.068] 260 104:1:1:1:0</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=InCombat&lang=en-US) -->

<p><a name="line261"></a></p>
<h3 id="Line-261-0x105-战斗单位内存（CombatantMemory）"><a href="#Line-261-0x105-战斗单位内存（CombatantMemory）" class="headerlink" title="Line 261 (0x105): 战斗单位内存（CombatantMemory）"></a>Line 261 (0x105): 战斗单位内存（CombatantMemory）</h3><p>OverlayPlugin有一个<code>getCombatants</code>函数，用于返回游戏中战斗单位的状态。<br>不过，什么时候可以“安全”地调用此函数并不容易判断，例如对象是否已移动到对应位置（或模型更新、面向改变等等）。<br>此日志行提供了更细粒度的信息以追踪战斗单位的状态改变。<br>需要注意的是，这仍然是通过轮询内存的方式获取的（在时间上可能存在竞争）；并且为了减少日志数量采用了某些启发式规则，因此数据可能不够精确。</p>
<p>更多信息参见OverlayPlugin源码中的<a target="_blank" rel="noopener" href="https://github.com/OverlayPlugin/OverlayPlugin/blob/main/OverlayPlugin.Core/MemoryProcessors/Combatant/LineCombatant.cs#L27">类定义</a>。</p>
<p>此日志行有3种类型：</p>
<ul>
<li>单位新增：输出战斗单位所有非初始值的字段</li>
<li>单位状态改变：输出所有改变的字段</li>
<li>单位移除：不输出字段</li>
</ul>
<p>每一行都可能包含任意数量的字段名称&#x2F;数值对。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=CombatantMemory&lang=en-US) -->

<h4 id="日志结构-33"><a href="#日志结构-33" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">261|[timestamp]|[change]|[id]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 261 105:[change]:[id]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-33"><a href="#正则表达式-33" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;261)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;change&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?:AggressionStatus\|(?&lt;pairAggressionStatus&gt;[^|]*)\|)?(?:BNpcID\|(?&lt;pairBNpcID&gt;[^|]*)\|)?(?:BNpcNameID\|(?&lt;pairBNpcNameID&gt;[^|]*)\|)?(?:CastBuffID\|(?&lt;pairCastBuffID&gt;[^|]*)\|)?(?:CastDurationCurrent\|(?&lt;pairCastDurationCurrent&gt;[^|]*)\|)?(?:CastDurationMax\|(?&lt;pairCastDurationMax&gt;[^|]*)\|)?(?:CastGroundTargetX\|(?&lt;pairCastGroundTargetX&gt;[^|]*)\|)?(?:CastGroundTargetY\|(?&lt;pairCastGroundTargetY&gt;[^|]*)\|)?(?:CastGroundTargetZ\|(?&lt;pairCastGroundTargetZ&gt;[^|]*)\|)?(?:CastTargetID\|(?&lt;pairCastTargetID&gt;[^|]*)\|)?(?:CurrentCP\|(?&lt;pairCurrentCP&gt;[^|]*)\|)?(?:CurrentGP\|(?&lt;pairCurrentGP&gt;[^|]*)\|)?(?:CurrentHP\|(?&lt;pairCurrentHP&gt;[^|]*)\|)?(?:CurrentMP\|(?&lt;pairCurrentMP&gt;[^|]*)\|)?(?:CurrentWorldID\|(?&lt;pairCurrentWorldID&gt;[^|]*)\|)?(?:Distance\|(?&lt;pairDistance&gt;[^|]*)\|)?(?:EffectiveDistance\|(?&lt;pairEffectiveDistance&gt;[^|]*)\|)?(?:Heading\|(?&lt;pairHeading&gt;[^|]*)\|)?(?:ID\|(?&lt;pairID&gt;[^|]*)\|)?(?:IsCasting1\|(?&lt;pairIsCasting1&gt;[^|]*)\|)?(?:IsCasting2\|(?&lt;pairIsCasting2&gt;[^|]*)\|)?(?:IsTargetable\|(?&lt;pairIsTargetable&gt;[^|]*)\|)?(?:Job\|(?&lt;pairJob&gt;[^|]*)\|)?(?:Level\|(?&lt;pairLevel&gt;[^|]*)\|)?(?:MaxCP\|(?&lt;pairMaxCP&gt;[^|]*)\|)?(?:MaxGP\|(?&lt;pairMaxGP&gt;[^|]*)\|)?(?:MaxHP\|(?&lt;pairMaxHP&gt;[^|]*)\|)?(?:MaxMP\|(?&lt;pairMaxMP&gt;[^|]*)\|)?(?:ModelStatus\|(?&lt;pairModelStatus&gt;[^|]*)\|)?(?:MonsterType\|(?&lt;pairMonsterType&gt;[^|]*)\|)?(?:Name\|(?&lt;pairName&gt;[^|]*)\|)?(?:NPCTargetID\|(?&lt;pairNPCTargetID&gt;[^|]*)\|)?(?:OwnerID\|(?&lt;pairOwnerID&gt;[^|]*)\|)?(?:PartyType\|(?&lt;pairPartyType&gt;[^|]*)\|)?(?:PCTargetID\|(?&lt;pairPCTargetID&gt;[^|]*)\|)?(?:PosX\|(?&lt;pairPosX&gt;[^|]*)\|)?(?:PosY\|(?&lt;pairPosY&gt;[^|]*)\|)?(?:PosZ\|(?&lt;pairPosZ&gt;[^|]*)\|)?(?:Radius\|(?&lt;pairRadius&gt;[^|]*)\|)?(?:Status\|(?&lt;pairStatus&gt;[^|]*)\|)?(?:TargetID\|(?&lt;pairTargetID&gt;[^|]*)\|)?(?:TransformationId\|(?&lt;pairTransformationId&gt;[^|]*)\|)?(?:Type\|(?&lt;pairType&gt;[^|]*)\|)?(?:WeaponId\|(?&lt;pairWeaponId&gt;[^|]*)\|)?(?:WorldID\|(?&lt;pairWorldID&gt;[^|]*)\|)?(?:WorldName\|(?&lt;pairWorldName&gt;[^|]*)\|)?</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 261 (?&lt;type&gt;105):(?&lt;change&gt;[^:]*):(?&lt;id&gt;[^:]*):(?:AggressionStatus(?:$|:)(?&lt;pairAggressionStatus&gt;[^:]*)(?:$|:))?(?:BNpcID(?:$|:)(?&lt;pairBNpcID&gt;[^:]*)(?:$|:))?(?:BNpcNameID(?:$|:)(?&lt;pairBNpcNameID&gt;[^:]*)(?:$|:))?(?:CastBuffID(?:$|:)(?&lt;pairCastBuffID&gt;[^:]*)(?:$|:))?(?:CastDurationCurrent(?:$|:)(?&lt;pairCastDurationCurrent&gt;[^:]*)(?:$|:))?(?:CastDurationMax(?:$|:)(?&lt;pairCastDurationMax&gt;[^:]*)(?:$|:))?(?:CastGroundTargetX(?:$|:)(?&lt;pairCastGroundTargetX&gt;[^:]*)(?:$|:))?(?:CastGroundTargetY(?:$|:)(?&lt;pairCastGroundTargetY&gt;[^:]*)(?:$|:))?(?:CastGroundTargetZ(?:$|:)(?&lt;pairCastGroundTargetZ&gt;[^:]*)(?:$|:))?(?:CastTargetID(?:$|:)(?&lt;pairCastTargetID&gt;[^:]*)(?:$|:))?(?:CurrentCP(?:$|:)(?&lt;pairCurrentCP&gt;[^:]*)(?:$|:))?(?:CurrentGP(?:$|:)(?&lt;pairCurrentGP&gt;[^:]*)(?:$|:))?(?:CurrentHP(?:$|:)(?&lt;pairCurrentHP&gt;[^:]*)(?:$|:))?(?:CurrentMP(?:$|:)(?&lt;pairCurrentMP&gt;[^:]*)(?:$|:))?(?:CurrentWorldID(?:$|:)(?&lt;pairCurrentWorldID&gt;[^:]*)(?:$|:))?(?:Distance(?:$|:)(?&lt;pairDistance&gt;[^:]*)(?:$|:))?(?:EffectiveDistance(?:$|:)(?&lt;pairEffectiveDistance&gt;[^:]*)(?:$|:))?(?:Heading(?:$|:)(?&lt;pairHeading&gt;[^:]*)(?:$|:))?(?:ID(?:$|:)(?&lt;pairID&gt;[^:]*)(?:$|:))?(?:IsCasting1(?:$|:)(?&lt;pairIsCasting1&gt;[^:]*)(?:$|:))?(?:IsCasting2(?:$|:)(?&lt;pairIsCasting2&gt;[^:]*)(?:$|:))?(?:IsTargetable(?:$|:)(?&lt;pairIsTargetable&gt;[^:]*)(?:$|:))?(?:Job(?:$|:)(?&lt;pairJob&gt;[^:]*)(?:$|:))?(?:Level(?:$|:)(?&lt;pairLevel&gt;[^:]*)(?:$|:))?(?:MaxCP(?:$|:)(?&lt;pairMaxCP&gt;[^:]*)(?:$|:))?(?:MaxGP(?:$|:)(?&lt;pairMaxGP&gt;[^:]*)(?:$|:))?(?:MaxHP(?:$|:)(?&lt;pairMaxHP&gt;[^:]*)(?:$|:))?(?:MaxMP(?:$|:)(?&lt;pairMaxMP&gt;[^:]*)(?:$|:))?(?:ModelStatus(?:$|:)(?&lt;pairModelStatus&gt;[^:]*)(?:$|:))?(?:MonsterType(?:$|:)(?&lt;pairMonsterType&gt;[^:]*)(?:$|:))?(?:Name(?:$|:)(?&lt;pairName&gt;[^:]*)(?:$|:))?(?:NPCTargetID(?:$|:)(?&lt;pairNPCTargetID&gt;[^:]*)(?:$|:))?(?:OwnerID(?:$|:)(?&lt;pairOwnerID&gt;[^:]*)(?:$|:))?(?:PartyType(?:$|:)(?&lt;pairPartyType&gt;[^:]*)(?:$|:))?(?:PCTargetID(?:$|:)(?&lt;pairPCTargetID&gt;[^:]*)(?:$|:))?(?:PosX(?:$|:)(?&lt;pairPosX&gt;[^:]*)(?:$|:))?(?:PosY(?:$|:)(?&lt;pairPosY&gt;[^:]*)(?:$|:))?(?:PosZ(?:$|:)(?&lt;pairPosZ&gt;[^:]*)(?:$|:))?(?:Radius(?:$|:)(?&lt;pairRadius&gt;[^:]*)(?:$|:))?(?:Status(?:$|:)(?&lt;pairStatus&gt;[^:]*)(?:$|:))?(?:TargetID(?:$|:)(?&lt;pairTargetID&gt;[^:]*)(?:$|:))?(?:TransformationId(?:$|:)(?&lt;pairTransformationId&gt;[^:]*)(?:$|:))?(?:Type(?:$|:)(?&lt;pairType&gt;[^:]*)(?:$|:))?(?:WeaponId(?:$|:)(?&lt;pairWeaponId&gt;[^:]*)(?:$|:))?(?:WorldID(?:$|:)(?&lt;pairWorldID&gt;[^:]*)(?:$|:))?(?:WorldName(?:$|:)(?&lt;pairWorldName&gt;[^:]*)(?:$|:))?(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-33"><a href="#示例-33" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">261|2023-05-26T21:37:40.5600000-04:00|Add|40008953|BNpcID|3F5A|BNpcNameID|304E|CastTargetID|E0000000|CurrentMP|10000|CurrentWorldID|65535|Heading|-3.1416|Level|90|MaxHP|69200|MaxMP|10000|ModelStatus|18432|Name|Golbez&#x27;s Shadow|NPCTargetID|E0000000|PosX|100.0000|PosY|100.0000|PosZ|0.0300|Radius|7.5000|Type|2|WorldID|65535|9d9028a8e087e4c3</span><br><span class="line">261|2023-05-26T21:39:41.2920000-04:00|Change|10001234|CurrentMP|2400|Heading|-2.3613|2f5ff0a91385050a</span><br><span class="line">261|2023-05-26T21:39:42.7380000-04:00|Remove|40008AA0|f4b30f181245b5da</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[21:37:40.560] 261 105:Add:40008953:BNpcID:3F5A:BNpcNameID:304E:CastTargetID:E0000000:CurrentMP:10000:CurrentWorldID:65535:Heading:-3.1416:Level:90:MaxHP:69200:MaxMP:10000:ModelStatus:18432:Name:Golbez&#x27;s Shadow:NPCTargetID:E0000000:PosX:100.0000:PosY:100.0000:PosZ:0.0300:Radius:7.5000:Type:2:WorldID:65535</span><br><span class="line">[21:39:41.292] 261 105:Change:10001234:CurrentMP:2400:Heading:-2.3613</span><br><span class="line">[21:39:42.738] 261 105:Remove:40008AA0</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=CombatantMemory&lang=en-US) -->

<p><a name="line262"></a></p>
<h3 id="Line-262-0x106-RSV（RSVData）"><a href="#Line-262-0x106-RSV（RSVData）" class="headerlink" title="Line 262 (0x106): RSV（RSVData）"></a>Line 262 (0x106): RSV（RSVData）</h3><p>SE会对当前版本的零式、绝境战中的游戏数据进行混淆，其中包括技能名称、状态名称和战斗信息。这是为了防止数据挖掘。不过，由于这些技能名称需要由游戏客户端显示，所以它们会在玩家进入对应副本区域时，作为网络数据发送给客户端。<br>在下一个大版本更新后，这些数据通常会被更新为真实名称。</p>
<p>此类日志行会显示当前区域、当前语言下，游戏中那些仍处于混淆状态的技能名等信息。</p>
<p>注意，如果技能名称中包含<code>:</code>字符，网络日志行并不会对其进行转义处理。因此，推荐使用网络日志的格式来解析这些行。</p>
<p>这些值中可能包含游戏客户端可识别的特殊unicode占位符，例如当前玩家的名字。<br>换行符（CR和LF）会被转义，需要在解析时还原。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=RSVData&lang=en-US) -->

<h4 id="日志结构-34"><a href="#日志结构-34" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">262|[timestamp]|[locale]|[?]|[key]|[value]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 262 106:[locale]:[?]:[key]:[value]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-34"><a href="#正则表达式-34" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;262)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;locale&gt;[^|]*)\|(?:[^|]*\|)(?&lt;key&gt;[^|]*)\|(?&lt;value&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 262 (?&lt;type&gt;106):(?&lt;locale&gt;[^:]*):[^:]*:(?&lt;key&gt;[^:]*):(?&lt;value&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-34"><a href="#示例-34" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">262|2023-04-21T23:24:05.8320000-04:00|en|0000001C|_rsv_32789_-1_1_0_1_SE2DC5B04_EE2DC5B04|Run: ****mi* (Omega Version)|34159b6f2093e889</span><br><span class="line">262|2023-04-21T23:24:05.9210000-04:00|en|00000031|_rsv_3448_-1_1_1_0_S74CFC3B0_E74CFC3B0|Burning with dynamis inspired by Omega&#x27;s passion.|ce9d03bb211d894f</span><br><span class="line">262|2023-04-21T23:24:06.0630000-04:00|en|00000051|_rsv_35827_-1_1_0_0_S13095D61_E13095D61|Further testing is required.�����, ���)������ ��, assist me with this evaluation.|38151741aad7fe51</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[23:24:05.832] 262 106:en:0000001C:_rsv_32789_-1_1_0_1_SE2DC5B04_EE2DC5B04:Run: ****mi* (Omega Version)</span><br><span class="line">[23:24:05.921] 262 106:en:00000031:_rsv_3448_-1_1_1_0_S74CFC3B0_E74CFC3B0:Burning with dynamis inspired by Omega&#x27;s passion.</span><br><span class="line">[23:24:06.063] 262 106:en:00000051:_rsv_35827_-1_1_0_0_S13095D61_E13095D61:Further testing is required.�����, ���)������ ��, assist me with this evaluation.</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=RSVData&lang=en-US) -->

<p><a name="line263"></a></p>
<h3 id="Line-263-0x107-开始使用-额外（StartsUsingExtra）"><a href="#Line-263-0x107-开始使用-额外（StartsUsingExtra）" class="headerlink" title="Line 263 (0x107): 开始使用-额外（StartsUsingExtra）"></a>Line 263 (0x107): 开始使用-额外（StartsUsingExtra）</h3><p>此日志行包含了<code>ActorCast</code>或者<code>StartsUsing</code>网络数据的额外信息。</p>
<p>此日志行总会在开始使用技能<code>StartUsing</code>时输出一次。</p>
<p>如果此技能是无目标的，<code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>&#x2F;<code>heading</code>会表示施法者自身的位置和朝向。</p>
<p>如果此技能需要选中某个单位施放，<code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>表示目标当前的位置，<code>heading</code>表示施法者相对目标的角度。</p>
<p>如果此技能的目标为地面位置（例如青魔的投弹），那么<code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>&#x2F;<code>heading</code>会表示目标地点的位置。</p>
<p>如果此技能朝某个方向施放（例如青魔的水流吐息），<code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>表示施法者的位置，<code>heading</code>表示技能施放的方向。</p>
<p>需要注意的是，判定技能类型的关键在于该技能是如何<em>选中目标</em>的，而非该技能实际的AOE形状。例如，贤者的魂灵风息会造成直线范围伤害，似乎是<em>朝着某方向施放</em>的技能。然而，该技能实际上是选中目标单位施放的，如果该目标在施法过程中移动，技能的施放方向和目标也会随之改变。因此，如果某技能有目标（而目标不是施法者本身也不是环境），那么目标的实际位置会比技能的AOE类型更能准确反映技能的命中位置。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=StartsUsingExtra&lang=en-US) -->

<h4 id="日志结构-35"><a href="#日志结构-35" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">263|[timestamp]|[sourceId]|[id]|[x]|[y]|[z]|[heading]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 263 107:[sourceId]:[id]:[x]:[y]:[z]:[heading]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-35"><a href="#正则表达式-35" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;263)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 263 (?&lt;type&gt;107):(?&lt;sourceId&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-35"><a href="#示例-35" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">263|2023-11-02T20:53:52.1900000-04:00|10001234|0005|-98.697|-102.359|10.010|1.524|dd76513d3dd59f5a</span><br><span class="line">263|2023-11-02T21:39:18.6200000-04:00|10001234|0085|-6.653|747.154|130.009|2.920|39e0326a5ee47b77</span><br><span class="line">263|2023-11-02T21:39:12.6940000-04:00|40000D6E|8C45|-14.344|748.558|130.009|-3.142|9c7e421d4e93de7c</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[20:53:52.190] 263 107:10001234:0005:-98.697:-102.359:10.010:1.524</span><br><span class="line">[21:39:18.620] 263 107:10001234:0085:-6.653:747.154:130.009:2.920</span><br><span class="line">[21:39:12.694] 263 107:40000D6E:8C45:-14.344:748.558:130.009:-3.142</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=StartsUsingExtra&lang=en-US) -->

<p><a name="line264"></a></p>
<h3 id="Line-264-0x108-能力-额外（AbilityExtra）"><a href="#Line-264-0x108-能力-额外（AbilityExtra）" class="headerlink" title="Line 264 (0x108): 能力-额外（AbilityExtra）"></a>Line 264 (0x108): 能力-额外（AbilityExtra）</h3><p>此日志行包含了<code>Ability</code>或<code>NetworkAOEAbility</code>的额外网络数据信息。</p>
<p>此日志行总会在某技能生效后输出，无论该技能是否拥有对应的开始使用<code>StartUsing</code>日志行。</p>
<p>如果此技能没有目标，或只影响了一个目标，<code>dataFlag</code>值为<code>0</code>， <code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>字段为空白。</p>
<p>如果此技能的目标是地面，例如庇护所&#x2F;野战治疗阵&#x2F;法系3段LB，<code>dataFlag</code>值会是1，<code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>&#x2F;<code>heading</code>字段则表示选中的地面位置和相对方向。</p>
<p>如果此技能朝某个方向施放（例如直线或扇形AOE），此时<code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>指示施法者本人的位置，而<code>heading</code>表示技能施放的对应方向。</p>
<p>如果从网络数据包中解析此日志行时出现了某些错误，<code>dataFlag</code>会显示为<code>256</code>,<code>x</code>&#x2F;<code>y</code>&#x2F;<code>z</code>&#x2F;<code>heading</code>&#x2F;<code>animationTargetId</code>字段为空白。</p>
<p><code>globalEffectCounter</code>等价于<a href="#line-21-0x15-networkability">网络-能力</a>和<a href="#line-22-0x16-networkaoeability">网络-AOE能力</a>中的<code>sequence</code>字段。</p>
<p><code>animationTargetId</code>是指作为技能施放位置基准的实体ID。例如，贤者的失衡以本人为中心施放，那么此技能的<code>animationTargetId</code>即为贤者本人的ID；但贤者的发炎以选定目标为中心施放，该技能的<code>animationTargetId</code>即为选中目标的ID。</p>
<p>需要注意的是，不同于<a href="#line-263-0x107-startsusingextra">开始使用-额外</a>，此日志行不关心技能是否有目标对象，因为这里记录的是技能结算时的快照定位。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=AbilityExtra&lang=en-US) -->

<h4 id="日志结构-36"><a href="#日志结构-36" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">264|[timestamp]|[sourceId]|[id]|[globalEffectCounter]|[dataFlag]|[x]|[y]|[z]|[heading]|[animationTargetId]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 264 108:[sourceId]:[id]:[globalEffectCounter]:[dataFlag]:[x]:[y]:[z]:[heading]:[animationTargetId]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-36"><a href="#正则表达式-36" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;264)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;sourceId&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;globalEffectCounter&gt;[^|]*)\|(?&lt;dataFlag&gt;[^|]*)\|(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|(?&lt;animationTargetId&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 264 (?&lt;type&gt;108):(?&lt;sourceId&gt;[^:]*):(?&lt;id&gt;[^:]*):(?&lt;globalEffectCounter&gt;[^:]*):(?&lt;dataFlag&gt;[^:]*):(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*):(?&lt;heading&gt;[^:]*):(?&lt;animationTargetId&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-36"><a href="#示例-36" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">264|2023-11-04T17:53:45.2940000+01:00|4000619F|8BC0|00000664|0||||3.141|1234ABCD|fc680d77fb5897f1</span><br><span class="line">264|2023-11-04T17:53:45.2940000+01:00|4000619E|8BC0|00000663|1|0.000|0.000|0.000|-1.589|1234ABCD|711909381311a052</span><br><span class="line">264|2023-11-04T17:53:45.2940000+01:00|4000619D|8BC0|00000662|1|1.000|2.000|3.000|1.570|1234ABCD|7e82907c710ee781</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[17:53:45.294] 264 108:4000619F:8BC0:00000664:0::::3.141:1234ABCD</span><br><span class="line">[17:53:45.294] 264 108:4000619E:8BC0:00000663:1:0.000:0.000:0.000:-1.589:1234ABCD</span><br><span class="line">[17:53:45.294] 264 108:4000619D:8BC0:00000662:1:1.000:2.000:3.000:1.570:1234ABCD</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=AbilityExtra&lang=en-US) -->

<p><a name="line265"></a></p>
<h3 id="Line-265-0x109-任务搜索器设定（ContentFinderSettings）"><a href="#Line-265-0x109-任务搜索器设定（ContentFinderSettings）" class="headerlink" title="Line 265 (0x109): 任务搜索器设定（ContentFinderSettings）"></a>Line 265 (0x109): 任务搜索器设定（ContentFinderSettings）</h3><p>此日志行记录了当前任务搜索器的设定。<code>inContentFinderContent</code>表示当前区域是否支持任务搜索器设置。</p>
<p>解除限制<code>unrestrictedParty</code>、最低品级<code>minimalItemLevel</code>、超越之力无效化<code>silenceEcho</code>、自由探索<code>explorerMode</code>的值是从游戏中直接拉取的。截至6.5.1版本，<code>0</code>表示该设定没有勾选，<code>1</code>表示该设定生效中。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ContentFinderSettings&lang=en-US) -->

<h4 id="日志结构-37"><a href="#日志结构-37" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">265|[timestamp]|[zoneId]|[zoneName]|[inContentFinderContent]|[unrestrictedParty]|[minimalItemLevel]|[silenceEcho]|[explorerMode]|[levelSync]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 265 109:[zoneId]:[zoneName]:[inContentFinderContent]:[unrestrictedParty]:[minimalItemLevel]:[silenceEcho]:[explorerMode]:[levelSync]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-37"><a href="#正则表达式-37" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;265)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;zoneId&gt;[^|]*)\|(?&lt;zoneName&gt;[^|]*)\|(?&lt;inContentFinderContent&gt;[^|]*)\|(?&lt;unrestrictedParty&gt;[^|]*)\|(?&lt;minimalItemLevel&gt;[^|]*)\|(?&lt;silenceEcho&gt;[^|]*)\|(?&lt;explorerMode&gt;[^|]*)\|(?&lt;levelSync&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 265 (?&lt;type&gt;109):(?&lt;zoneId&gt;[^:]*):(?&lt;zoneName&gt;[^:]*):(?&lt;inContentFinderContent&gt;[^:]*):(?&lt;unrestrictedParty&gt;[^:]*):(?&lt;minimalItemLevel&gt;[^:]*):(?&lt;silenceEcho&gt;[^:]*):(?&lt;explorerMode&gt;[^:]*):(?&lt;levelSync&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-37"><a href="#示例-37" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">265|2024-01-04T21:11:46.6810000-05:00|86|Middle La Noscea|False|0|0|0|0|0|00eaa235236e5121</span><br><span class="line">265|2024-01-04T21:12:02.4720000-05:00|40C|Sastasha|True|0|0|0|1|0|2ff0a9f6e1a54176</span><br><span class="line">265|2024-01-04T21:12:35.0540000-05:00|415|the Bowl of Embers|True|1|1|1|0|1|55fdf5241f168a5e</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[21:11:46.681] 265 109:86:Middle La Noscea:False:0:0:0:0:0</span><br><span class="line">[21:12:02.472] 265 109:40C:Sastasha:True:0:0:0:1:0</span><br><span class="line">[21:12:35.054] 265 109:415:the Bowl of Embers:True:1:1:1:0:1</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=ContentFinderSettings&lang=en-US) -->

<p><a name="line266"></a></p>
<h3 id="Line-266-0x10A-NPC喊话（NpcYell）"><a href="#Line-266-0x10A-NPC喊话（NpcYell）" class="headerlink" title="Line 266 (0x10A): NPC喊话（NpcYell）"></a>Line 266 (0x10A): NPC喊话（NpcYell）</h3><p>当收到<code>NPCYell</code>类型的数据包时，输出此日志行，表示某NPC喊出了一段台词（例如绝巴哈的奈尔台词）。</p>
<p><code>npcNameId</code>与<code>npcYellId</code>（十六进制）可以对应地在<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/BNpcName.csv">BNpcName</a>和<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/NpcYell.csv">NpcYell</a>表格中查到。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=NpcYell&lang=en-US) -->

<h4 id="日志结构-38"><a href="#日志结构-38" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">266|[timestamp]|[npcId]|[npcNameId]|[npcYellId]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 266 10A:[npcId]:[npcNameId]:[npcYellId]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-38"><a href="#正则表达式-38" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;266)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;npcId&gt;[^|]*)\|(?&lt;npcNameId&gt;[^|]*)\|(?&lt;npcYellId&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 266 (?&lt;type&gt;10A):(?&lt;npcId&gt;[^:]*):(?&lt;npcNameId&gt;[^:]*):(?&lt;npcYellId&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-38"><a href="#示例-38" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">266|2024-02-29T15:15:40.5850000-08:00|4001F001|02D2|07AF|8f731e1760bdcfc9</span><br><span class="line">266|2024-02-29T15:15:54.5570000-08:00|4001F002|02D4|07BE|ae0674ec1e496642</span><br><span class="line">266|2024-02-25T16:02:15.0300000-05:00|E0000000|6B10|2B29|65aa9c0faa3d0e16</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[15:15:40.585] 266 10A:4001F001:02D2:07AF</span><br><span class="line">[15:15:54.557] 266 10A:4001F002:02D4:07BE</span><br><span class="line">[16:02:15.030] 266 10A:E0000000:6B10:2B29</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=NpcYell&lang=en-US) -->

<p><a name="line267"></a></p>
<h3 id="Line-267-0x10B-战斗对话2（BattleTalk2）"><a href="#Line-267-0x10B-战斗对话2（BattleTalk2）" class="headerlink" title="Line 267 (0x10B): 战斗对话2（BattleTalk2）"></a>Line 267 (0x10B): 战斗对话2（BattleTalk2）</h3><p>当收到<code>BattleTalk2</code>类型的数据包时，输出此日志行；表现为副本战斗中，在屏幕中间弹出对话框文本。</p>
<p><code>npcNameId</code>与<code>instanceContentTextId</code>（十六进制）可以对应地在<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/BNpcName.csv">BNpcName</a>和<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/InstanceContentTextData.csv">InstanceContentTextData</a>表格中查到。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=BattleTalk2&lang=en-US) -->

<h4 id="日志结构-39"><a href="#日志结构-39" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">267|[timestamp]|[npcId]|[instance]|[npcNameId]|[instanceContentTextId]|[displayMs]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 267 10B:[npcId]:[instance]:[npcNameId]:[instanceContentTextId]:[displayMs]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-39"><a href="#正则表达式-39" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;267)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;npcId&gt;[^|]*)\|(?&lt;instance&gt;[^|]*)\|(?&lt;npcNameId&gt;[^|]*)\|(?&lt;instanceContentTextId&gt;[^|]*)\|(?&lt;displayMs&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 267 (?&lt;type&gt;10B):(?&lt;npcId&gt;[^:]*):(?&lt;instance&gt;[^:]*):(?&lt;npcNameId&gt;[^:]*):(?&lt;instanceContentTextId&gt;[^:]*):(?&lt;displayMs&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-39"><a href="#示例-39" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">267|2024-02-29T16:22:41.4210000-08:00|00000000|80034E2B|02CE|840C|5000|0|2|0|0|6f6ccb784c36e978</span><br><span class="line">267|2024-02-29T16:22:17.9230000-08:00|00000000|80034E2B|02D2|8411|7000|0|2|0|0|be1dee98cdcd67a4</span><br><span class="line">267|2024-02-29T16:23:00.6680000-08:00|4001FFC4|80034E2B|02D5|840F|3000|0|2|0|0|cffef89907b5345b</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[16:22:41.421] 267 10B:00000000:80034E2B:02CE:840C:5000:0:2:0:0</span><br><span class="line">[16:22:17.923] 267 10B:00000000:80034E2B:02D2:8411:7000:0:2:0:0</span><br><span class="line">[16:23:00.668] 267 10B:4001FFC4:80034E2B:02D5:840F:3000:0:2:0:0</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=BattleTalk2&lang=en-US) -->

<p><a name="line268"></a></p>
<h3 id="Line-268-0x10C-战斗倒计时（Countdown）"><a href="#Line-268-0x10C-战斗倒计时（Countdown）" class="headerlink" title="Line 268 (0x10C): 战斗倒计时（Countdown）"></a>Line 268 (0x10C): 战斗倒计时（Countdown）</h3><p>战斗倒计时开始时，输出此日志行。</p>
<p>当<code>result</code>为<code>00</code>时表示此倒计时成功进行，非0值意味着该倒计时未能成功进行（例如，已经有一个正在进行的倒计时，或战斗已经开始）。</p>
<p>注意：截至目前，倒计时结束后不会发送网络数据包，因此没有日志行可以反映倒计时结束后的“开始！”消息。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=Countdown&lang=en-US) -->

<h4 id="日志结构-40"><a href="#日志结构-40" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">268|[timestamp]|[id]|[worldId]|[countdownTime]|[result]|[name]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 268 10C:[id]:[worldId]:[countdownTime]:[result]:[name]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-40"><a href="#正则表达式-40" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;268)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;worldId&gt;[^|]*)\|(?&lt;countdownTime&gt;[^|]*)\|(?&lt;result&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 268 (?&lt;type&gt;10C):(?&lt;id&gt;[^:]*):(?&lt;worldId&gt;[^:]*):(?&lt;countdownTime&gt;[^:]*):(?&lt;result&gt;[^:]*):(?&lt;name&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-40"><a href="#示例-40" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">268|2024-02-29T15:19:48.6250000-08:00|10FF0001|0036|13|00|Tini Poutini|0ab734bdbcb55902</span><br><span class="line">268|2024-02-29T15:34:16.4280000-08:00|10FF0002|0036|20|00|Potato Chippy|0ab734bdbcb55902</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[15:19:48.625] 268 10C:10FF0001:0036:13:00:Tini Poutini</span><br><span class="line">[15:34:16.428] 268 10C:10FF0002:0036:20:00:Potato Chippy</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=Countdown&lang=en-US) -->

<p><a name="line269"></a></p>
<h3 id="Line-269-0x10D-倒计时取消（CountdownCancel）"><a href="#Line-269-0x10D-倒计时取消（CountdownCancel）" class="headerlink" title="Line 269 (0x10D): 倒计时取消（CountdownCancel）"></a>Line 269 (0x10D): 倒计时取消（CountdownCancel）</h3><p>此日志行会在战斗倒计时被取消时输出。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=CountdownCancel&lang=en-US) -->

<h4 id="日志结构-41"><a href="#日志结构-41" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">269|[timestamp]|[id]|[worldId]|[name]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 269 10D:[id]:[worldId]:[name]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-41"><a href="#正则表达式-41" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;269)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;worldId&gt;[^|]*)\|(?&lt;name&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 269 (?&lt;type&gt;10D):(?&lt;id&gt;[^:]*):(?&lt;worldId&gt;[^:]*):(?&lt;name&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-41"><a href="#示例-41" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">269|2024-02-29T15:19:55.3490000-08:00|10FF0001|0036|Tini Poutini|e17efb9d120adea0</span><br><span class="line">269|2024-02-29T15:34:22.8940000-08:00|10FF0002|0036|Potato Chippy|e17efb9d120adea0</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[15:19:55.349] 269 10D:10FF0001:0036:Tini Poutini</span><br><span class="line">[15:34:22.894] 269 10D:10FF0002:0036:Potato Chippy</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=CountdownCancel&lang=en-US) -->

<p><a name="line270"></a></p>
<h3 id="Line-270-0x10E-角色移动（ActorMove）"><a href="#Line-270-0x10E-角色移动（ActorMove）" class="headerlink" title="Line 270 (0x10E): 角色移动（ActorMove）"></a>Line 270 (0x10E): 角色移动（ActorMove）</h3><p>当某个角色移动到一个新位置，客户端会收到相应的<code>ActorMove</code>数据包。这适用于检测某些即将上天、进行快速移动的boss的动作（例如，绝神兵中的泰坦会在上天前转头，面朝接下来跳跃的方向）。FFXIV客户端会根据收到的起始位置和目标位置进行插值，以显示平滑的移动效果。</p>
<p>目前，只有非玩家角色（<code>id &gt;= 0x40000000</code>）的移动会输出此日志行。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ActorMove&lang=en-US) -->

<h4 id="日志结构-42"><a href="#日志结构-42" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">270|[timestamp]|[id]|[heading]|[?]|[?]|[x]|[y]|[z]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 270 10E:[id]:[heading]:[?]:[?]:[x]:[y]:[z]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-42"><a href="#正则表达式-42" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;270)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 270 (?&lt;type&gt;10E):(?&lt;id&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-42"><a href="#示例-42" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">270|2024-03-02T13:14:37.0430000-08:00|4000F1D3|-2.2034|0002|0014|102.0539|118.1982|0.2136|4601ae28c0b481d8</span><br><span class="line">270|2024-03-02T13:18:30.2960000-08:00|4000F44E|2.8366|0002|0014|98.2391|101.9623|0.2136|2eed500a1505cb03</span><br><span class="line">270|2024-03-02T13:18:30.6070000-08:00|4000F44E|-2.5710|0002|0014|98.2391|101.9318|0.2136|51bc63077eb489f3</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[13:14:37.043] 270 10E:4000F1D3:-2.2034:0002:0014:102.0539:118.1982:0.2136</span><br><span class="line">[13:18:30.296] 270 10E:4000F44E:2.8366:0002:0014:98.2391:101.9623:0.2136</span><br><span class="line">[13:18:30.607] 270 10E:4000F44E:-2.5710:0002:0014:98.2391:101.9318:0.2136</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=ActorMove&lang=en-US) -->

<p><a name="line271"></a></p>
<h3 id="Line-271-0x10F-角色位置设定（ActorSetPos）"><a href="#Line-271-0x10F-角色位置设定（ActorSetPos）" class="headerlink" title="Line 271 (0x10F): 角色位置设定（ActorSetPos）"></a>Line 271 (0x10F): 角色位置设定（ActorSetPos）</h3><p>当角色在没有插值的情况下“瞬移”到某个位置（例如，绝神兵中火神分身出现）时，客户端会收到相应的<code>ActorSetPos</code>数据包。</p>
<p>此日志行有时会与其他数据（例如，其他日志行或网络数据包）一同出现，使得该角色变得可见的同时播放动画。例如，以下日志行（或网络数据包）将会顺次发送，以表现一个怪物跳向了某个新位置：</p>
<ol>
<li>与<strong>跳跃动画</strong>相关的<a href="#line-21-0x15-networkability">网络-能力</a>行</li>
<li><code>角色位置设定</code>行，改变该角色的位置</li>
<li>与<strong>落地动画</strong>相关的另一个<code>网络-能力</code>行（或其他数据包）</li>
</ol>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ActorSetPos&lang=en-US) -->

<h4 id="日志结构-43"><a href="#日志结构-43" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">271|[timestamp]|[id]|[heading]|[?]|[?]|[x]|[y]|[z]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 271 10F:[id]:[heading]:[?]:[?]:[x]:[y]:[z]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-43"><a href="#正则表达式-43" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;271)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;heading&gt;[^|]*)\|(?:[^|]*\|)&#123;2&#125;(?&lt;x&gt;[^|]*)\|(?&lt;y&gt;[^|]*)\|(?&lt;z&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 271 (?&lt;type&gt;10F):(?&lt;id&gt;[^:]*):(?&lt;heading&gt;[^:]*)(?::[^:]*)&#123;2&#125;:(?&lt;x&gt;[^:]*):(?&lt;y&gt;[^:]*):(?&lt;z&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-43"><a href="#示例-43" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">271|2024-03-02T13:20:50.9620000-08:00|4000F3B7|-2.3563|00|00|116.2635|116.2635|0.0000|e3fa606a5d0b5d57</span><br><span class="line">271|2024-03-02T13:20:50.9620000-08:00|4000F3B5|-1.5709|00|00|107.0000|100.0000|0.0000|5630c8f4e2ffac77</span><br><span class="line">271|2024-03-02T13:20:50.9620000-08:00|4000F3BB|0.2617|00|00|97.4118|90.3407|0.0000|01d53a3800c6238f</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[13:20:50.962] 271 10F:4000F3B7:-2.3563:00:00:116.2635:116.2635:0.0000</span><br><span class="line">[13:20:50.962] 271 10F:4000F3B5:-1.5709:00:00:107.0000:100.0000:0.0000</span><br><span class="line">[13:20:50.962] 271 10F:4000F3BB:0.2617:00:00:97.4118:90.3407:0.0000</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=ActorSetPos&lang=en-US) -->

<p><a name="line272"></a></p>
<h3 id="Line-272-0x110-NPC生成-额外（SpawnNpcExtra）"><a href="#Line-272-0x110-NPC生成-额外（SpawnNpcExtra）" class="headerlink" title="Line 272 (0x110): NPC生成-额外（SpawnNpcExtra）"></a>Line 272 (0x110): NPC生成-额外（SpawnNpcExtra）</h3><p>此日志行包含了<code>NpcSpawn</code>数据包中的某些特定信息，这些信息不会在其他日志行中提供。</p>
<p><code>tetherId</code>字段等价于<a href="#line-35-0x23-networktether">网络-连线</a>中的<code>id</code>字段，与<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/Channeling.csv">此表格</a>中的ID对应。</p>
<p><code>animationState</code>字段表示该实体生成时的初始动画状态，对应<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/BNpcState.csv">BNpcState</a>表格。</p>
<p>需要注意的是，若实体生成时已带有<code>tetherId</code>或<code>animationState</code>值，则不会存在对应的<a href="#line-35-0x23-networktether">网络-连线</a>或<a href="#line-273-0x111-actorcontrolextra">角色控制-额外</a>行来显示此信息。</p>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=SpawnNpcExtra&lang=en-US) -->

<h4 id="日志结构-44"><a href="#日志结构-44" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">272|[timestamp]|[id]|[parentId]|[tetherId]|[animationState]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 272 110:[id]:[parentId]:[tetherId]:[animationState]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-44"><a href="#正则表达式-44" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;272)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;parentId&gt;[^|]*)\|(?&lt;tetherId&gt;[^|]*)\|(?&lt;animationState&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 272 (?&lt;type&gt;110):(?&lt;id&gt;[^:]*):(?&lt;parentId&gt;[^:]*):(?&lt;tetherId&gt;[^:]*):(?&lt;animationState&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-44"><a href="#示例-44" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">272|2024-03-02T15:45:44.2260000-05:00|4000226B|E0000000|0000|01|89d2d9b95839548f</span><br><span class="line">272|2024-03-02T15:45:44.2260000-05:00|4000226D|E0000000|0000|01|b5e6a59cc0b2c1f3</span><br><span class="line">272|2024-03-03T01:44:39.5570000-08:00|400838F4|E0000000|0000|00|32d8c0e768aeb0e7</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[15:45:44.226] 272 110:4000226B:E0000000:0000:01</span><br><span class="line">[15:45:44.226] 272 110:4000226D:E0000000:0000:01</span><br><span class="line">[01:44:39.557] 272 110:400838F4:E0000000:0000:00</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=SpawnNpcExtra&lang=en-US) -->

<p><a name="line273"></a></p>
<h3 id="Line-273-0x111-角色控制-额外（ActorControlExtra）"><a href="#Line-273-0x111-角色控制-额外（ActorControlExtra）" class="headerlink" title="Line 273 (0x111): 角色控制-额外（ActorControlExtra）"></a>Line 273 (0x111): 角色控制-额外（ActorControlExtra）</h3><p>此日志行包含了<code>ActorControlExtra</code>数据包中的某些特定信息，这些信息不会在其他日志行中提供。</p>
<p>此日志行包含一个服务器发送的数值字段<code>category</code>，表示控制类别。</p>
<p><code>param1</code>到<code>param4</code>是与事件相关的额外数据，具体含义取决于该控制事件的类型。</p>
<p>鉴于数据量庞大，目前生成的日志行类别较为有限，但未来可能会逐步扩展支持的类型：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th><code>category</code></th>
</tr>
</thead>
<tbody><tr>
<td>SetAnimationState</td>
<td>0x003E (62)</td>
</tr>
<tr>
<td>DisplayPublicContentTextMessage</td>
<td>0x0834 (2100)</td>
</tr>
</tbody></table>
<ul>
<li><code>SetAnimationState</code> - 用于设置该实体的动画状态。<ul>
<li><code>param1</code>，类似于<a href="#line-272-0x110-spawnnpcextra">NPC生成-额外</a>中的<code>animationState</code>字段，可在<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/BNpcState.csv">BNpcState</a>表格中查到。</li>
<li><code>param2</code>用于改变该实体动画在游戏内的渲染方式，具体机制仍需进一步研究。</li>
</ul>
</li>
<li><code>DisplayPublicContentTextMessage</code> - 用于在游戏内聊天窗显示日志消息。<ul>
<li><code>param1</code>通常固定为<code>0x0</code></li>
<li><code>param2</code>对应<a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/PublicContentTextData.csv">PublicContentTextData</a>表格中的内容</li>
<li><code>param3</code>与<code>param4</code>为部分消息中使用的可选字段</li>
</ul>
</li>
</ul>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ActorControlExtra&lang=en-US) -->

<h4 id="日志结构-45"><a href="#日志结构-45" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">273|[timestamp]|[id]|[category]|[param1]|[param2]|[param3]|[param4]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 273 111:[id]:[category]:[param1]:[param2]:[param3]:[param4]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-45"><a href="#正则表达式-45" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;273)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;category&gt;[^|]*)\|(?&lt;param1&gt;[^|]*)\|(?&lt;param2&gt;[^|]*)\|(?&lt;param3&gt;[^|]*)\|(?&lt;param4&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 273 (?&lt;type&gt;111):(?&lt;id&gt;[^:]*):(?&lt;category&gt;[^:]*):(?&lt;param1&gt;[^:]*):(?&lt;param2&gt;[^:]*):(?&lt;param3&gt;[^:]*):(?&lt;param4&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-45"><a href="#示例-45" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">273|2023-12-05T10:57:43.4770000-08:00|4000A145|003E|1|0|0|0|06e7eff4a949812c</span><br><span class="line">273|2023-12-05T10:58:00.3460000-08:00|4000A144|003E|1|1|0|0|a4af9f90928636a3</span><br><span class="line">273|2024-03-18T20:33:22.7130000-04:00|400058CA|0834|0|848|FA0|0|c862c35712ed4122</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[10:57:43.477] 273 111:4000A145:003E:1:0:0:0</span><br><span class="line">[10:58:00.346] 273 111:4000A144:003E:1:1:0:0</span><br><span class="line">[20:33:22.713] 273 111:400058CA:0834:0:848:FA0:0</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=ActorControlExtra&lang=en-US) -->

<p><a name="line274"></a></p>
<h3 id="Line-274-0x112-角色自身控制-额外（ActorControlSelfExtra）"><a href="#Line-274-0x112-角色自身控制-额外（ActorControlSelfExtra）" class="headerlink" title="Line 274 (0x112): 角色自身控制-额外（ActorControlSelfExtra）"></a>Line 274 (0x112): 角色自身控制-额外（ActorControlSelfExtra）</h3><p>此日志行包含了<code>ActorControlSelf</code>数据包中的某些特定信息，这些信息不会在其他日志行中提供。</p>
<p>此日志行包含一个服务器发送的数值字段<code>category</code>，表示控制类别。</p>
<p><code>param1</code>到<code>param6</code>是与事件相关的额外数据，具体含义取决于该控制事件的类型。</p>
<p>鉴于数据量庞大，目前生成的日志行类别较为有限，但未来可能会逐步扩展支持的类型：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th><code>category</code></th>
</tr>
</thead>
<tbody><tr>
<td>DisplayLogMessage</td>
<td>0x020F (527)</td>
</tr>
<tr>
<td>DisplayLogMessageParams</td>
<td>0x0210 (528)</td>
</tr>
</tbody></table>
<ul>
<li><code>DisplayLogMessage</code> - 用于在游戏内聊天窗显示日志消息。<ul>
<li><code>param1</code>类似<br><a href="#line-41-0x29-systemlogmessage">系统日志消息</a>中的<code>id</code>字段， 与<br><a target="_blank" rel="noopener" href="https://github.com/xivapi/ffxiv-datamining/blob/master/csv/LogMessage.csv">日志消息表</a>有关。</li>
<li>剩余参数可在日志消息栏中直接读取。</li>
</ul>
</li>
<li><code>DisplayLogMessageParams</code> - 用于在游戏内聊天窗显示日志消息。<ul>
<li>类似于<code>DisplayLogMessage</code>，但<code>param2</code>总是显示为对象ID。</li>
</ul>
</li>
</ul>
<!-- AUTO-GENERATED-CONTENT:START (logLines:type=ActorControlSelfExtra&lang=en-US) -->

<h4 id="日志结构-46"><a href="#日志结构-46" class="headerlink" title="日志结构"></a>日志结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Structure:</span><br><span class="line">274|[timestamp]|[id]|[category]|[param1]|[param2]|[param3]|[param4]|[param5]|[param6]</span><br><span class="line"></span><br><span class="line">Parsed Log Line Structure:</span><br><span class="line">[timestamp] 274 112:[id]:[category]:[param1]:[param2]:[param3]:[param4]:[param5]:[param6]</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式-46"><a href="#正则表达式-46" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Regex:</span><br><span class="line">^(?&lt;type&gt;274)\|(?&lt;timestamp&gt;[^|]*)\|(?&lt;id&gt;[^|]*)\|(?&lt;category&gt;[^|]*)\|(?&lt;param1&gt;[^|]*)\|(?&lt;param2&gt;[^|]*)\|(?&lt;param3&gt;[^|]*)\|(?&lt;param4&gt;[^|]*)\|(?&lt;param5&gt;[^|]*)\|(?&lt;param6&gt;[^|]*)\|</span><br><span class="line"></span><br><span class="line">Parsed Log Line Regex:</span><br><span class="line">(?&lt;timestamp&gt;^.&#123;14&#125;) 274 (?&lt;type&gt;112):(?&lt;id&gt;[^:]*):(?&lt;category&gt;[^:]*):(?&lt;param1&gt;[^:]*):(?&lt;param2&gt;[^:]*):(?&lt;param3&gt;[^:]*):(?&lt;param4&gt;[^:]*):(?&lt;param5&gt;[^:]*):(?&lt;param6&gt;[^:]*)(?:$|:)</span><br></pre></td></tr></table></figure>

<h4 id="示例-46"><a href="#示例-46" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Network Log Line Examples:</span><br><span class="line">274|2024-01-10T19:28:37.5000000-05:00|10001234|020F|04D0|0|93E0|0|0|0|d274429622d0c27e</span><br><span class="line">274|2024-02-15T19:35:41.9950000-05:00|10001234|020F|236D|0|669|0|0|0|d274429622d0c27e</span><br><span class="line">274|2024-03-21T20:45:41.3680000-04:00|10001234|0210|129D|10001234|F|0|0|0|d274429622d0c27e</span><br><span class="line"></span><br><span class="line">Parsed Log Line Examples:</span><br><span class="line">[19:28:37.500] 274 112:10001234:020F:04D0:0:93E0:0:0:0</span><br><span class="line">[19:35:41.995] 274 112:10001234:020F:236D:0:669:0:0:0</span><br><span class="line">[20:45:41.368] 274 112:10001234:0210:129D:10001234:F:0:0:0</span><br></pre></td></tr></table></figure>

<!-- AUTO-GENERATED-CONTENT:END (logLines:type=ActorControlSelfExtra&lang=en-US) -->

      
    </div>
    <footer class="article-footer">
      <a data-url="https://aofuyu.github.io/2025/08/09/logguide-cn/" data-id="cme385z3o0000hkut14koavyo" data-title="日志行与触发器（Log Lines and Triggers）" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Final-Fantasy-XIV-OverlayPlugin-Cactbot/" rel="tag">Final Fantasy XIV, OverlayPlugin, Cactbot</a></li></ul>

    </footer>
  </div>
  
    
  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Final-Fantasy-XIV-OverlayPlugin-Cactbot/" rel="tag">Final Fantasy XIV, OverlayPlugin, Cactbot</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Final-Fantasy-XIV-OverlayPlugin-Cactbot/" style="font-size: 10px;">Final Fantasy XIV, OverlayPlugin, Cactbot</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/08/09/logguide-cn/">日志行与触发器（Log Lines and Triggers）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>